import{a as fi,c as gi}from"./chunk-NITTWBUD.js";import{b as Ti,e as Fi,f as Ai,g as zi,h as Ri,l as Bi}from"./chunk-HAJ6EHSS.js";import{b as Li}from"./chunk-CSJQXZK5.js";import{D as xi,E as Ht,F as wi,H as Pi,R as Oi,U as Si,Z as Ut,_ as ki,a as oi,aa as Mi,ca as Ii,da as Di,ea as Ei,g as ci,k as _i,s as Vt,y as bi,z as yi}from"./chunk-OF25GNRS.js";import{G as ai,J as si,O as pi,U as Lt,V as li,W as yt,ca as ui,da as di,fa as mi,ga as hi,h as ni,q as ri,qa as Nt}from"./chunk-UIAR2PWW.js";import{a as G,b as q,c as lt}from"./chunk-BHGTYGA2.js";import{$c as Ne,$d as Ye,A as ye,Ab as O,Ad as je,Ca as Se,Cd as ee,Da as b,Db as P,Ea as y,Eb as l,Ec as Jt,Ee as ti,Fb as tt,Fc as et,Fe as Bt,Ga as Xt,Gb as U,Gc as Ft,Ge as ei,Hb as $,Hc as N,I as xe,Ib as Kt,Ie as ie,Jb as E,Jc as At,Jd as Qe,Kb as F,Kc as S,Kd as Ge,La as ft,Lb as z,Le as ne,Mb as m,Na as ke,Nb as Ee,Nc as Re,Oa as Me,Ob as v,Pb as Fe,Q as qt,Qb as R,Rb as B,Rd as qe,Sb as L,Tb as ot,Ub as gt,Uc as Be,Vb as _t,Vc as te,Wb as j,Wc as Q,Wd as st,Xa as a,Xb as x,Yd as Rt,Zc as Le,_a as Ot,_b as Ae,aa as we,ad as Ct,ba as dt,ca as Pe,cc as _,cf as ii,d as ge,dc as w,eb as M,ec as rt,ed as vt,ee as Ze,fb as It,gb as Ie,gd as Ve,ge as Xe,h as _e,he as Ke,ia as mt,ic as at,j as Ce,ja as Mt,jd as He,ka as Yt,kb as f,kd as Ue,lb as Dt,lf as ct,m as ve,ma as ut,mb as u,md as Tt,mf as kt,nb as C,o as Te,ob as St,pa as h,qb as D,qc as Et,qd as bt,rb as nt,sb as Z,ta as Oe,tb as X,tc as I,td as $e,tf as pt,ub as s,uf as Ci,v as H,va as T,vb as c,vf as vi,w as be,wa as Zt,wb as g,wc as ze,xa as Y,xb as K,ya as ht,yb as J,yd as We,ye as Je,zb as De,zd as zt}from"./chunk-5N3CNIC3.js";import{a as wt,b as Pt,d as W,e as fe}from"./chunk-HFDGAYQF.js";var nn=typeof IntersectionObserver<"u"?IntersectionObserver:class{constructor(){W(this,"root",null);W(this,"rootMargin","");W(this,"thresholds",[])}observe(){}unobserve(){}disconnect(){}takeRecords(){return[]}},on=new ut("[WA_INTERSECTION_ROOT]"),rn=on,an="0px 0px 0px 0px",sn=an,oe=new ut("[WA_INTERSECTION_ROOT_MARGIN]",{providedIn:"root",factory:()=>sn}),cn=oe;var pn=0,ln=pn,re=new ut("[WA_INTERSECTION_THRESHOLD]",{providedIn:"root",factory:()=>ln}),un=re;var ae=(()=>{var t;let r=class r extends ge{constructor(){super(o=>{let p=new nn(d=>{o.next(d)},{root:this.root,rootMargin:this.rootMargin,threshold:this.threshold});return p.observe(this.nativeElement),()=>{p.disconnect()}});W(this,"nativeElement",h(Me).nativeElement);W(this,"rootMargin",h(cn));W(this,"threshold",h(un));W(this,"root",((t=h(rn,{optional:!0}))==null?void 0:t.nativeElement)??null)}};W(r,"\u0275fac",function(p){return new(p||r)}),W(r,"\u0275prov",Mt({token:r,factory:r.\u0275fac}));let e=r;return e})(),Mo=new ut("[WA_INTERSECTION_OBSERVER_SUPPORT]: [INTERSECTION_OBSERVER_SUPPORT]",{providedIn:"root",factory:()=>!!h(Je).IntersectionObserver});var Ni={appearance:"neutral",size:"s"},dn=bt(Ni);function Vi(e){return zt(dn,e,Ni)}var mn=["tuiTh",""],Wt=["*"];function hn(e,t){if(e&1){let r=O();s(0,"button",3),P("click",function(){b(r);let n=l();return y(n.updateSorterAndDirection())}),De(1,4),m(2),_(3,"async"),g(4,"tui-icon",5),c()}if(e&2){let r=l(),i=z(2);St("t-sort_sorted",r.isCurrent),a(),u("ngTemplateOutlet",i),a(),v(" ",w(3,5,r.table&&r.table.change$)," "),a(2),u("icon",r.icon)}}function fn(e,t){e&1&&U(0)}function gn(e,t){if(e&1){let r=O();s(0,"div",6),P("tuiResized",function(n){b(r);let o=l();return y(o.onResized(n))}),c()}}var _n=["tuiTd",""],Cn=["tuiTr",""];function vn(e,t){if(e&1&&(s(0,"td",5),m(1),c()),e&2){let r=t.ngIf,i=l(2).$implicit;a(),v(" ",r[i]," ")}}function Tn(e,t){if(e&1&&(f(0,vn,2,1,"td",4),_(1,"async")),e&2){let r=l(3);u("ngIf",w(1,1,r.item$))}}function bn(e,t){if(e&1&&(K(0,3),f(1,Tn,2,3,"ng-template",null,0,at),J()),e&2){let r=t.$implicit,i=z(2),n=l().ngIf;u("ngTemplateOutlet",n[r]&&n[r].template||i)}}function yn(e,t){if(e&1&&(K(0),f(1,bn,3,1,"ng-container",2),J()),e&2){let r=l();a(),u("ngForOf",r.table.columns)}}var xn=["tuiTbody",""];function wn(e,t){if(e&1&&(K(0),m(1),J()),e&2){let r=t.polymorpheusOutlet;a(),v(" ",r," ")}}function Pn(e,t){if(e&1){let r=O();s(0,"tr")(1,"th",1)(2,"button",2),P("click",function(){b(r);let n=l();return y(n.onClick())}),s(3,"span",3),f(4,wn,2,1,"ng-container",4),c(),g(5,"tui-icon",5),c()()()}if(e&2){let r=l();a(),u("colSpan",r.table.columns.length),a(3),u("polymorpheusOutlet",r.heading),a(),u("tuiChevron",r.open)}}function On(e,t){e&1&&(K(0),U(1),J())}var Sn=["tuiThGroup",""];function kn(e,t){if(e&1&&(s(0,"th",5),m(1),c()),e&2){let r=l(2).$implicit;a(),v(" ",r.toString()," ")}}function Mn(e,t){if(e&1&&f(0,kn,2,1,"th",4),e&2){let r=l(3);u("ngIf",!r.th&&!r.heads.length)}}function In(e,t){if(e&1&&(K(0,3),f(1,Mn,1,1,"ng-template",null,0,at),J()),e&2){let r=t.$implicit,i=z(2),n=l().ngIf;u("ngTemplateOutlet",n[r]&&n[r].template||i)}}function Dn(e,t){if(e&1&&(K(0),f(1,In,3,1,"ng-container",2),J()),e&2){let r=l();a(),u("ngForOf",r.table.columns)}}var ce=(()=>{let t=class t{constructor(){this.tuiCell="",this.template=h(Ot)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Y({type:t,selectors:[["ng-template","tuiCell",""]],inputs:{tuiCell:"tuiCell"},standalone:!0});let e=t;return e})(),En={sticky:!1,resizable:!1,open:!0,size:"m",direction:1,sortIcons:{asc:"@tui.chevron-up",desc:"@tui.chevron-down",off:"@tui.chevrons-up-down"}},pe=bt(En);var Fn=(()=>{let t=class t{constructor(){this.stuck=Q(h(ae).pipe(H(i=>i[i.length-1].intersectionRatio<1),qt(),ne(h(Et)),xe(()=>ve)))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Y({type:t,selectors:[["never"]],hostVars:2,hostBindings:function(n,o){n&2&&St("_stuck",o.stuck())},standalone:!0,features:[j([ae,{provide:re,useValue:[0,1]}])]});let e=t;return e})(),An=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=T({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-table"],standalone:!0,features:[x],decls:0,vars:0,template:function(n,o){},styles:[`table[tuiTable] [tuiCell]{padding:0}table[tuiTable] [tuiTitle]{white-space:nowrap}table[tuiTable] [tuiTitle] tui-icon{font-size:1rem}table[tuiTable] [tuiSubtitle]{color:var(--tui-text-secondary)}table[tuiTable] [tuiTh] [tuiCell],table[tuiTable] [tuiTh] [tuiTitle]{font:inherit;color:inherit}
`],encapsulation:2,changeDetection:0});let e=t;return e})(),it=(()=>{let t=class t{constructor(){this.options=h(pe),this.cdr=h(Et),this.nothing=ee(An),this.columns=[],this.direction=this.options.direction,this.directionChange=new ft,this.sorterChange=new ft,this.appearance=M("table"),this.size=M(this.options.size),this.cleaner=M(!1),this.change$=new _e,this.sorter=()=>0}set sizeSetter(i){this.size.set(i)}updateSorterAndDirection(i){this.sorter===i?this.updateDirection(this.direction===1?-1:1):(this.updateSorter(i),this.updateDirection(1))}ngOnChanges(){this.change$.next()}ngAfterViewInit(){this.cdr.detectChanges()}updateSorter(i){this.sorter=i||(()=>0),this.sorterChange.emit(this.sorter),this.change$.next()}updateDirection(i){this.direction=i,this.directionChange.emit(this.direction),this.change$.next()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Y({type:t,selectors:[["table","tuiTable",""]],hostAttrs:[2,"border-collapse","separate"],hostVars:1,hostBindings:function(n,o){n&2&&Dt("data-size",o.size())},inputs:{columns:"columns",direction:"direction",sizeSetter:[0,"size","sizeSetter"],sorter:"sorter"},outputs:{directionChange:"directionChange",sorterChange:"sorterChange"},standalone:!0,features:[j([{provide:oe,useValue:"10000px 10000px 10000px 0px"},We(_i,t),vi({size:"m",appearance:"neutral"}),Vi({size:"xxs",appearance:"neutral"}),Ti({size:"s",color:"var(--tui-text-action)"})]),Ie([Fn]),Se]});let e=t;return e})();var jt=(()=>{let t=class t{constructor(){this.tuiHead="",this.template=h(Ot)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Y({type:t,selectors:[["","tuiHead",""]],inputs:{tuiHead:"tuiHead"},standalone:!0});let e=t;return e})(),zn=(()=>{let t=class t{constructor(){this.doc=h(ze),this.el=qe(),this.tuiResized=Bt(this.el,"mousedown").pipe(ei(),dt(()=>{var o;let{width:i,right:n}=((o=this.el.closest("th"))==null?void 0:o.getBoundingClientRect())||Ye;return Bt(this.doc,"mousemove").pipe(qt(),H(({clientX:p})=>i+p-n),Pe(Bt(this.doc,"mouseup")))}))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Y({type:t,selectors:[["","tuiResized",""]],outputs:{tuiResized:"tuiResized"},standalone:!0});let e=t;return e})(),$t=(()=>{let t=class t{constructor(){this.options=h(pe),this.head=h(jt,{optional:!0}),this.width=null,this.table=h(mt(()=>it),{optional:!0}),this.sorter=this.head?(i,n)=>$e(i[this.key],n[this.key]):null,this.resizable=this.options.resizable,this.sticky=this.options.sticky}get key(){if(!this.head)throw new se;return this.head.tuiHead}get isCurrent(){return!!this.sorter&&!!this.table&&this.sorter===this.table.sorter}get icon(){var i;return this.isCurrent?((i=this.table)==null?void 0:i.direction)===1?this.options.sortIcons.desc:this.options.sortIcons.asc:this.options.sortIcons.off}updateSorterAndDirection(){var i;(i=this.table)==null||i.updateSorterAndDirection(this.isCurrentAndAscDirection?null:this.sorter)}onResized(i){this.width=i}get isCurrentAndAscDirection(){var i,n;return this.sorter===((i=this.table)==null?void 0:i.sorter)&&((n=this.table)==null?void 0:n.direction)===-1}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=T({type:t,selectors:[["th","tuiTh",""]],hostVars:4,hostBindings:function(n,o){n&2&&(C("width",o.width,"px"),St("_sticky",o.sticky))},inputs:{sorter:"sorter",resizable:"resizable",sticky:"sticky"},standalone:!0,features:[x],attrs:mn,ngContentSelectors:Wt,decls:4,vars:3,consts:[["content",""],["type","button","class","t-sort",3,"t-sort_sorted","click",4,"ngIf","ngIfElse"],["class","t-bar",3,"tuiResized",4,"ngIf"],["type","button",1,"t-sort",3,"click"],[3,"ngTemplateOutlet"],[1,"t-icon",3,"icon"],[1,"t-bar",3,"tuiResized"]],template:function(n,o){if(n&1&&(tt(),f(0,hn,5,7,"button",1)(1,fn,1,0,"ng-template",null,0,at)(3,gn,1,0,"div",2)),n&2){let p=z(2);u("ngIf",o.sorter&&o.table)("ngIfElse",p),a(3),u("ngIf",o.resizable)}},dependencies:[et,Ft,kt,N,zn],styles:['[_nghost-%COMP%]{transition-property:box-shadow;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;top:0;height:var(--tui-height-m);font:var(--tui-font-text-s);text-align:left;font-weight:700;color:var(--tui-text-secondary);background:var(--tui-background-base);cursor:default;padding:0 .75rem;box-sizing:border-box;box-shadow:0 .3125rem #ededed00;border:1px solid var(--tui-border-normal);filter:opacity(1)}@supports (-webkit-hyphens: none){[_nghost-%COMP%]{transform:translateZ(0)}}[_nghost-%COMP%]:not(:first-child){border-left:none}._sticky[_nghost-%COMP%], ._stuck   ._sticky[_nghost-%COMP%]{position:sticky;z-index:30}._sticky[_nghost-%COMP%]:first-child, ._stuck   ._sticky[_nghost-%COMP%]:first-child{left:0}._sticky[_nghost-%COMP%]:after, ._stuck   ._sticky[_nghost-%COMP%]:after{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;top:0;left:100%;bottom:0;width:.3125rem;pointer-events:none;background:#edededb3;opacity:0}._stuck   [_nghost-%COMP%]{z-index:20}tr:not(:first-child)[_nghost-%COMP%], tr:not(:first-child)   [_nghost-%COMP%]{border-top:none}table[data-size="l"][_nghost-%COMP%], table[data-size="l"]   [_nghost-%COMP%]{height:var(--tui-height-l);font:var(--tui-font-text-m);font-weight:700;padding:0 1rem}table[data-size="s"][_nghost-%COMP%], table[data-size="s"]   [_nghost-%COMP%]{height:var(--tui-height-s);font:var(--tui-font-text-s);font-weight:700;padding:0 .5rem}thead[tuiThead][_nghost-%COMP%], thead[tuiThead]   [_nghost-%COMP%]{position:sticky}table._stuck._sticky[_nghost-%COMP%]:after, table._stuck   ._sticky[_nghost-%COMP%]:after{opacity:1}thead[tuiThead]._stuck[_nghost-%COMP%], thead[tuiThead]._stuck   [_nghost-%COMP%]{box-shadow:0 .3125rem #edededb3}[tuiTheme="dark"]._sticky[_nghost-%COMP%]:after, [tuiTheme="dark"]   ._sticky[_nghost-%COMP%]:after{background:#3c3c3ce6}[tuiTheme="dark"]   thead[tuiThead]._stuck[_nghost-%COMP%], [tuiTheme="dark"]   thead[tuiThead]._stuck   [_nghost-%COMP%]{box-shadow:0 .3125rem #3c3c3ce6}[tuiTheme="dark"]   thead[tuiThead]._stuck[_nghost-%COMP%]:first-child, [tuiTheme="dark"]   thead[tuiThead]._stuck   [_nghost-%COMP%]:first-child{box-shadow:.0625rem .3125rem #3c3c3ce6}table[data-size="l"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="l"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-l)}table[data-size="m"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="m"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-m)}table[data-size="s"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="s"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-s)}.t-sort[_ngcontent-%COMP%]{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;display:inline-flex;flex-direction:inherit;align-items:center;outline:none;font-weight:700;cursor:pointer}.t-sort_sorted[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.t-sort[_ngcontent-%COMP%]:focus-visible{background:var(--tui-service-selection-background)}.t-sort[_ngcontent-%COMP%]:hover{color:var(--tui-text-primary)}.t-bar[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:0;bottom:0;right:-1px;width:3px;justify-self:flex-end;border-left:2px solid transparent;background:var(--tui-status-warning);background-clip:content-box;cursor:ew-resize;opacity:0}.t-bar[_ngcontent-%COMP%]:hover, .t-bar[_ngcontent-%COMP%]:active{opacity:1}.t-icon[_ngcontent-%COMP%]{border:.25rem solid transparent}'],changeDetection:0});let e=t;return e})(),se=class extends Error{constructor(){super("")}};var Hi=(()=>{let t=class t{constructor(){this.table=h(it)}transform(i){return this.sort(i??[],this.table.sorter,this.table.direction)}sort(i,n,o){return[...i].sort((p,d)=>o*n(p,d))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=ht({name:"tuiTableSort",type:t,pure:!1,standalone:!0});let e=t;return Te([je],e.prototype,"sort",null),e})(),le=[{provide:it,deps:[[new Oe,it],Et],useFactory:(e,t)=>(e.change$.pipe(ne(t),Be()).subscribe(),e)}],ue=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=T({type:t,selectors:[["th","tuiTd",""],["td","tuiTd",""]],contentQueries:function(n,o,p){if(n&1&&($(p,pi,5),$(p,Ht,5)),n&2){let d;E(d=F())&&(o.current=d.first),E(d=F())&&(o.legacy=d.first)}},hostVars:2,hostBindings:function(n,o){n&2&&St("_editable",o.current||o.legacy)},standalone:!0,features:[x],attrs:_n,ngContentSelectors:Wt,decls:1,vars:0,template:function(n,o){n&1&&(tt(),U(0))},styles:['[_nghost-%COMP%]{position:relative;text-align:left;background:var(--tui-background-base);border:1px solid var(--tui-border-normal);border-top:none;box-sizing:border-box;filter:opacity(1)}@supports (-webkit-hyphens: none){[_nghost-%COMP%]{transform:translateZ(0)}}._editable[_nghost-%COMP%]{padding:0!important}[_nghost-%COMP%]:first-child{left:0}[_nghost-%COMP%]:not(:first-child){border-left:none}._editable[_nghost-%COMP%]:focus-within{z-index:1}._editable[_nghost-%COMP%]{padding:0;vertical-align:top}th[_nghost-%COMP%]{position:sticky;z-index:1}th[_nghost-%COMP%]:after{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;top:0;bottom:0;left:100%;width:.3125rem;pointer-events:none;background:#edededb3;opacity:0}th[_nghost-%COMP%]:focus-within:not(:disabled){z-index:11}[tuiTheme="dark"][_nghost-%COMP%]:after, [tuiTheme="dark"]   [_nghost-%COMP%]:after{background:#3c3c3ce6}table._stuck[_nghost-%COMP%], table._stuck   [_nghost-%COMP%]{z-index:10}table._stuck[_nghost-%COMP%]:last-of-type:after, table._stuck   [_nghost-%COMP%]:last-of-type:after{opacity:1}table[data-size="l"][_nghost-%COMP%], table[data-size="l"]   [_nghost-%COMP%]{height:var(--tui-height-l);font:var(--tui-font-text-m);padding:1rem}table[data-size="m"][_nghost-%COMP%], table[data-size="m"]   [_nghost-%COMP%]{height:var(--tui-height-m);font:var(--tui-font-text-s);padding:.75rem}table[data-size="s"][_nghost-%COMP%], table[data-size="s"]   [_nghost-%COMP%]{height:var(--tui-height-s);font:var(--tui-font-text-s);padding:.25rem .5rem}td[_nghost-%COMP%]:focus-within{z-index:1}td[_nghost-%COMP%]:not(:focus-within){z-index:0}'],changeDetection:0});let e=t;return e})(),de=(()=>{let t=class t{constructor(){this.cells=Rt,this.body=h(mt(()=>me)),this.contentReady$=new Ce(1),this.table=h(mt(()=>it)),this.cells$=this.contentReady$.pipe(dt(()=>ie(this.cells)),H(i=>i.reduce((n,o)=>Pt(wt({},n),{[o.tuiCell]:o}),{}))),this.item$=this.contentReady$.pipe(dt(()=>ie(this.body.rows)),H(i=>this.body.data[i.findIndex(n=>n===this)]))}ngAfterContentInit(){return fe(this,null,function*(){yield Promise.resolve(),this.contentReady$.next(!0)})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=T({type:t,selectors:[["tr","tuiTr",""]],contentQueries:function(n,o,p){if(n&1&&$(p,ce,4),n&2){let d;E(d=F())&&(o.cells=d)}},standalone:!0,features:[j([le]),x],attrs:Cn,decls:2,vars:3,consts:[["plain",""],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["tuiTd","",4,"ngIf"],["tuiTd",""]],template:function(n,o){n&1&&(f(0,yn,2,1,"ng-container",1),_(1,"async")),n&2&&u("ngIf",w(1,1,o.cells$))},dependencies:[et,N,Jt,Ft,ue],encapsulation:2,changeDetection:0});let e=t;return e})(),me=(()=>{let t=class t{constructor(){this.options=h(pe),this.table=h(mt(()=>it)),this.rows=Rt,this.data=[],this.open=this.options.open,this.openChange=new ft,this.toContext=(i,n)=>({$implicit:i,index:n})}onClick(){this.open=!this.open,this.openChange.emit(this.open)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=T({type:t,selectors:[["tbody","tuiTbody",""]],contentQueries:function(n,o,p){if(n&1&&$(p,de,4),n&2){let d;E(d=F())&&(o.rows=d)}},inputs:{data:"data",heading:"heading",open:"open"},outputs:{openChange:"openChange"},standalone:!0,features:[j(le),x],attrs:xn,ngContentSelectors:Wt,decls:2,vars:2,consts:[[4,"ngIf"],[1,"t-heading",3,"colSpan"],["type","button",1,"t-expand",3,"click"],[1,"t-name"],[4,"polymorpheusOutlet"],[1,"t-chevron",3,"tuiChevron"]],template:function(n,o){n&1&&(tt(),f(0,Pn,6,3,"tr",0)(1,On,2,0,"ng-container",0)),n&2&&(u("ngIf",o.heading),a(),u("ngIf",o.open))},dependencies:[et,kt,ni,Nt],styles:['[_nghost-%COMP%]{border-color:var(--tui-border-normal)}[_nghost-%COMP%]   tr[_ngcontent-%COMP%]{border-color:inherit}.t-expand[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;display:flex;width:100%;height:100%;align-items:center;box-sizing:border-box;outline:none;font-weight:700;cursor:pointer;border-color:inherit}.t-expand[_ngcontent-%COMP%]:focus-visible   .t-name[_ngcontent-%COMP%]{background:var(--tui-service-selection-background)}.t-expand[_ngcontent-%COMP%]:before, .t-expand[_ngcontent-%COMP%]:after{content:"";position:sticky;height:100%;border-left:1px solid;border-color:inherit}.t-expand[_ngcontent-%COMP%]:before{left:0}.t-expand[_ngcontent-%COMP%]:after{right:0}.t-heading[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;height:var(--tui-height-m);font:var(--tui-font-text-s);padding:0;background:var(--tui-background-neutral-1);border-bottom:1px solid var(--tui-border-normal);border-color:inherit}.t-heading[_ngcontent-%COMP%]:hover{background:var(--tui-background-neutral-1-hover)}table[data-size="l"][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], table[data-size="l"]   [_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-text-m);height:var(--tui-height-l)}.t-name[_ngcontent-%COMP%]{position:sticky;left:.75rem;display:inline-block}table[data-size="l"][_nghost-%COMP%]   .t-name[_ngcontent-%COMP%], table[data-size="l"]   [_nghost-%COMP%]   .t-name[_ngcontent-%COMP%]{left:1rem}.t-chevron[_ngcontent-%COMP%]{position:sticky;right:.75rem;margin:0 .6875rem 0 auto}'],changeDetection:0});let e=t;return e})(),Ui=(()=>{let t=class t{constructor(){this.heads=Rt,this.heads$=null,this.table=h(mt(()=>it))}ngAfterContentInit(){this.heads$=this.heads.changes.pipe(we(null),H(()=>this.heads.reduce((i,n)=>Pt(wt({},i),{[n.tuiHead]:n}),{})))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=T({type:t,selectors:[["tr","tuiThGroup",""]],contentQueries:function(n,o,p){if(n&1&&($(p,$t,5),$(p,jt,4)),n&2){let d;E(d=F())&&(o.th=d.first),E(d=F())&&(o.heads=d)}},standalone:!0,features:[j([le]),x],attrs:Sn,ngContentSelectors:Wt,decls:3,vars:3,consts:[["plain",""],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["tuiTh","",4,"ngIf"],["tuiTh",""]],template:function(n,o){n&1&&(tt(),U(0),f(1,Dn,2,1,"ng-container",1),_(2,"async")),n&2&&(a(),u("ngIf",w(2,1,o.heads$)))},dependencies:[et,$t,Ft,Jt,N],encapsulation:2,changeDetection:0});let e=t;return e})();var Rn=[[["input"]],"*"],Bn=["input","*"];function Ln(e,t){e&1&&(s(0,"span",3),U(1,1),c())}function Nn(e,t){if(e&1&&(K(0),g(1,"span",1),f(2,Ln,2,0,"span",2),J()),e&2){let r=t.tuiLet,i=l();a(),C("text-indent",i.indent,"px"),u("textContent",r),a(),u("ngIf",!r)}}var $i=(()=>{let t=class t{constructor(){this.value$=ye(()=>ti(this.control)),this.indent=-1}onScroll(i){Ge(i)&&Qe(i)&&(this.indent=-i.scrollLeft-1)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=T({type:t,selectors:[["tui-input-inline"]],contentQueries:function(n,o,p){if(n&1&&$(p,Ne,5),n&2){let d;E(d=F())&&(o.control=d.first)}},hostBindings:function(n,o){n&1&&P("scroll.capture",function(d){return o.onScroll(d.target)})},standalone:!0,features:[x],ngContentSelectors:Bn,decls:3,vars:3,consts:[[4,"tuiLet"],[1,"t-before",3,"textContent"],["automation-id","tui-input-inline__placeholder","class","t-placeholder",4,"ngIf"],["automation-id","tui-input-inline__placeholder",1,"t-placeholder"]],template:function(n,o){n&1&&(tt(Rn),f(0,Nn,3,4,"ng-container",0),_(1,"async"),U(2)),n&2&&u("tuiLet",w(1,1,o.value$))},dependencies:[et,ci,N],styles:[`tui-input-inline{position:relative;display:inline-block;overflow:hidden;white-space:nowrap;box-sizing:border-box}tui-input-inline>.t-before{display:block;padding-right:.02em;margin-left:1px;white-space:pre}tui-input-inline>.t-placeholder{display:inline-block;min-width:1px}tui-input-inline>input{position:absolute;top:0;left:0;background-color:transparent;padding:inherit;font:inherit;-webkit-text-fill-color:transparent;box-sizing:border-box;width:100%;height:100%;border-width:0;text-align:inherit;letter-spacing:inherit;text-indent:inherit;text-transform:inherit;outline:none}
`],encapsulation:2,changeDetection:0});let e=t;return e})();var Vn=["*",[["input"]]],Hn=["*","input"],Wi=(()=>{let t=class t extends Ht{constructor(){super(...arguments),this.textfieldSize=h(Oi),this.open=!1}get size(){return this.textfieldSize.size}get nativeFocusableElement(){return this.computedDisabled||!this.textfield?null:this.textfield.nativeFocusableElement}get focused(){var i;return ri(this.nativeFocusableElement)||!!((i=this.dropdown)!=null&&i.tuiDropdownOpen)}handleOption(i){this.setNativeValue(String(i)),this.focusInput(),this.value=String(i),this.open=!1}onValueChange(i){this.value=i,this.open=!0}get canOpen(){return this.interactive&&!!this.datalist}onActiveZone(i){this.updateFocused(i)}getFallbackValue(){return""}focusInput(i=!1){this.nativeFocusableElement&&this.nativeFocusableElement.focus({preventScroll:i})}setNativeValue(i){this.nativeFocusableElement&&(this.nativeFocusableElement.value=i)}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Xt(t)))(o||t)}})(),t.\u0275cmp=T({type:t,selectors:[["tui-input"]],contentQueries:function(n,o,p){if(n&1&&$(p,hi,5,Ot),n&2){let d;E(d=F())&&(o.datalist=d.first)}},viewQuery:function(n,o){if(n&1&&(Kt(yt,5),Kt(Ut,5)),n&2){let p;E(p=F())&&(o.dropdown=p.first),E(p=F())&&(o.textfield=p.first)}},hostVars:1,hostBindings:function(n,o){n&2&&Dt("data-size",o.size)},features:[j([Si,yi(t),ui(t),wi(t)],[bi]),It],ngContentSelectors:Hn,decls:4,vars:11,consts:[["tuiDropdownOpenMonitor","",1,"t-hosted",3,"tuiDropdownOpenChange","tuiActiveZoneChange","tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen"],["automation-id","tui-input__textfield",1,"t-textfield",3,"valueChange","disabled","focusable","invalid","nativeId","pseudoFocus","pseudoHover","readOnly","value"]],template:function(n,o){n&1&&(tt(Vn),s(0,"div",0),L("tuiDropdownOpenChange",function(d){return B(o.open,d)||(o.open=d),d}),P("tuiActiveZoneChange",function(d){return o.onActiveZone(d)}),s(1,"tui-primitive-textfield",1),P("valueChange",function(d){return o.onValueChange(d)}),U(2),U(3,1,["ngProjectAs","input",5,["input"]]),c()()),n&2&&(u("tuiDropdown",o.datalist||"")("tuiDropdownEnabled",o.canOpen),R("tuiDropdownOpen",o.open),a(),u("disabled",o.computedDisabled)("focusable",o.computedFocusable)("invalid",o.computedInvalid)("nativeId",o.nativeId)("pseudoFocus",o.computedFocused)("pseudoHover",o.pseudoHover)("readOnly",o.readOnly)("value",o.value))},dependencies:[Ut,ki,Lt,yt],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:left}._disabled[_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}"],changeDetection:0});let e=t;return e})(),ji=(()=>{let t=class t extends Pi{onValueChange(i){this.host.onValueChange(i)}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Xt(t)))(o||t)}})(),t.\u0275dir=Y({type:t,selectors:[["tui-input"]],features:[j([xi(t)]),It]});let e=t;return e})(),Qi=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({imports:[S,Mi,li]});let e=t;return e})();var Un=new ut("",{factory:()=>"https://api.coincap.io/v2/assets"}),V=(()=>{let t=class t{constructor(){this.http=h(Re),this.API=h(Un)}getTokens(){return this.http.get(this.API).pipe(H(i=>i.data))}getHistory(i,n){return this.http.get(`${this.API}/${i}/history`,{params:{interval:n}}).pipe(H(o=>o.data))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Mt({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Qt=(()=>{let t=class t{transform(i){return`https://assets.coincap.io/assets/icons/${i}@2x.png`}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=ht({name:"coinIcon",type:t,pure:!0,standalone:!0});let e=t;return e})();function Wn(e,t){if(e&1&&(s(0,"th",13),m(1),c()),e&2){let r=l().$implicit;l();let i=z(9);C("top",-(i.getOffsetToRenderedContentStart()||0),"px"),u("sticky",!0),a(),v(" ",r," ")}}function jn(e,t){if(e&1&&f(0,Wn,2,4,"th",12),e&2){let r=t.$implicit;u("tuiHead",r)}}function Qn(e,t){if(e&1&&(s(0,"td",16)(1,"div",17)(2,"tui-avatar-stack",18),g(3,"tui-avatar",19),_(4,"coinIcon"),g(5,"tui-avatar",19),_(6,"coinIcon"),c(),s(7,"div",20),m(8),c()()()),e&2){let r=l().$implicit;C("padding-left","0.5rem"),a(2),u("direction","right"),a(),u("src",w(4,8,r.symbolFirst)),a(2),u("src",w(6,10,r.symbolSecond)),a(2),C("font-weight","500"),a(),v(" ",r.Pair," ")}}function Gn(e,t){if(e&1&&(s(0,"td",16)(1,"div",20),m(2),c()()),e&2){let r=l().$implicit;C("padding-left","0.5rem"),a(),C("font-weight","500"),a(),v(" $",r.TVL,"M ")}}function qn(e,t){if(e&1&&(s(0,"td",16)(1,"div",20),m(2),c()()),e&2){let r=l().$implicit;C("padding-left","0.5rem"),a(),C("font-weight","500"),a(),v(" ",r.APR,"% ")}}function Yn(e,t){e&1&&(s(0,"tr",14),f(1,Qn,9,12,"td",15)(2,Gn,3,5,"td",15)(3,qn,3,5,"td",15),c()),e&2&&(a(),u("tuiCell","Pair"),a(),u("tuiCell","TVL"),a(),u("tuiCell","APR"))}var qi=(()=>{let t=class t{constructor(){this.cryptoService=h(V),this.tokens=Q(this.cryptoService.getTokens()),this.tableData=I(()=>{let i=this.tokens()||[];return i.map((n,o)=>{var p,d,k,xt;return{Pair:`${(p=i==null?void 0:i[o])==null?void 0:p.symbol.toUpperCase()}/${(d=i==null?void 0:i[o+1])==null?void 0:d.symbol.toUpperCase()}`,TVL:this.getTVL(o),APR:this.getAPR(o),symbolFirst:(k=i==null?void 0:i[o])==null?void 0:k.symbol.toLowerCase(),symbolSecond:(xt=i==null?void 0:i[o+1])==null?void 0:xt.symbol.toLowerCase()}}).filter((n,o)=>o%2===0).filter(n=>n.Pair.includes(this.search().toUpperCase()))}),this.columns=["Pair","TVL","APR"],this.search=M("")}lengthPools(i){return[...new Array(i).keys()].filter((n,o)=>o%2===0)}getTVL(i){var o,p,d,k;let n=Number((p=(o=this.tokens())==null?void 0:o[i])==null?void 0:p.priceUsd)+Number((k=(d=this.tokens())==null?void 0:d[i+1])==null?void 0:k.priceUsd)+1;return n>100?(n/(n/100+1)).toFixed(1):n.toFixed(1)}getAPR(i){return(10-Number(this.getTVL(i))/11).toFixed(1)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=T({type:t,selectors:[["lmb-pools"]],standalone:!0,features:[x],decls:18,vars:9,consts:[["viewport",""],["tuiAppearance","whiteblock","tuiCardLarge","normal"],["tuiHeader",""],["tuiTitle",""],["tuiTextfieldIconLeft","@tui.search",3,"ngModelChange","ngModel"],[1,"list-pools"],["itemSize","64","tuiScrollable","",1,"viewport","tui-zero-scrollbar"],["tuiTable","",3,"columns"],["tuiThGroup",""],["tuiTh","",3,"sticky","top"],["tuiTbody",""],["tuiTr","",4,"cdkVirtualFor","cdkVirtualForOf"],["tuiTh","",3,"sticky","top",4,"tuiHead"],["tuiTh","",3,"sticky"],["tuiTr",""],["tuiTd","",3,"padding-left",4,"tuiCell"],["tuiTd",""],[1,"stack"],[1,"tui-space_top-3","tui-space_bottom-3",3,"direction"],["size","m",3,"src"],["TuiTitle",""]],template:function(n,o){if(n&1){let p=O();s(0,"div",1)(1,"header",2)(2,"h2",3),m(3," Pools "),c()(),s(4,"tui-input",4),L("ngModelChange",function(k){return b(p),B(o.search,k)||(o.search=k),y(k)}),m(5," Search "),c(),s(6,"div",5)(7,"tui-scrollbar")(8,"cdk-virtual-scroll-viewport",6,0)(10,"table",7)(11,"thead")(12,"tr",8),Z(13,jn,1,1,"th",9,nt),c()(),s(15,"tbody",10),f(16,Yn,4,3,"tr",11),_(17,"tuiTableSort"),c()()()()()()}n&2&&(C("height","100%"),a(2),C("text-align","center"),a(2),R("ngModel",o.search),a(6),u("columns",o.columns),a(3),X(o.columns),a(3),u("cdkVirtualForOf",w(17,7,o.tableData())))},dependencies:[Fi,zi,Ai,Qt,S,Tt,Ct,vt,st,pt,Ci,q,lt,Qi,Wi,ji,si,ai,it,me,Ui,$t,ue,de,ce,jt,Hi,G],styles:[".list-pools[_ngcontent-%COMP%]{border:solid 1px var(--tui-border-normal);border-radius:1rem;overflow:hidden}.viewport[_ngcontent-%COMP%]{height:20rem}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:1px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:0;border-left:0;border-right:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0;text-align:center}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:3.5rem}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:2rem;border-right:0}.stack[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}"],changeDetection:0});let e=t;return e})();var Zn={currency:null,currencyAlign:"right",sign:"negative-only"},Xn=bt(Zn);function Kn(e,t){return t==="never"||!e||t==="negative-only"&&e>0?"":t==="force-negative"||e<0&&t!=="force-positive"?Xe:Ke}var Jn=2,Gt=(()=>{let t=class t{constructor(){this.options=h(Xn),this.format=h(ii)}transform(i,n=this.options.currency,o=this.options.currencyAlign){return this.format.pipe(H(p=>{let d=Kn(i,this.options.sign),k=Li(n),xt=oi(Math.abs(i),Pt(wt({},p),{precision:Number.isNaN(p.precision)?Jn:p.precision})),he=(k==null?void 0:k.length)>1||o==="right"?Ze:"";return o==="right"?`${d}${xt}${he}${k}`:`${d}${k}${he}${xt}`}))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=ht({name:"tuiAmount",type:t,pure:!0,standalone:!0});let e=t;return e})();var Yi={Y:"d1",M6:"h6",M:"h1",W:"m15",D:"m1"};var to=(e,t)=>[e,t];function eo(e,t){if(e&1){let r=O();s(0,"button",4),P("click",function(){let n=b(r).$implicit,o=l();return y(o.filterButton.set(n))}),m(1),c()}if(e&2){let r=t.$implicit,i=l();u("tuiAppearanceState",r===i.filterButton()?"active":null),a(),v(" ",r," ")}}var Zi=(()=>{let t=class t{constructor(){this.pricesService=h(V),this.step=I(()=>Math.ceil((this.history()??[]).length/this.maxPoints)),this.xTargets=I(()=>new Map((this.history()??[]).map((i,n)=>[Math.trunc(n/this.step()),new Date(i.date).toDateString()]))),this.chart=I(()=>this.processData(this.history())),this.minPrice=I(()=>Math.min(...(this.history()??[]).map(i=>Number(i.priceUsd)))),this.maxPrice=I(()=>Math.max(...(this.history()??[]).map(i=>Number(i.priceUsd)))),this.filterButtons=["D","W","M","M6","Y"],this.filterButton=M(this.filterButtons[0]),this.maxPoints=150,this.token=ke.required(),this.interval=I(()=>Yi[this.filterButton()]),this.history=Q(be([te(this.token),te(this.interval)]).pipe(dt(([i,n])=>this.pricesService.getHistory(i,n)))),this.yStringify=i=>`${(this.maxPrice()>10?i:i/100).toLocaleString("en-US",{maximumFractionDigits:this.maxPrice()>10?0:2})} $`,this.xStringify=i=>`${this.xTargets().get(i)}`}processData(i){return(i??[]).map((o,p)=>[Math.trunc(p/this.step()),Number(o.priceUsd)*(this.maxPrice()>10?1:100)]).filter((o,p)=>p%this.step()===0)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=T({type:t,selectors:[["lmb-price-chart"]],inputs:{token:[1,"token"]},standalone:!0,features:[x],decls:9,vars:21,consts:[[1,"axes",3,"axisYLabels","horizontalLines","verticalLines"],[1,"chart",3,"height","value","width","x","xStringify","y","yStringify"],[1,"buttons"],["appearance","icon","tuiButton","",1,"period",3,"tuiAppearanceState"],["appearance","icon","tuiButton","",1,"period",3,"click","tuiAppearanceState"]],template:function(n,o){n&1&&(s(0,"tui-axes",0),_(1,"tuiAmount"),_(2,"async"),_(3,"tuiAmount"),_(4,"async"),g(5,"tui-line-chart",1),c(),s(6,"div",2),Z(7,eo,2,2,"button",3,nt),c()),n&2&&(u("axisYLabels",Ae(18,to,w(2,12,w(1,10,o.minPrice()))||"",w(4,16,w(3,14,o.maxPrice()))||""))("horizontalLines",4)("verticalLines",4),a(5),u("height",o.maxPrice()*(o.maxPrice()>10?1:100)-o.minPrice()*(o.maxPrice()>10?1:100))("value",o.chart())("width",o.chart().length)("x",0)("xStringify",o.xStringify)("y",o.minPrice()*(o.maxPrice()>10?1:100))("yStringify",o.yStringify),a(2),X(o.filterButtons))},dependencies:[N,S,Gt,Ri,ct,Bi],styles:[".buttons[_ngcontent-%COMP%]{display:flex;margin-top:1.5rem;justify-content:space-between}.axes[_ngcontent-%COMP%]{height:12.5rem}.period[_ngcontent-%COMP%]{width:2.5rem;height:1.5rem}.chart[_ngcontent-%COMP%]{color:var(--tui-chart-categorical-07);position:absolute;top:0;left:0;width:100%;height:100%}"],changeDetection:0});let e=t;return e})();function io(e,t){if(e&1){let r=O();s(0,"div",4),P("click",function(){b(r);let n=l().$implicit,o=l(2);return y(o.chooseToken(n.id))}),g(1,"tui-avatar",5),s(2,"div",6),m(3),s(4,"div",7),m(5),_(6,"number"),s(7,"span"),m(8),_(9,"number"),c()()()()}if(e&2){let r=l().$implicit;a(),u("src","https://assets.coincap.io/assets/icons/"+r.symbol.toLowerCase()+"@2x.png"),a(2),v(" ",r.name," "),a(2),v(" ",rt(6,6,r.priceUsd,"1.2-2"),"$ "),a(2),C("color",r.changePercent24Hr[0]==="-"?"var(--tui-status-negative)":"var(--tui-status-positive)"),a(),v(" ",rt(9,9,r.changePercent24Hr,"1.2-2"),"% ")}}function no(e,t){if(e&1&&f(0,io,10,12,"div",3),e&2){let r=t.$implicit,i=l(2);D(i.token===""||r.id===i.token?0:-1)}}function oo(e,t){if(e&1){let r=O();s(0,"button",8),P("click",function(){b(r);let n=l(2);return y(n.addToken())}),m(1," Add Token "),c()}}function ro(e,t){if(e&1&&(s(0,"div",0)(1,"div",1),Z(2,no,1,1,null,null,nt),c(),f(4,oo,2,0,"button",2),c()),e&2){let r=l(),i=_t(0);a(2),X(i.slice(0,r.showTokens)),a(2),D(r.token===""&&r.showTokens<i.length?4:-1)}}var Ki=(()=>{let t=class t{constructor(){this.pricesService=h(V),this.tokens$=this.pricesService.getTokens(),this.showTokens=4,this.token="",this.tokenChange=new ft}addToken(){this.showTokens+=1}chooseToken(i){let n=this.token===i?"":i;this.token=n,this.tokenChange.emit(n)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=T({type:t,selectors:[["lmb-price-list"]],inputs:{token:"token"},outputs:{tokenChange:"tokenChange"},standalone:!0,features:[x],decls:3,vars:4,consts:[["tuiCardLarge","",1,"price-list"],[1,"list"],["appearance","icon","iconStart","@tui.circle-plus","tuiIconButton","",1,"button-add"],["tuiCell","l"],["tuiCell","l",3,"click"],[3,"src"],["tuiTitle",""],["tuiSubtitle",""],["appearance","icon","iconStart","@tui.circle-plus","tuiIconButton","",1,"button-add",3,"click"]],template:function(n,o){if(n&1&&(ot(0),_(1,"async"),f(2,ro,5,1,"div",0)),n&2){let p=gt(w(1,1,o.tokens$));a(2),D(p?2:-1)}},dependencies:[N,S,At,pt,ct,q,Vt,G],styles:["[tuiCardLarge][_ngcontent-%COMP%]   [tuiCell][data-size=l][_ngcontent-%COMP%]{margin:0}[tuiCardLarge][_ngcontent-%COMP%]   [tuiCell][data-size=l][_ngcontent-%COMP%]:not(:last-child){border-radius:0;box-shadow:0 1px var(--tui-border-normal)}[tuiCardLarge][_ngcontent-%COMP%]   [tuiCell][data-size=l][_ngcontent-%COMP%]:hover{background-color:var(--tui-background-neutral-1-hover)}[tuiCardLarge][_ngcontent-%COMP%]   [tuiCell][data-size=l][_ngcontent-%COMP%]:active{background-color:var(--tui-background-neutral-1-pressed)}.price-list[_ngcontent-%COMP%]{padding:0}.button-add[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.list[_ngcontent-%COMP%]{max-height:22.5rem;overflow:scroll;background-color:var(--tui-background-base-alt);border-radius:1rem;border:1px solid var(--tui-border-normal)}"],changeDetection:0});let e=t;return e})();function ao(e,t){if(e&1&&g(0,"lmb-price-chart",3),e&2){let r=l();u("token",r.token)}}var Ji=(()=>{let t=class t{constructor(){this.pricesService=h(V),this.token=""}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=T({type:t,selectors:[["lmb-prices"]],standalone:!0,features:[x],decls:6,vars:6,consts:[["tuiAppearance","whiteblock","tuiCardLarge","normal"],["tuiHeader",""],["tuiTitle",""],[3,"token"],[3,"tokenChange","token"]],template:function(n,o){n&1&&(s(0,"div",0)(1,"header",1)(2,"h2",2),m(3," Cryptocurrency Prices "),c()(),f(4,ao,1,1,"lmb-price-chart",3),s(5,"lmb-price-list",4),L("tokenChange",function(d){return B(o.token,d)||(o.token=d),d}),c()()),n&2&&(C("height","100%"),a(2),C("text-align","center"),a(2),D(o.token!==""?4:-1),a(),R("token",o.token))},dependencies:[S,Zi,Ki,st,q,lt,G],encapsulation:2,changeDetection:0});let e=t;return e})();function so(e,t){if(e&1){let r=O();s(0,"tui-input-number",18),L("ngModelChange",function(n){b(r);let o=l(3);return B(o.inputStake,n)||(o.inputStake=n),y(n)}),m(1," Amount BTC "),c()}if(e&2){let r=l(3);u("max",r.available-r.amount())("min",0),R("ngModel",r.inputStake)}}function co(e,t){if(e&1){let r=O();s(0,"tui-input-number",18),L("ngModelChange",function(n){b(r);let o=l(3);return B(o.inputUnstake,n)||(o.inputUnstake=n),y(n)}),m(1," Amount BTC "),c()}if(e&2){let r=l(3);u("max",r.amount())("min",0),R("ngModel",r.inputUnstake)}}function po(e,t){if(e&1){let r=O();s(0,"header",15)(1,"h2",4),m(2),c()(),s(3,"p"),m(4),c(),f(5,so,2,3,"tui-input-number",16)(6,co,2,3,"tui-input-number",16),s(7,"p")(8,"button",17),P("click",function(){let n=b(r).$implicit,o=l(2);return y([n.complete(),o.addAmount(o.stake?o.inputStake:-o.inputUnstake),o.inputStake=0])}),m(9),c()()}if(e&2){let r=l(2);a(2),v("",r.stake?"Staking":"Unstaking"," Bitcoin"),a(2),Fe("Available for ",r.stake?"stake":"unstake",": ",r.stake?r.available-r.amount():r.amount()," BTC"),a(),D(r.stake?5:6),a(4),v(" ",r.stake?"Stake":"Unstake"," ")}}function lo(e,t){if(e&1){let r=O();s(0,"div",1)(1,"header",2),g(2,"tui-avatar",3),_(3,"coinIcon"),s(4,"h2",4),m(5," Staking Bitcoin "),c(),s(6,"div",5),m(7," Earn a share of the protocol`s fees "),g(8,"br"),m(9," while staking BITCOIN "),c()(),s(10,"div",6)(11,"button",7),P("click",function(){b(r);let n=z(49),o=l();return y([o.stake=!0,o.showDialog(n)])}),m(12," Stake "),c(),s(13,"button",8),P("click",function(){b(r);let n=z(49),o=l();return y([o.stake=!1,o.showDialog(n)])}),m(14," Unstake "),c()(),s(15,"div",9)(16,"div",10),m(17,"My position"),c(),g(18,"hr"),s(19,"div",11)(20,"div",12),m(21),c(),s(22,"div"),m(23),_(24,"number"),c()(),g(25,"hr"),s(26,"div",11)(27,"div"),m(28,"Rewards"),c(),s(29,"div",12),m(30,"0 BTC"),c(),s(31,"div"),m(32,"$0"),c()()(),s(33,"div",9)(34,"div",10),m(35,"Overview"),c(),g(36,"hr"),s(37,"div",11)(38,"div",13),m(39,"Total stacked"),c(),s(40,"div",14),m(41,"1.5M BTC"),c()(),g(42,"hr"),s(43,"div",11)(44,"div",13),m(45,"APR"),c(),s(46,"div",14),m(47,"5%"),c()()()(),f(48,po,10,5,"ng-template",null,0,at)}if(e&2){let r=l();C("height","100%"),a(2),u("src",w(3,9,"btc")),a(2),C("text-align","center"),a(2),C("text-align","center"),a(15),v("",r.amount()," BTC"),a(2),v("$",rt(24,11,r.price(),"1.2-2"),"")}}var tn=(()=>{let t=class t{constructor(){this.dialogs=h(gi),this.cryptoService=h(V),this.tokens=Q(this.cryptoService.getTokens()),this.price=I(()=>{var i;return this.amount()*(Number((i=(this.tokens()??[]).find(n=>n.symbol==="BTC"))==null?void 0:i.priceUsd)??0)}),this.inputStake=0,this.inputUnstake=0,this.amount=M(0),this.available=100,this.stake=!1}addAmount(i){this.amount.update(n=>n+i)}showDialog(i){this.dialogs.open(i).subscribe()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=T({type:t,selectors:[["lmb-staking"]],standalone:!0,features:[x],decls:2,vars:1,consts:[["template",""],["tuiAppearance","whiteblock","tuiCardLarge","normal"],["tuiHeader","",1,"info"],["size","l",3,"src"],["tuiTitle",""],["tuiSubtitle",""],[1,"group-buttons"],["appearance","accent","tuiButton","",3,"click"],["appearance","whiteblock","tuiButton","",3,"click"],[1,"position"],[1,"position-title"],[1,"block-position"],[1,"tui-space_top-0","tui-space_bottom-0","bold"],[1,"tui-space_top-0","tui-space_bottom-0"],[1,"bold"],["tuiHeader",""],["tuiAutoFocus","",3,"max","min","ngModel"],["tuiButton","","type","submit",3,"click"],["tuiAutoFocus","",3,"ngModelChange","max","min","ngModel"]],template:function(n,o){if(n&1&&(ot(0),f(1,lo,50,14)),n&2){let p=o.tokens();a(),D(p?1:-1)}},dependencies:[Qt,S,At,Tt,Ct,vt,st,fi,pt,ct,q,lt,Ei,Ii,Di,G],styles:[".info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.group-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.group-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-grow:1}.position[_ngcontent-%COMP%]{border:solid 1px var(--tui-border-normal);border-radius:1rem}.position-title[_ngcontent-%COMP%]{padding:.5rem .5rem .5rem 1rem;font-weight:600}.bold[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem}.block-position[_ngcontent-%COMP%]{display:flex;padding:.5rem 1rem;flex-direction:column}"],changeDetection:0});let e=t;return e})();var uo=(e,t)=>t.symbol;function mo(e,t){e&1&&g(0,"tui-icon",17),e&2&&C("font-size",1,"em")("margin-left",.5,"rem")}function ho(e,t){if(e&1){let r=O();s(0,"button",15),P("click",function(){let n=b(r).$implicit,o=l().$implicit;l();let p=_t(9),d=l(2);return y([p?d.newTokenTo(n.symbol):d.newTokenFrom(n.symbol),o()])}),m(1),f(2,mo,1,4,"tui-icon",16),c()}if(e&2){let r=t.$implicit;l(2);let i=_t(0);u("value",r.symbol),a(),v(" ",r.symbol.toUpperCase()," "),a(),u("ngIf",r.symbol.toLowerCase()===i.toLowerCase())}}function fo(e,t){if(e&1&&(s(0,"tui-data-list",13),Z(1,ho,3,3,"button",14,uo),c()),e&2){l(3);let r=_t(0);a(),X(r)}}function go(e,t){if(e&1){let r=O();s(0,"input",18),L("ngModelChange",function(n){b(r);let o=l(3);return B(o.to,n)||(o.to=n),y(n)}),P("input",function(){b(r);let n=l(3);return y(n.newSwapTo())}),c()}if(e&2){let r=l(3);R("ngModel",r.to)}}function _o(e,t){if(e&1){let r=O();s(0,"input",18),L("ngModelChange",function(n){b(r);let o=l(3);return B(o.from,n)||(o.from=n),y(n)}),P("input",function(){b(r);let n=l(3);return y(n.newSwapFrom())}),c()}if(e&2){let r=l(3);R("ngModel",r.from)}}function Co(e,t){if(e&1&&(m(0),_(1,"tuiAmount"),_(2,"async")),e&2){let r=l(3);v(" \u2248",w(2,4,rt(1,1,r.priceTo()*r.to(),"USD"))," ")}}function vo(e,t){if(e&1&&(m(0),_(1,"tuiAmount"),_(2,"async")),e&2){let r=l(3);v(" \u2248",w(2,4,rt(1,1,r.priceFrom()*r.from(),"USD"))," ")}}function To(e,t){if(e&1&&(ot(0),s(1,"div")(2,"div",6)(3,"div",7),m(4),c(),s(5,"div",7),m(6),c()(),s(7,"button",8),g(8,"tui-avatar",9),ot(9),f(10,fo,3,0,"ng-template",null,0,at),c()(),s(12,"div")(13,"tui-input-inline",10),f(14,go,1,1,"input",11)(15,_o,1,1,"input",11),c(),s(16,"div")(17,"div",12),f(18,Co,3,6)(19,vo,3,6),c(),g(20,"hr"),c()()),e&2){let r=t.$implicit,i=t.$index,n=z(11),o=l(2),p=gt(i?o.tokenTo().toUpperCase():o.tokenFrom().toUpperCase());a(4),Ee(r),a(2),v("Balance: 1000 ",p.toUpperCase(),""),a(),u("tuiDropdown",n),a(),u("src","https://assets.coincap.io/assets/icons/"+p.toLowerCase()+"@2x.png"),a(),gt(i),a(5),D(i?14:15),a(4),D(i?18:19)}}function bo(e,t){if(e&1&&(s(0,"div",2)(1,"header",3)(2,"h2",4),m(3," Swap "),c()(),Z(4,To,21,8,null,null,nt),s(6,"button",5),m(7," Swap "),c()()),e&2){let r=l();C("height","100%"),a(2),C("text-align","center"),a(2),X(r.titles)}}var en=(()=>{let t=class t{constructor(){this.cryptoService=h(V),this.tokens=Q(this.cryptoService.getTokens()),this.priceFrom=I(()=>this.getPrice(this.tokenFrom())),this.priceTo=I(()=>this.getPrice(this.tokenTo())),this.titles=["From","To"],this.from=M(0),this.to=M(0),this.tokenFrom=M("eth"),this.tokenTo=M("btc")}newTokenFrom(i){this.tokenFrom.set(i),this.newSwapFrom()}newTokenTo(i){this.tokenTo.set(i),this.newSwapTo()}getPrice(i){var n;return Number((n=(this.tokens()??[]).find(o=>o.symbol.toLowerCase()===i.toLowerCase()))==null?void 0:n.priceUsd)||0}newSwapFrom(){this.to.set(Number((this.priceFrom()*Number(this.from())/this.priceTo()).toFixed(2)))}newSwapTo(){this.from.set(Number((this.priceTo()*Number(this.to())/this.priceFrom()).toFixed(2)))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=T({type:t,selectors:[["lmb-swap"]],standalone:!0,features:[x],decls:2,vars:2,consts:[["dropdownContent",""],["tuiAppearance","whiteblock","tuiCardLarge","normal",3,"height"],["tuiAppearance","whiteblock","tuiCardLarge","normal"],["tuiHeader",""],["tuiTitle",""],["appearance","primary","tuiButton",""],["tuiCell","l"],["TuiTitle",""],["tuiButton","","tuiChevron","","tuiDropdownOpen","","type","button",1,"choose-crypto",3,"tuiDropdown"],["size","xs",3,"src"],["tuiTitle","l"],["max","1000","min","0","type","number",3,"ngModel"],["tuiSubtitle","",1,"equal-number"],["size","s"],["tuiOption","",3,"value"],["tuiOption","",3,"click","value"],["icon","@tui.check",3,"font-size","margin-left",4,"ngIf"],["icon","@tui.check"],["max","1000","min","0","type","number",3,"ngModelChange","input","ngModel"]],template:function(n,o){if(n&1&&(ot(0),f(1,bo,8,4,"div",1)),n&2){let p=gt(o.tokens());a(),D(p?1:-1)}},dependencies:[S,et,N,Tt,Le,Ve,Ct,Ue,He,vt,Gt,st,pt,ct,q,Vt,Nt,mi,di,Lt,yt,lt,kt,$i,G],styles:[".choose-crypto[_ngcontent-%COMP%]{height:2rem}.equal-number[_ngcontent-%COMP%]{text-align:right}tui-input-inline[_ngcontent-%COMP%]{height:2.5rem}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}"],changeDetection:0});let e=t;return e})();var js=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=T({type:t,selectors:[["lmb-crypto"]],standalone:!0,features:[x],decls:7,vars:0,consts:[[1,"column"],[1,"row"],[1,"grow"]],template:function(n,o){n&1&&(s(0,"div",0)(1,"div",1),g(2,"lmb-prices",2)(3,"lmb-swap",2)(4,"lmb-pools",2),c(),s(5,"div",1),g(6,"lmb-staking",2),c()())},dependencies:[S,qi,Ji,tn,en],styles:[".grow[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{position:relative;display:grid;flex:0 0 auto;grid-template-columns:4fr 6fr 4fr;gap:1rem}@media (max-width: 56.25rem){.row[_ngcontent-%COMP%]{display:flex;flex:1;flex-wrap:wrap}.grow[_ngcontent-%COMP%]{height:max-content}}@media (max-width: 35.625rem){.grow[_ngcontent-%COMP%]{width:100%}}.column[_ngcontent-%COMP%]{display:flex;gap:.625rem;padding-top:1.25rem;flex-direction:column}"],changeDetection:0});let e=t;return e})();export{js as CryptoComponent};
