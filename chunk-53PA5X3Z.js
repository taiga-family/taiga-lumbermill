import{a as Jt}from"./chunk-YOZRA3XU.js";import{b as jt}from"./chunk-ISTIHFIQ.js";import{G as $t,K as Vt,L as Gt,O as qt,R as Xt,V as Zt,b as Pt,d as Tt,g as xt,h as Ut,k as X,m as Bt,p as Z,r as Lt,s as Ht,t as Wt}from"./chunk-KLV7V3UI.js";import{$b as yt,$d as A,A as ot,Ba as dt,Cb as C,Da as a,F as P,Fd as b,Ge as kt,Hd as z,Ia as pt,Ie as zt,Jb as vt,Jd as wt,Je as St,Ka as W,Kb as bt,Kd as Dt,Ld as S,Ma as m,Oa as mt,Q as st,Qa as ht,Qd as y,Qe as At,Ra as u,S as T,Sa as $,Ta as l,Ua as gt,Va as F,Vb as Ot,W as rt,Xb as E,_ as L,_b as Ct,ab as d,bb as h,bc as Mt,be as Et,c as Q,ca as r,cb as g,db as V,eb as G,f as Y,fb as ft,fd as It,g as tt,gb as j,hf as Nt,ib as _t,ja as x,jb as f,jf as Rt,k as et,ka as I,kb as _,ma as H,nd as k,oa as at,pd as q,q as it,qa as lt,r as nt,s as p,sa as ct,sb as w,sd as v,ub as D,w as U,we as N,x as B,z as O,za as ut,zd as Ft}from"./chunk-KYYOKFWQ.js";var R=class{constructor(t,o){this.el=t,this.options=o}get element(){return(this.el.nativeElement.tagName.includes("-")?this.el.nativeElement.querySelector(this.options.query):this.el.nativeElement)||this.el.nativeElement}get isTextFieldElement(){return this.element.matches(this.options.query)}},se=1e3,re=".ng-animating",J=class extends R{constructor(t,o,i,n){super(t,n),this.animationFrame$=o,this.zone=i}setFocus(){this.isTextFieldElement?ot(U(this.options.delay||se),this.animationFrame$.pipe(rt(100,kt(this.zone)),p(()=>this.element.closest(re)),st(Boolean),P(1))).subscribe(()=>this.element.focus({preventScroll:this.options.preventScroll})):this.element.focus({preventScroll:!0})}},ae=["type","inputMode","autocomplete","accept","min","max","step","pattern","size","maxlength"],K=class extends R{constructor(t,o,i,n,s){super(t,s),this.renderer=o,this.zone=i,this.win=n}setFocus(){this.isTextFieldElement?this.zone.runOutsideAngular(()=>this.iosWebkitAutofocus()):this.element.focus({preventScroll:!0})}iosWebkitAutofocus(){var M;let t=this.makeFakeInput(),o=this.getDurationTimeBeforeFocus(),i=0,n=0,s=()=>t.focus({preventScroll:!0}),c=()=>{clearTimeout(i),i=this.win.setTimeout(()=>{clearTimeout(n),t.removeEventListener("blur",s),t.removeEventListener("focus",c),n=this.win.setTimeout(()=>{this.element.focus({preventScroll:this.options.preventScroll}),t.remove()},o)})};t.addEventListener("blur",s,{once:!0}),t.addEventListener("focus",c),this.insideDialog()?this.win.document.body.appendChild(t):(M=this.element.parentElement)==null||M.appendChild(t),t.focus({preventScroll:!0})}makeFakeInput(){let t=this.renderer.createElement("input"),o=this.element.getBoundingClientRect();return this.patchFakeInputFromFocusableElement(t),t.style.height=b(o.height),t.style.width=b(o.width/2),t.style.position="fixed",t.style.zIndex="-99999999",t.style.caretColor="transparent",t.style.border="none",t.style.outline="none",t.style.color="transparent",t.style.background="transparent",t.style.cursor="none",t.style.fontSize=b(16),t.style.top=b(o.top),t.style.left=b(o.left),t}getDurationTimeBeforeFocus(){return parseFloat(this.win.getComputedStyle(this.element).getPropertyValue("--tui-duration"))||0}insideDialog(){return!!this.element.closest("tui-dialog")}patchFakeInputFromFocusableElement(t){ae.forEach(o=>{let i=this.element.getAttribute(o);Ft(i)&&t.setAttribute(o,i)})}},[Qt,ke]=Nt({delay:NaN,query:"input, textarea, select, [contenteditable]",preventScroll:!1}),Yt=v(),le=[{provide:Yt,deps:[ct,Et,pt,lt,A,$t,Qt],useFactory:(e,t,o,i,n,s,c)=>s?new K(e,o,i,n,c):new J(e,t,i,c)}],te=(()=>{let t=class t{constructor(){this.handler=r(Yt),this.options=r(Qt),this.destroyRef=r(at)}ngAfterViewInit(){this.autoFocus&&this.focus()}focus(){Number.isNaN(this.options.delay)?Promise.resolve().then(()=>this.handler.setFocus()):U(this.options.delay).pipe(k(this.destroyRef)).subscribe(()=>this.handler.setFocus())}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=m({type:t,selectors:[["","tuiAutoFocus",""]],inputs:{autoFocus:[2,"tuiAutoFocus","autoFocus",Jt]},features:[C(le),ht]});let e=t;return e})();var ee=(()=>{let t=class t{constructor(){this.doc=r(E),this.el=y(),this.activeElement=null,this.initialized=!1,Promise.resolve().then(()=>{this.initialized=!0,this.activeElement=Lt(this.doc),this.el.focus()})}ngOnDestroy(){Ht(this.doc),Promise.resolve().then(()=>{Dt(this.activeElement)&&this.activeElement.focus()})}onFocusIn(i){var s;let n=this.el.firstElementChild;!z(this.el,i)&&n&&((s=Wt({initial:n,root:this.el}))==null||s.focus())}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=m({type:t,selectors:[["","tuiFocusTrap",""]],hostAttrs:["tabIndex","0"],hostBindings:function(n,s){n&1&&f("focusin.silent",function(M){return s.initialized&&s.onFocusIn(M.target)},!1,dt)}});let e=t;return e})();function ce(e,t){if(e&1&&(V(0),w(1),G()),e&2){let o=t.polymorpheusOutlet;a(),D(" ",o," ")}}function ue(e,t){if(e&1&&(d(0,"header",6),u(1,ce,2,1,"ng-container",3),h()),e&2){let o=_();a(),l("polymorpheusOutlet",o.header)("polymorpheusOutletContext",o.context)}}function de(e,t){if(e&1){let o=j();V(0),g(1,"div",7),d(2,"div",8)(3,"button",9),f("click",function(){x(o);let n=_();return I(n.context.$implicit.complete())}),w(4),h()(),G()}if(e&2){let o=t.polymorpheusOutlet,i=_();a(),l("innerHTML",o,ut),a(3),D(" ",(i.context.data==null?null:i.context.data.button)||"OK"," ")}}function pe(e,t){if(e&1){let o=j();d(0,"button",10),f("click",function(){x(o);let n=_();return I(n.close$.next())})("mousedown.prevent.silent",function(){return x(o),I(0)}),w(1),vt(2,"async"),h()}if(e&2){let o=_();gt("border-radius",100,"%"),l("appearance",o.isMobile()?"icon":"neutral")("iconStart",o.icons.close)("size",o.isMobile()?"xs":"s"),a(),D(" ",bt(2,6,o.closeWord$),`
`)}}function me(e,t){e&1&&ft(0)}function he(e,t){if(e&1&&(d(0,"section",2),u(1,me,1,0,"ng-container",3),g(2,"tui-scroll-controls",4),h()),e&2){let o=t.$implicit;l("@tuiHost",void 0),$("aria-labelledby",o.id),a(),l("polymorpheusOutlet",o.component)("polymorpheusOutletContext",o)}}var oe=v(new tt([])),ge={appearance:"",size:"m",required:!1,closeable:!0,dismissible:!0,label:"",header:"",data:void 0},fe=v(et),_e=v(ge);var ve=17,ie=(()=>{let t=class t extends Q{constructor(){super(i=>B(this.esc$,this.mousedown$).subscribe(i)),this.win=r(A),this.doc=r(E),this.el=y(),this.esc$=N(this.doc,"keydown").pipe(O(i=>{let n=S(i);return i.key==="Escape"&&!i.defaultPrevented&&(this.el.contains(n)||this.isOutside(n))})),this.mousedown$=N(this.doc,"mousedown").pipe(O(i=>Ut(this.win)-i.clientX>ve&&this.isOutside(S(i))),T(()=>N(this.doc,"mouseup").pipe(P(1),p(S),O(i=>this.isOutside(i)))))}isOutside(i){return wt(i)&&(!z(this.el,i)||i===this.el)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac});let e=t;return e})(),be=new Error("Required dialog was dismissed");function ne(e){return nt(e)?e:it(e)}var Oe=(()=>{let t=class t{constructor(){this.speed=r(zt),this.animation={value:"",params:{start:"40px",duration:X(this.speed)}},this.fullscreenAnimation={value:"",params:{start:"100vh",duration:X(this.speed)}},this.close$=new Y,this.context=Bt(),this.closeWord$=r(At),this.icons=r(St),this.slideInTop=Ot(()=>this.size==="fullscreen"||this.size==="page"||this.isMobile()?this.fullscreenAnimation:this.animation),this.isMobile=q(r(Zt).pipe(p(i=>i==="mobile"))),B(this.close$.pipe(T(()=>ne(this.context.closeable))),r(ie).pipe(T(()=>ne(this.context.dismissible))),r(fe).pipe(p(It))).pipe(O(Boolean),k()).subscribe(()=>{this.close()})}get size(){return this.context.size}get header(){return this.context.header}close(){this.context.required?this.context.$implicit.error(be):this.context.$implicit.complete()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=W({type:t,selectors:[["tui-dialog"]],hostVars:6,hostBindings:function(n,s){n&2&&(_t("@tuiSlideInTop",s.slideInTop())("@tuiFadeIn",s.slideInTop()),$("data-appearance",s.context.appearance)("data-size",s.size),F("_centered",s.header))},features:[C([ie])],decls:7,vars:8,consts:[["class","t-header",4,"ngIf"],[1,"t-content"],[1,"t-heading",3,"id","textContent"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-filler"],["automation-id","tui-dialog__close","tuiIconButton","","type","button","class","t-close",3,"appearance","iconStart","size","border-radius","click","mousedown.prevent.silent",4,"ngIf"],[1,"t-header"],[3,"innerHTML"],[1,"t-buttons"],["size","m","tuiAutoFocus","","tuiButton","","type","button",3,"click"],["automation-id","tui-dialog__close","tuiIconButton","","type","button",1,"t-close",3,"click","mousedown.prevent.silent","appearance","iconStart","size"]],template:function(n,s){n&1&&(u(0,ue,2,2,"header",0),d(1,"div",1),g(2,"h2",2),d(3,"section"),u(4,de,5,2,"ng-container",3),h()(),g(5,"div",4),u(6,pe,3,8,"button",5)),n&2&&(l("ngIf",s.header),a(2),F("t-heading_closable",s.context.closeable),l("id",s.context.id)("textContent",s.context.label),a(2),l("polymorpheusOutlet",s.context.content)("polymorpheusOutletContext",s.context),a(2),l("ngIf",s.context.closeable))},dependencies:[Mt,yt,Z,te,Rt],styles:['[_nghost-%COMP%]{position:relative;display:flex;font:var(--tui-font-text-m);flex-direction:column;box-sizing:border-box;margin:auto;border-radius:1.5rem;border:2.5rem solid transparent}[_nghost-%COMP%]:after{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:"";border-radius:inherit;pointer-events:none;box-shadow:var(--tui-shadow-popup)}[data-size=auto][_nghost-%COMP%]{inline-size:auto}[data-size=s][_nghost-%COMP%]{inline-size:30rem}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:1.5rem}[data-size=s][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-heading-5)}[data-size=m][_nghost-%COMP%]{inline-size:42.5rem}[data-size=l][_nghost-%COMP%]{inline-size:55rem}[data-size=fullscreen][_nghost-%COMP%], [data-size=page][_nghost-%COMP%]{min-inline-size:100vw;min-block-size:100%;border-radius:0;border:none;background:var(--tui-background-elevation-1);box-shadow:0 4rem var(--tui-background-elevation-1)}[data-size=fullscreen][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], [data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:3rem calc(50vw - 22.5rem)}[data-size=fullscreen][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], [data-size=page][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-heading-3)}._centered[_nghost-%COMP%]{text-align:center}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]{min-inline-size:100%;inline-size:100%;max-inline-size:100%;border-radius:0;border:none;margin:auto 0 0}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:1rem}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-heading-5)}[data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], tui-root._mobile   [data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0}.t-heading[_ngcontent-%COMP%]{margin:0 0 .5rem;overflow-wrap:break-word;font:var(--tui-font-heading-4)}.t-heading_closable[_ngcontent-%COMP%]{padding-inline-end:2rem}.t-heading[_ngcontent-%COMP%]:empty{display:none}.t-header[_ngcontent-%COMP%]{display:flex;border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden}[data-size=fullscreen][_nghost-%COMP%]   tui-root._mobile[_nghost-%COMP%]   .t-header[_ngcontent-%COMP%], tui-root._mobile   [_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{flex:1}.t-content[_ngcontent-%COMP%]{border-radius:inherit;padding:1.75rem;background:var(--tui-background-elevation-1)}.t-content[_ngcontent-%COMP%]:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.t-filler[_ngcontent-%COMP%]{flex-grow:1}.t-close[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:1rem;right:1rem}.t-buttons[_ngcontent-%COMP%]{margin-top:1.25rem;text-align:end}'],data:{animation:[xt,Tt]}});let e=t;return e})(),Ce=(()=>{let t=class t extends Vt{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=H(t)))(s||t)}})(),t.\u0275prov=L({token:t,factory:()=>new t(oe,Oe,r(_e)),providedIn:"root"});let e=t;return e})(),_i=(()=>{let t=class t extends jt{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=H(t)))(s||t)}})(),t.\u0275dir=m({type:t,selectors:[["ng-template","tuiDialog",""]],inputs:{options:[0,"tuiDialogOptions","options"],open:[0,"tuiDialog","open"]},outputs:{openChange:"tuiDialogChange"},features:[C([Gt(Ce)]),mt]});let e=t;return e})();var vi=(()=>{let t=class t{constructor(){this.el=y(),this.dialogs=q(r(oe),{initialValue:[]})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=W({type:t,selectors:[["tui-dialogs"]],hostBindings:function(n,s){n&1&&f("keydown.silent",function(){return s.el.scrollTop=s.el.scrollHeight/2})},decls:2,vars:3,consts:[[1,"t-overlay"],["aria-modal","true","role","dialog","tuiFocusTrap","","tuiScrollRef","","class","t-dialog",4,"ngFor","ngForOf"],["aria-modal","true","role","dialog","tuiFocusTrap","","tuiScrollRef","",1,"t-dialog"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-scrollbars"]],template:function(n,s){n&1&&(g(0,"div",0),u(1,he,3,4,"section",1)),n&2&&(F("t-overlay_visible",s.dialogs().length),a(),l("ngForOf",s.dialogs()))},dependencies:[Ct,Z,ee,qt,Xt],styles:['[_nghost-%COMP%]{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;scrollbar-width:none;-ms-overflow-style:none;pointer-events:none;overflow:hidden;overscroll-behavior:none}[_nghost-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%]::-webkit-scrollbar-thumb{display:none}[_nghost-%COMP%]:has(section){pointer-events:auto;overflow:auto}[_nghost-%COMP%]:before{content:"";display:block;block-size:1000%}.t-overlay[_ngcontent-%COMP%], .t-dialog[_ngcontent-%COMP%]{transition-property:filter;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;scrollbar-width:none;-ms-overflow-style:none;position:fixed;top:0;left:0;bottom:0;right:0;display:flex;block-size:100%;align-items:flex-start;outline:none;overflow:auto}.t-overlay[_ngcontent-%COMP%]::-webkit-scrollbar, .t-dialog[_ngcontent-%COMP%]::-webkit-scrollbar, .t-overlay[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .t-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}.t-overlay.ng-animating[_ngcontent-%COMP%], .t-dialog.ng-animating[_ngcontent-%COMP%]{overflow:clip}.t-dialog[_ngcontent-%COMP%]{position:sticky;overscroll-behavior:none;filter:brightness(.25)}.t-overlay[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;background:var(--tui-service-backdrop);-webkit-backdrop-filter:var(--tui-backdrop, none);backdrop-filter:var(--tui-backdrop, none);opacity:0;transition-timing-function:ease-in}.t-overlay_visible[_ngcontent-%COMP%]{opacity:1;transition-timing-function:ease-out}.t-dialog[_ngcontent-%COMP%]:last-child{pointer-events:auto;filter:none}.t-scrollbars[_ngcontent-%COMP%]{position:fixed;top:0;left:0;bottom:0;right:0;margin:0;color:#747474}'],data:{animation:[Pt]}});let e=t;return e})();export{te as a,Ce as b,_i as c,vi as d};
