import{G as K,ba as zt,ca as Ft,da as Ht,ea as Et,ga as Yt,ha as $t}from"./chunk-GGY6MJXK.js";import{Ab as ft,B as it,Bb as $,Cb as N,Da as ct,Db as gt,Eb as _,Ga as Q,Gb as x,Ia as dt,Jc as vt,L as j,Ld as B,Ne as wt,Ob as S,Pb as L,Qa as r,Rb as _t,Ta as E,Td as Ot,Ud as It,Va as ut,Vb as G,W as nt,Wb as Z,We as At,X as ot,Ya as Y,cf as Nt,da as at,db as p,eb as b,fb as c,fd as yt,g as et,gb as g,hb as M,ja as m,jd as Ct,kd as bt,l as z,mb as h,nb as d,ob as y,od as X,pa as T,pb as O,qb as I,qd as Mt,r as F,ra as C,rd as Pt,s as H,sb as ht,te as Lt,ud as Tt,vb as W,vc as R,wb as l,wc as k,xa as rt,xb as pt,xe as St,ya as st,yb as mt,yc as xt,ye as Dt,za as lt,zb as q}from"./chunk-SY4TDKKS.js";import{a as A,b as V}from"./chunk-HFDGAYQF.js";function Wt(t){let e=String(t),[n,i]=e.split("e-"),o=e;if(i){let[,a]=n.split("."),u=Number(i)+((a==null?void 0:a.length)||0);o=t.toFixed(u)}return o}function qt(t,e){let[,n=""]=Wt(t).split(".");return Ct(e)?n.slice(0,Math.max(0,e)):n}function Be(t,e={}){let{precision:n,decimalSeparator:i,thousandSeparator:o,decimalMode:a,rounding:u}=A(V(A({},wt),{decimalMode:"always",precision:1/0}),e),s=Number.isFinite(n)?Tt({value:t,precision:n,method:u}):t,f=String(Math.floor(Math.abs(s))),v=qt(s,n),U=Number(v)>0;if(Number.isFinite(n))if(a==="always"||U&&a==="pad"){let P=Math.max(n-v.length,0),Qt="0".repeat(P);v=`${v}${Qt}`}else v=v.replace(/0*$/,"");let jt=f.length%3,w=(t<0?It:"")+f.charAt(0);for(let P=1;P<f.length;P++)P%3===jt&&f.length>3&&(w+=o),w+=f.charAt(P);return v?w+i+v:w}function Ue(t){if(t==="")return"";let e=0;for(let a=0;a<t.length;a++)e=t.charCodeAt(a)+((e<<5)-e),e&=e;let n=e%360,i=60+e%5,o=80+e%5;return`hsl(${n},${i}%,${o}%)`}var Gt=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=T({type:e,selectors:[["ng-component"]],hostAttrs:[1,"tui-cell"],standalone:!0,features:[L],decls:0,vars:0,template:function(o,a){},styles:[`[tuiCell]{--tui-height: calc(var(--tui-height-s) - .5rem);--t-padding: .125rem 1rem;-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;position:relative;display:flex;align-items:center;box-sizing:content-box;isolation:isolate;color:var(--tui-text-primary);padding:var(--t-padding);min-height:var(--t-height)}[tuiCell]:disabled{pointer-events:none}[tuiCell] [tuiAccessories]{position:relative;display:flex;max-height:var(--t-height);align-items:center;align-self:stretch}[tuiCell] [tuiCellActions]{position:absolute;right:0;z-index:1;padding-right:inherit}[tuiCell] [tuiCellActions]~*{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}[tuiCell] [tuiCellActions] button,[tuiCell] [tuiCellActions] a{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:0}[tuiCell] [tuiCellActions] button:focus-visible,[tuiCell] [tuiCellActions] a:focus-visible{opacity:1}[tuiCell] [tuiSubtitle]{display:flex;align-items:center;gap:.25rem;color:var(--tui-text-secondary)}[tuiCell] [tuiTitle]{flex-shrink:7;margin-inline-end:auto;align-items:normal;text-align:left}[tuiCell] [tuiTitle]~[tuiTitle]{flex-shrink:3;margin-inline-end:0;text-align:right;align-items:flex-end}[tuiCell] [tuiTitle]~[tuiTitle][tuiFade]{align-items:flex-start}[tuiCell] tui-badge-notification[data-size=xs]{position:absolute;top:50%;transform:translateY(-50%);left:-.625rem}[tuiCell][data-size=s]{--t-height: calc(var(--tui-height-s) - .5rem);--t-padding: .125rem 1rem}[tuiCell][data-size=s] [tuiTitle]{max-height:100%;font:var(--tui-font-text-ui-s);gap:0}[tuiCell][data-size=s] [tuiSubtitle]{font:var(--tui-font-text-ui-xs)}[tuiCell][data-size=s]>*:not(:first-child),[tuiCell][data-size=s]>[tuiAccessories]>*:not(:first-child){margin-inline-start:.5rem}[tuiCell][data-size=s]>tui-avatar,[tuiCell][data-size=s]>tui-avatar-stack tui-avatar,[tuiCell][data-size=s]>[tuiAccessories] tui-avatar,[tuiCell][data-size=s]>[tuiAccessories] tui-avatar-stack tui-avatar{--t-size: 1.5rem;font:var(--tui-font-text-m);font-size:.5625rem}[tuiCell][data-size=m]{--t-height: calc(var(--tui-height-m) - .75rem);--t-padding: .375rem 1rem}[tuiCell][data-size=m] [tuiTitle]{font:var(--tui-font-text-ui-s);gap:.125rem}[tuiCell][data-size=m] [tuiSubtitle]{font:var(--tui-font-text-ui-xs)}[tuiCell][data-size=m]>*:not(:first-child),[tuiCell][data-size=m]>[tuiAccessories]>*:not(:first-child){margin-inline-start:.75rem}[tuiCell][data-size=m]>tui-avatar,[tuiCell][data-size=m]>tui-avatar-stack tui-avatar,[tuiCell][data-size=m]>[tuiAccessories] tui-avatar,[tuiCell][data-size=m]>[tuiAccessories] tui-avatar-stack tui-avatar{--t-size: 2rem}[tuiCell][data-size=l]{--t-height: calc(var(--tui-height-l) - 1rem);--t-padding: .5rem 1rem}[tuiCell][data-size=l]>*:not(:first-child),[tuiCell][data-size=l]>[tuiAccessories]>*:not(:first-child){margin-inline-start:1rem}[tuiCell][data-size=l]>tui-avatar,[tuiCell][data-size=l]>tui-avatar-stack tui-avatar,[tuiCell][data-size=l]>[tuiAccessories] tui-avatar,[tuiCell][data-size=l]>[tuiAccessories] tui-avatar-stack tui-avatar{--t-size: 2.5rem;font:var(--tui-font-text-m);font-weight:700}[tuiCell]:hover [tuiCellActions]~*{opacity:0}[tuiCell]:hover [tuiCellActions] button,[tuiCell]:hover [tuiCellActions] a{opacity:1}[tuiOption] [tuiCell],tui-primitive-textfield [tuiCell]{padding:0}@media (hover: hover) and (pointer: fine){a[tuiCell]:not([tuiSurface]):hover,button[tuiCell]:not([tuiSurface]):hover{background:var(--tui-background-neutral-1);cursor:pointer}}
`],encapsulation:2,changeDetection:0});let t=e;return t})(),Ge=(()=>{let e=class e{constructor(){this.nothing=Mt(Gt),this.size=""}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=C({type:e,selectors:[["","tuiCell","",5,"ng-template"]],hostAttrs:["tuiCell",""],hostVars:1,hostBindings:function(o,a){o&2&&b("data-size",a.size||"l")},inputs:{size:[0,"tuiCell","size"]},standalone:!0,features:[S([Nt({size:"s"}),At({size:"s"})])]});let t=e;return t})();var Zt=65536,J=class{constructor(e){this.$implicit=e}},Rt=(()=>{let e=class e{constructor(){this.viewContainer=m(Y),this.templateRef=m(E)}set tuiRepeatTimesOf(i){let o=Math.floor(Pt(i,0,Zt)),{length:a}=this.viewContainer;i<a?this.removeContainers(a-i):this.addContainers(o)}addContainers(i){for(let o=this.viewContainer.length;o<i;o++)this.viewContainer.createEmbeddedView(this.templateRef,new J(o))}removeContainers(i){for(let o=0;o<i;o++)this.viewContainer.remove()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=C({type:e,selectors:[["","tuiRepeatTimes","","tuiRepeatTimesOf",""]],inputs:{tuiRepeatTimesOf:"tuiRepeatTimesOf"},standalone:!0});let t=e;return t})();var Kt=["*"];function Jt(t,e){if(t&1&&(h(0,"div",14),_(1),d()),t&2){let n=l(2);r(),x(" ",n.axisYName," ")}}function te(t,e){if(t&1&&(h(0,"div",17),_(1),d()),t&2){let n=e.$implicit,i=l(3);r(),x(" ",i.fallback(n)," ")}}function ee(t,e){if(t&1&&(h(0,"div",15),p(1,te,2,1,"div",16),d()),t&2){let n=l(2);r(),c("ngForOf",n.axisYLabels)}}function ie(t,e){if(t&1&&(h(0,"div",11),p(1,Jt,2,1,"div",12)(2,ee,2,1,"div",13),d()),t&2){let n=l();M("t-side_padding",n.hasXLabels),r(),c("ngIf",n.axisYName),r(),c("ngIf",!n.axisYInset)}}function ne(t,e){if(t&1&&y(0,"div",18),t&2){let n=e.$implicit,i=l();g("border-right-style",i.verticalLinesHandler(n,i.verticalLines))}}function oe(t,e){if(t&1&&y(0,"div",19),t&2){let n=e.$implicit,i=l();g("border-top-style",i.horizontalLinesHandler(n,i.horizontalLines))}}function ae(t,e){if(t&1&&(h(0,"div",17),_(1),d()),t&2){let n=e.$implicit,i=l(2);r(),x(" ",i.fallback(n)," ")}}function re(t,e){if(t&1&&(h(0,"div",20),p(1,ae,2,1,"div",16),d()),t&2){let n=l();r(),c("ngForOf",n.axisYLabels)}}function se(t,e){if(t&1&&(h(0,"div",23),_(1),d()),t&2){let n=e.$implicit,i=l(2);r(),x(" ",i.fallback(n)," ")}}function le(t,e){if(t&1&&(h(0,"div",21),p(1,se,2,1,"div",22),d()),t&2){let n=l();r(),c("ngForOf",n.axisYSecondaryLabels)}}function ce(t,e){if(t&1&&(h(0,"div",26),_(1),d()),t&2){let n=e.$implicit,i=l(2);M("t-label-x_transparent",n===null),r(),x(" ",i.fallback(n)," ")}}function de(t,e){if(t&1&&(h(0,"div",24),p(1,ce,2,3,"div",25),d()),t&2){let n=l();r(),c("ngForOf",n.axisXLabels)}}function ue(t,e){if(t&1&&(h(0,"div",23),_(1),d()),t&2){let n=e.$implicit,i=l(3);r(),x(" ",i.fallback(n)," ")}}function he(t,e){if(t&1&&(h(0,"div",29),p(1,ue,2,1,"div",22),d()),t&2){let n=l(2);r(),c("ngForOf",n.axisYSecondaryLabels)}}function pe(t,e){if(t&1&&(h(0,"div",30),_(1),d()),t&2){let n=l(2);r(),x(" ",n.axisYSecondaryName," ")}}function me(t,e){if(t&1&&(h(0,"div",11),p(1,he,2,1,"div",27)(2,pe,2,1,"div",28),d()),t&2){let n=l();M("t-side_padding",n.hasXLabels),r(),c("ngIf",!n.axisYSecondaryInset),r(),c("ngIf",n.axisYSecondaryName)}}var fe=()=>"dashed";var ge=()=>"solid";var ri=(()=>{let e=class e{constructor(){this.axisX="solid",this.axisXLabels=[],this.axisY="solid",this.axisYInset=!1,this.axisYLabels=[],this.axisYName="",this.axisYSecondaryInset=!1,this.axisYSecondaryLabels=[],this.axisYSecondaryName="",this.horizontalLines=0,this.horizontalLinesHandler=ge,this.verticalLines=0,this.verticalLinesHandler=fe}get hasXLabels(){return!!this.axisXLabels.length}get hasYLabels(){return!!this.axisYLabels.length&&!this.axisYInset||!!this.axisYName}get hasYSecondaryLabels(){return!!this.axisYSecondaryLabels.length&&!this.axisYSecondaryInset||!!this.axisYSecondaryName}fallback(i){return i||Ot}get centeredXLabels(){return this.axisY==="none"}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=T({type:e,selectors:[["tui-axes"]],hostVars:2,hostBindings:function(o,a){o&2&&M("_centered",a.centeredXLabels)},inputs:{axisX:"axisX",axisXLabels:"axisXLabels",axisY:"axisY",axisYInset:"axisYInset",axisYLabels:"axisYLabels",axisYName:"axisYName",axisYSecondaryInset:"axisYSecondaryInset",axisYSecondaryLabels:"axisYSecondaryLabels",axisYSecondaryName:"axisYSecondaryName",horizontalLines:"horizontalLines",horizontalLinesHandler:"horizontalLinesHandler",verticalLines:"verticalLines",verticalLinesHandler:"verticalLinesHandler"},standalone:!0,features:[L],ngContentSelectors:Kt,decls:13,vars:11,consts:[["class","t-side",3,"t-side_padding",4,"ngIf"],[1,"t-wrapper"],[1,"t-grid"],[1,"t-vertical"],["automation-id","tui-axex__vertical-line","class","t-line t-line_vertical",3,"borderRightStyle",4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-horizontal"],["automation-id","tui-axex__horizontal-line","class","t-line",3,"borderTopStyle",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["class","t-labels-y t-labels-y_inset",4,"ngIf"],["class","t-labels-y t-labels-y_inset t-labels-y_inset_secondary",4,"ngIf"],[1,"t-content"],["class","t-labels-x",4,"ngIf"],[1,"t-side"],["automation-id","tui-axex__axis-y-name","class","t-name t-name_primary",4,"ngIf"],["class","t-labels-y t-labels-y_primary",4,"ngIf"],["automation-id","tui-axex__axis-y-name",1,"t-name","t-name_primary"],[1,"t-labels-y","t-labels-y_primary"],["automation-id","tui-axex__axis-y-label","class","t-label-y",4,"ngFor","ngForOf"],["automation-id","tui-axex__axis-y-label",1,"t-label-y"],["automation-id","tui-axex__vertical-line",1,"t-line","t-line_vertical"],["automation-id","tui-axex__horizontal-line",1,"t-line"],[1,"t-labels-y","t-labels-y_inset"],[1,"t-labels-y","t-labels-y_inset","t-labels-y_inset_secondary"],["automation-id","tui-axex__axis-y-secondary-label","class","t-label-y",4,"ngFor","ngForOf"],["automation-id","tui-axex__axis-y-secondary-label",1,"t-label-y"],[1,"t-labels-x"],["automation-id","tui-axex__axis-x-label","class","t-label-x",3,"t-label-x_transparent",4,"ngFor","ngForOf"],["automation-id","tui-axex__axis-x-label",1,"t-label-x"],["class","t-labels-y t-labels-y_secondary",4,"ngIf"],["automation-id","tui-axex__axis-y-secondary-name","class","t-name",4,"ngIf"],[1,"t-labels-y","t-labels-y_secondary"],["automation-id","tui-axex__axis-y-secondary-name",1,"t-name"]],template:function(o,a){o&1&&(pt(),p(0,ie,3,4,"div",0),h(1,"div",1)(2,"div",2)(3,"div",3),p(4,ne,1,2,"div",4),d(),h(5,"div",5),p(6,oe,1,2,"div",6),d(),p(7,re,2,1,"div",7)(8,le,2,1,"div",8),h(9,"div",9),mt(10),d()(),p(11,de,2,1,"div",10),d(),p(12,me,3,4,"div",0)),o&2&&(c("ngIf",a.hasYLabels),r(2),g("border-bottom-style",a.axisX)("border-left-style",a.axisY),r(2),c("tuiRepeatTimesOf",a.verticalLines),r(2),c("tuiRepeatTimesOf",a.horizontalLines),r(),c("ngIf",a.axisYInset),r(),c("ngIf",a.axisYSecondaryInset),r(3),c("ngIf",a.hasXLabels),r(),c("ngIf",a.hasYSecondaryLabels))},dependencies:[k,R,Rt],styles:['[_nghost-%COMP%]{display:flex}.t-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;height:100%;flex-direction:column}.t-grid[_ngcontent-%COMP%]{position:relative;display:flex;flex:1;justify-content:space-around;align-items:flex-end;border-width:1px;border-color:var(--tui-border-normal);isolation:isolate}.t-horizontal[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column}.t-vertical[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex}._centered[_nghost-%COMP%]   .t-vertical[_ngcontent-%COMP%]:after{content:"";display:block;flex:1 0 1px}.t-line[_ngcontent-%COMP%]{flex:2 0 1px;box-sizing:border-box;border-width:1px;border-color:var(--tui-border-normal)}._centered[_nghost-%COMP%]   .t-line_vertical[_ngcontent-%COMP%]:first-child{flex:1 0 1px;pointer-events:none}.t-side[_ngcontent-%COMP%]{display:flex;align-items:stretch}.t-side_padding[_ngcontent-%COMP%]{padding-bottom:2rem}.t-name[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);writing-mode:tb;text-align:center;padding-left:.75rem;color:var(--tui-text-secondary)}.t-name_primary[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-labels-y[_ngcontent-%COMP%]{display:flex;font:var(--tui-font-text-xs);flex-direction:column-reverse;justify-content:space-between;color:var(--tui-text-secondary)}.t-labels-y_primary[_ngcontent-%COMP%]{text-align:right;padding-right:.75rem}.t-labels-y_secondary[_ngcontent-%COMP%]{padding-left:.75rem}.t-labels-y_transparent[_ngcontent-%COMP%]{border-color:transparent}.t-labels-y_inset[_ngcontent-%COMP%]{position:absolute;top:.5625rem;left:.25rem;bottom:-.75rem;pointer-events:none}.t-labels-y_inset_secondary[_ngcontent-%COMP%]{left:auto;right:.25rem;text-align:right}.t-labels-x[_ngcontent-%COMP%]{display:flex;font:var(--tui-font-text-xs);border-right:1px solid transparent;color:var(--tui-text-secondary)}.t-label-x[_ngcontent-%COMP%]{height:.4375rem;border-left:1px solid var(--tui-border-normal);flex:1;margin-bottom:1.5625rem}.t-label-x[_ngcontent-%COMP%]:before{content:"";display:block;height:.5625rem}.t-label-x_transparent[_ngcontent-%COMP%]{border-color:transparent}._centered[_nghost-%COMP%]   .t-label-x[_ngcontent-%COMP%]{height:2rem;text-align:center;border:none;margin:0}[new][_nghost-%COMP%]:not(._centered)   .t-label-x[_ngcontent-%COMP%]:last-child:not(:first-child){flex:.5;text-align:right;border-left:none}[new][_nghost-%COMP%]:not(._centered)   .t-label-x[_ngcontent-%COMP%]:nth-last-child(2){flex:.5}.t-label-y[_ngcontent-%COMP%]:first-child{margin-bottom:-.375rem}.t-label-y[_ngcontent-%COMP%]:last-child{margin-top:-.375rem}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:-1px;right:0;bottom:-1px;display:flex;align-items:flex-end}'],changeDetection:0});let t=e;return t})();function _e(t,e){let n=e[0]-t[0],i=e[1]-t[1];return Math.atan2(i,n)}function xe(t,e){let n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n**2+i**2)}function kt(t,e,n,i=!1,o=.2){let a=e||t,u=n||t,s=_e(a,u)+(i?Math.PI:0),f=xe(a,u)*o,v=t[0]+Math.cos(s)*f,U=t[1]+Math.sin(s)*f;return[v,U]}function ve(t,e,n){let[i,o]=kt(t[e-1],t[e-2],t[e],!1,n),[a,u]=kt(t[e],t[e-1],t[e+1],!0,n);return`C ${i},${o} ${a},${u} ${t[e][0]},${t[e][1]}`}function ye(t){return`L ${t}`}var Ce=500;function Xt(t,e,n){return n?ve(t,e,n/Ce):ye([t[e][0],t[e][1]])}var tt=class{constructor(e){this.internalDirectiveInstance=e}get $implicit(){return this.internalDirectiveInstance.tuiLet}get tuiLet(){return this.internalDirectiveInstance.tuiLet}},Bt=(()=>{let e=class e{constructor(){m(Y).createEmbeddedView(m(E),new tt(this))}static ngTemplateContextGuard(i,o){return!0}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=C({type:e,selectors:[["","tuiLet",""]],inputs:{tuiLet:"tuiLet"},standalone:!0});let t=e;return t})();var be="tui_",Ut=(()=>{let e=class e{generate(){return`${be}${e.autoId++}${Date.now()}`}};e.autoId=0,e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Me=(t,e)=>({$implicit:t,index:e});function Pe(t,e){if(t&1&&y(0,"div",10),t&2){let n=e.$implicit,i=l(3);g("bottom",i.getBottom(n[1]),"%")("left",i.getLeft(n[0]),"%")}}function Te(t,e){if(t&1&&(O(0),p(1,Pe,1,4,"div",9),I()),t&2){let n=l(2);r(),c("ngForOf",n.value)}}function Oe(t,e){if(t&1){let n=ht();h(0,"div",14),G(1,"async"),W("mouseenter",function(){rt(n);let o=l().index,a=l(3);return st(a.onMouseEnter(o))}),y(2,"div",15)(3,"div",16,0),d()}if(t&2){let n=gt(4),i=l(),o=i.$implicit,a=i.index,u=l(2).tuiLet,s=l();g("left",s.getLeft(s.getX(a)),"%")("width",s.getWidth(a),"%"),M("t-column_hint_hovered",Z(1,20,s.drivers.get(a)))("t-column_hovered",u===a),c("tuiHint",(s.hintDirective==null?null:s.hintDirective.hint)||s.hintContent)("tuiHintContext",_t(22,Me,s.getImplicit(o),a))("tuiHintDescribe",s.isFocusable?s.getHintId(a):null)("tuiHintHost",n),r(2),g("left",s.getOffset(a),"%"),r(),g("bottom",s.getBottom(o[1]),"%")("left",s.getOffset(a),"%"),c("id",s.getHintId(a))("tabIndex",s.isFocusable?0:-1)}}function Ie(t,e){if(t&1&&y(0,"div",17),t&2){let n=l().$implicit,i=l(3);g("bottom",i.getBottom(n[1]),"%")}}function Le(t,e){if(t&1&&(O(0),p(1,Oe,5,25,"div",12)(2,Ie,1,2,"div",13),I()),t&2){let n=l(3);r(),c("ngIf",n.value.length>1||n.dots),r(),c("ngIf",n.isFocusable)}}function Se(t,e){if(t&1&&(O(0),p(1,Le,3,2,"ng-container",11),I()),t&2){let n=l(2);r(),c("ngForOf",n.value)}}function De(t,e){if(t&1&&(h(0,"div",20),_(1),d()),t&2){let n=l().ngIf,i=l(2);g("left",i.getLeft(n[0]),"%"),r(),x(" ",i.xStringify(n[0])," ")}}function we(t,e){if(t&1&&(h(0,"div",21),_(1),d()),t&2){let n=l().ngIf,i=l(2);g("bottom",i.getBottom(n[1]),"%"),r(),x(" ",i.yStringify(n[1])," ")}}function Ae(t,e){if(t&1&&(O(0),p(1,De,2,3,"div",18)(2,we,2,3,"div",19),I()),t&2){let n=l(2);r(),c("ngIf",n.xStringify),r(),c("ngIf",n.yStringify)}}function ze(t,e){if(t&1&&(O(0),lt(),h(1,"svg",2)(2,"defs")(3,"linearGradient",3),y(4,"stop",4)(5,"stop",5),d()(),y(6,"path",6)(7,"path",7),d(),p(8,Te,2,1,"ng-container",8)(9,Se,2,1,"ng-container",8)(10,Ae,3,2,"ng-container",8),I()),t&2){let n=e.tuiLet,i=l();r(),b("viewBox",i.viewBox),r(2),b("id",i.fillId),r(3),b("d",i.fillD)("fill",i.fill),r(),b("d",i.d),r(),c("ngIf",i.dots),r(),c("ngIf",i.hasHints),r(),c("ngIf",i.getHovered(n))}}var Fe={dots:!1,filled:!1,smoothingFactor:0},He=yt(Fe);var Ee=(()=>{let e=class e{constructor(){this.charts=B,this.chartsRef=B,this.renderer=m(ut),this.destroyRef=m(ct),this.zone=m(Q),this.hovered$=m(K)}ngAfterViewInit(){H([Ye(this.charts),this.hovered$]).pipe(it(i=>!i.some(Boolean)),St(this.zone),vt(this.destroyRef)).subscribe(()=>{this.charts.forEach(i=>i.onHovered(NaN))})}getContext(i,o){return this.computeContext(...this.charts.map(({value:a})=>a))[i]}raise(i,o){let a=this.charts.map(s=>s.value[i]),u=[...a].sort((s,f)=>s[1]-f[1]);this.charts.forEach(s=>s.onHovered(i)),this.chartsRef.forEach(({nativeElement:s},f)=>this.renderer.setStyle(s,"z-index",u.indexOf(a[f])))}computeContext(...i){return(i[0]||[]).map((o,a)=>i.map(u=>u[a]))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=C({type:e,selectors:[["","tuiLineChartHint",""]],contentQueries:function(o,a,u){if(o&1&&(q(u,Vt,4),q(u,Vt,4,dt)),o&2){let s;$(s=N())&&(a.charts=s),$(s=N())&&(a.chartsRef=s)}},inputs:{hint:[0,"tuiLineChartHint","hint"]},standalone:!0,features:[S([K])]});let t=e;return z([X],t.prototype,"computeContext",null),t})();function Ye(t){return H(t.map(({drivers:e})=>Lt(e).pipe(F(n=>n.map(i=>i.pipe(nt(!1))))))).pipe(F(e=>e.reduce((n,i)=>n.concat(i),[])),ot(e=>H(e)),F(e=>e.some(Boolean)),j())}var Vt=(()=>{let e=class e{constructor(){this.zone=m(Q),this.options=m(He),this.hover$=new et,this.autoIdString=m(Ut).generate(),this.hintDirective=m(Ee,{optional:!0}),this.hintOptions=m(Ft,{optional:!0}),this.drivers=B,this.x=0,this.y=0,this.width=0,this.height=0,this.smoothingFactor=this.options.smoothingFactor,this.xStringify=null,this.yStringify=null,this.filled=this.options.filled,this.dots=this.options.dots,this.value=[]}set valueSetter(i){this.value=i.filter(o=>!o.some(Number.isNaN))}onHovered(i){this.hover$.next(i)}get hovered$(){return this.hover$.pipe(j(),Dt(this.zone))}get hintContent(){var i;return((i=this.hintOptions)==null?void 0:i.content)||""}get fillId(){return`tui-line-chart-${this.autoIdString}`}get fill(){return this.filled?`url(#${this.fillId})`:"none"}get viewBox(){return`${this.x} ${this.y} ${this.width} ${this.height}`}get d(){return this.getD(this.value,this.smoothingFactor)}get fillD(){return this.value.length?`${this.d}V ${this.y} H ${this.value[0][0]} V ${this.value[0][1]}`:this.d}get isFocusable(){return!this.hintDirective&&this.hasHints}get hasHints(){var i;return!!this.xStringify||!!this.yStringify||!!((i=this.hintDirective)!=null&&i.hint)||!!this.hintContent}onMouseLeave(){this.hintDirective||this.onHovered(NaN)}getX(i){return this.isSinglePoint?this.value[0][0]/2:i?(this.value[i-1][0]+this.value[i][0])/2:2*this.value[0][0]-this.getX(1)}getWidth(i){return 100*this.computeWidth(i)/this.width}getHintId(i){return`${this.autoIdString}_${i}`}getImplicit(i){var o;return((o=this.hintDirective)==null?void 0:o.getContext(this.value.indexOf(i),this))||i}getHovered(i){return bt(i)&&Number.isInteger(i)?this.value[i]:null}getBottom(i){return 100*(i-this.y)/this.height}getLeft(i){return 100*(i-this.x)/this.width}getOffset(i){return 100*(this.value[i][0]-this.getX(i))/this.computeWidth(i)}onMouseEnter(i){this.hintDirective?this.hintDirective.raise(i,this):this.onHovered(i)}get isSinglePoint(){return this.value.length===1}getD(i,o){return i.reduce((a,u,s)=>s?`${a} ${Xt(i,s,o)}`:`M ${u}`,"")}computeWidth(i){return i===this.value.length-1?2*(this.value[i][0]-this.getX(i)):this.getX(i+1)-this.getX(i)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=T({type:e,selectors:[["tui-line-chart"]],viewQuery:function(o,a){if(o&1&&ft(Ht,5),o&2){let u;$(u=N())&&(a.drivers=u)}},hostBindings:function(o,a){o&1&&W("mouseleave",function(){return a.onMouseLeave()})},inputs:{x:"x",y:"y",width:"width",height:"height",smoothingFactor:"smoothingFactor",xStringify:"xStringify",yStringify:"yStringify",filled:"filled",dots:"dots",valueSetter:[0,"value","valueSetter"]},standalone:!0,features:[S([],[zt({direction:"top",hideDelay:0})]),L],decls:2,vars:3,consts:[["hintHost",""],[4,"tuiLet"],["focusable","false","height","100%","preserveAspectRatio","none","width","100%","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["x1","0","x2","0","y1","1","y2","0"],["offset","0%","stop-color","currentColor","stop-opacity","0.5"],["offset","100%","stop-color","currentColor","stop-opacity","0"],["stroke","none"],["fill","none","stroke","currentColor","stroke-width","2","vector-effect","non-scaling-stroke"],[4,"ngIf"],["class","t-dot",3,"bottom","left",4,"ngFor","ngForOf"],[1,"t-dot"],[4,"ngFor","ngForOf"],["class","t-column",3,"t-column_hint_hovered","t-column_hovered","left","width","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost","mouseenter",4,"ngIf"],["class","t-line t-line_horizontal",3,"bottom",4,"ngIf"],[1,"t-column",3,"mouseenter","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost"],[1,"t-line","t-line_vertical"],[1,"t-host",3,"id","tabIndex"],[1,"t-line","t-line_horizontal"],["class","t-hint t-hint_x",3,"left",4,"ngIf"],["class","t-hint t-hint_y",3,"bottom",4,"ngIf"],[1,"t-hint","t-hint_x"],[1,"t-hint","t-hint_y"]],template:function(o,a){o&1&&(p(0,ze,11,8,"ng-container",1),G(1,"async")),o&2&&c("tuiLet",Z(1,1,a.hovered$))},dependencies:[Bt,xt,k,Et,Yt,$t,R],styles:['[_nghost-%COMP%]{display:flex;width:100%;height:100%;pointer-events:none}.t-svg[_ngcontent-%COMP%]{transform:scaleY(-1)}.t-column[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;pointer-events:auto}.t-dot[_ngcontent-%COMP%]{position:absolute;width:.375rem;height:.375rem;border-radius:100%;background:currentColor;margin:-.1875rem;box-shadow:0 0 0 2px #fff}.t-host[_ngcontent-%COMP%]{position:absolute;left:50%;width:.5rem;height:.5rem;border-radius:100%;opacity:0;background:#fff;margin:-.25rem;box-shadow:0 0 0 2px currentColor,0 .0625rem .1875rem .125rem #0000001a;outline:none;pointer-events:none}.t-host[_ngcontent-%COMP%]:focus, .t-column_hovered[_ngcontent-%COMP%]   .t-host[_ngcontent-%COMP%], .t-column[_ngcontent-%COMP%]:hover   .t-host[_ngcontent-%COMP%], .t-column_hint_hovered[_ngcontent-%COMP%]   .t-host[_ngcontent-%COMP%]{opacity:1}.t-line[_ngcontent-%COMP%]{position:absolute;opacity:0;background:var(--tui-border-normal)}.t-line_vertical[_ngcontent-%COMP%]{top:0;bottom:0;left:50%;width:1px}.t-line_horizontal[_ngcontent-%COMP%]{z-index:-1;width:100%;height:1px}[style^="z-index: 0"][_nghost-%COMP%]   .t-column_hovered[_ngcontent-%COMP%]   .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column[_ngcontent-%COMP%]:hover   .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column_hint_hovered[_ngcontent-%COMP%]   .t-line[_ngcontent-%COMP%], [style^="z-index: 0"][_nghost-%COMP%]   .t-column_hovered[_ngcontent-%COMP%] + .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column[_ngcontent-%COMP%]:hover + .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column_hint_hovered[_ngcontent-%COMP%] + .t-line[_ngcontent-%COMP%]{opacity:1}.t-hint[_ngcontent-%COMP%]{position:absolute;box-shadow:var(--tui-shadow-small);font:var(--tui-font-text-xs);height:1.25rem;line-height:1.25rem;margin-bottom:-.625rem;padding:0 .375rem;white-space:nowrap;color:var(--tui-text-primary);background:var(--tui-background-base);transform:translate3d(-50%,0,0)}.t-hint_x[_ngcontent-%COMP%]{bottom:0}.t-hint_y[_ngcontent-%COMP%]{left:0}'],changeDetection:0});let t=e;return z([X],t.prototype,"hovered$",null),z([X],t.prototype,"getD",null),t})();export{Be as a,Ue as b,Ut as c,Bt as d,Rt as e,Ge as f,ri as g,He as h,Ee as i,Ye as j,Vt as k};
