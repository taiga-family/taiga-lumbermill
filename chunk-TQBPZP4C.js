import{b as Zt}from"./chunk-D6TOS4RE.js";import{H as Gt,K as jt,L as qt,O as Xt,R as Jt,V as Kt,X as Qt,b as Pt,d as Tt,g as xt,h as Lt,l as Z,n as Wt,q as X,s as Ht,t as $t,u as Vt}from"./chunk-P37IJEG5.js";import{$ as L,A as ot,Be as A,Ca as dt,Dd as wt,Ea as pt,Eb as y,F as C,Ga as a,Ja as mt,Jd as b,Je as Et,K as st,Lb as vt,Ld as k,Mb as bt,Me as St,Na as H,Nd as Ft,Od as zt,Oe as At,Pa as m,Pd as E,Pe as Nt,R as rt,Ra as ht,T as B,Ta as u,Ua as $,Ud as M,Va as l,Wa as gt,We as Rt,X as at,Xa as I,Xb as Ot,_b as z,bc as Ct,c as Q,cb as d,cc as yt,da as r,db as h,de as S,eb as g,ec as Mt,f as Y,fb as V,fe as Dt,g as tt,gb as G,hb as ft,ib as j,id as It,k as et,kb as _t,la as T,lb as f,ma as x,mb as _,nf as Ut,oa as W,pf as Bt,q as it,qa as lt,qd as D,r as nt,s as p,sa as ct,sd as q,ua as ut,ub as w,vd as v,w as R,wb as F,x as U,z as O,ze as kt}from"./chunk-2Y22BHGV.js";var N=class{constructor(t,o){this.el=t,this.options=o}get element(){return(this.el.nativeElement.tagName.includes("-")?this.el.nativeElement.querySelector(this.options.query):this.el.nativeElement)||this.el.nativeElement}get isTextFieldElement(){return this.element.matches(this.options.query)}},ae=1e3,le=".ng-animating",J=class extends N{constructor(t,o,i,n){super(t,n),this.animationFrame$=o,this.zone=i}setFocus(){this.isTextFieldElement?ot(R(this.options.delay||ae),this.animationFrame$.pipe(at(100,St(this.zone)),p(()=>this.element.closest(le)),rt(Boolean),C(1))).subscribe(()=>this.element.focus({preventScroll:this.options.preventScroll})):this.element.focus({preventScroll:!0})}},ce=["type","inputMode","autocomplete","accept","min","max","step","pattern","size","maxlength"],K=class extends N{constructor(t,o,i,n,s){super(t,s),this.renderer=o,this.zone=i,this.win=n}setFocus(){this.isTextFieldElement?this.zone.runOutsideAngular(()=>this.iosWebkitAutofocus()):this.element.focus({preventScroll:!0})}iosWebkitAutofocus(){var P;let t=this.makeFakeInput(),o=this.getDurationTimeBeforeFocus(),i=0,n=0,s=()=>t.focus({preventScroll:!0}),c=()=>{clearTimeout(i),i=this.win.setTimeout(()=>{clearTimeout(n),t.removeEventListener("blur",s),t.removeEventListener("focus",c),n=this.win.setTimeout(()=>{this.element.focus({preventScroll:this.options.preventScroll}),t.remove()},o)})};t.addEventListener("blur",s,{once:!0}),t.addEventListener("focus",c),this.insideDialog()?this.win.document.body.appendChild(t):(P=this.element.parentElement)==null||P.appendChild(t),t.focus({preventScroll:!0})}makeFakeInput(){let t=this.renderer.createElement("input"),o=this.element.getBoundingClientRect();return this.patchFakeInputFromFocusableElement(t),t.style.height=b(o.height),t.style.width=b(o.width/2),t.style.position="fixed",t.style.zIndex="-99999999",t.style.caretColor="transparent",t.style.border="none",t.style.outline="none",t.style.color="transparent",t.style.background="transparent",t.style.cursor="none",t.style.fontSize=b(16),t.style.top=b(o.top),t.style.left=b(o.left),t}getDurationTimeBeforeFocus(){return parseFloat(this.win.getComputedStyle(this.element).getPropertyValue("--tui-duration"))||0}insideDialog(){return!!this.element.closest("tui-dialog")}patchFakeInputFromFocusableElement(t){ce.forEach(o=>{let i=this.element.getAttribute(o);wt(i)&&t.setAttribute(o,i)})}},[te,Se]=Ut({delay:NaN,query:"input, textarea, select, [contenteditable]",preventScroll:!1}),ee=v(),ue=[{provide:ee,deps:[ut,Dt,mt,ct,S,Gt,te],useFactory:(e,t,o,i,n,s,c)=>s?new K(e,o,i,n,c):new J(e,t,i,c)}],ie=(()=>{let t=class t{constructor(){this.handler=r(ee),this.options=r(te),this.destroyRef=r(lt)}ngAfterViewInit(){this.autoFocus&&this.focus()}focus(){Number.isNaN(this.options.delay)?Promise.resolve().then(()=>this.handler.setFocus()):R(this.options.delay).pipe(D(this.destroyRef)).subscribe(()=>this.handler.setFocus())}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=m({type:t,selectors:[["","tuiAutoFocus",""]],inputs:{autoFocus:[2,"tuiAutoFocus","autoFocus",Qt]},features:[y(ue)]});let e=t;return e})();var ne=(()=>{let t=class t{constructor(){this.doc=r(z),this.el=M(),this.activeElement=null,this.initialized=!1,Promise.resolve().then(()=>{this.initialized=!0,this.activeElement=Ht(this.doc),this.el.focus()})}ngOnDestroy(){$t(this.doc),Promise.resolve().then(()=>{zt(this.activeElement)&&this.activeElement.focus()})}onFocusIn(i){var s;let{firstElementChild:n}=this.el;!k(this.el,i)&&n&&((s=Vt({initial:n,root:this.el}))==null||s.focus())}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=m({type:t,selectors:[["","tuiFocusTrap",""]],hostAttrs:["tabIndex","0"],hostBindings:function(n,s){n&1&&f("focusin.zoneless",function(P){return s.initialized&&s.onFocusIn(P.target)},!1,pt)}});let e=t;return e})();function de(e,t){if(e&1&&(V(0),w(1),G()),e&2){let o=t.polymorpheusOutlet;a(),F(" ",o," ")}}function pe(e,t){if(e&1&&(d(0,"header",6),u(1,de,2,1,"ng-container",3),h()),e&2){let o=_();a(),l("polymorpheusOutlet",o.header)("polymorpheusOutletContext",o.context)}}function me(e,t){if(e&1){let o=j();V(0),g(1,"div",7),d(2,"div",8)(3,"button",9),f("click",function(){T(o);let n=_();return x(n.context.$implicit.complete())}),w(4),h()(),G()}if(e&2){let o=t.polymorpheusOutlet,i=_();a(),l("innerHTML",o,dt),a(3),F(" ",(i.context.data==null?null:i.context.data.button)||"OK"," ")}}function he(e,t){if(e&1){let o=j();d(0,"button",10),f("click",function(){T(o);let n=_();return x(n.close$.next())})("mousedown.prevent.zoneless",function(){return T(o),x(0)}),w(1),vt(2,"async"),h()}if(e&2){let o=_();gt("border-radius",100,"%"),l("appearance",o.isMobile()?"icon":"neutral")("iconStart",o.icons.close)("size",o.isMobile()?"xs":"s"),a(),F(" ",bt(2,6,o.closeWord$),`
`)}}function ge(e,t){e&1&&ft(0)}function fe(e,t){if(e&1&&(d(0,"section",2),u(1,ge,1,0,"ng-container",3),g(2,"tui-scroll-controls",4),h()),e&2){let o=t.$implicit;l("@tuiHost",void 0),$("aria-labelledby",o.id),a(),l("polymorpheusOutlet",o.component)("polymorpheusOutletContext",o)}}var re=v(new tt([])),_e={appearance:"",size:"m",required:!1,closeable:!0,dismissible:!0,label:"",header:"",data:void 0},ve=v(et),be=v(_e);var Oe=17,oe=(()=>{let t=class t extends Q{constructor(){super(i=>U(this.esc$,this.mousedown$,kt().pipe(Et())).subscribe(i)),this.win=r(S),this.doc=r(z),this.el=M(),this.esc$=A(this.doc,"keydown").pipe(O(i=>{let n=E(i);return typeof CloseWatcher>"u"&&i.key.toLowerCase()==="escape"&&!i.defaultPrevented&&(this.el.contains(n)||this.isOutside(n))})),this.mousedown$=A(this.doc,"mousedown").pipe(O(i=>Lt(this.win)-i.clientX>Oe&&this.isOutside(E(i))),B(()=>A(this.doc,"mouseup").pipe(C(1),p(E),O(i=>this.isOutside(i)))))}isOutside(i){return Ft(i)&&(!k(this.el,i)||i===this.el)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac});let e=t;return e})(),Ce=new Error("Required dialog was dismissed");function se(e){return nt(e)?e:it(e)}var ye=(()=>{let t=class t{constructor(){this.speed=r(At),this.animation={value:"",params:{start:"2.5rem",duration:Z(this.speed)}},this.fullscreenAnimation={value:"",params:{start:"100vh",duration:Z(this.speed)}},this.close$=new Y,this.context=Wt(),this.closeWord$=r(Rt),this.icons=r(Nt),this.slideInTop=Ot(()=>this.size==="fullscreen"||this.size==="page"||this.isMobile()?this.fullscreenAnimation:this.animation),this.isMobile=q(r(Kt).pipe(p(i=>i==="mobile"))),U(this.close$.pipe(B(()=>se(this.context.closeable))),r(oe).pipe(st(()=>se(this.context.dismissible).pipe(C(1)))),r(ve).pipe(p(It))).pipe(O(Boolean),D()).subscribe(()=>{this.close()})}get size(){return this.context.size}get header(){return this.context.header}close(){this.context.required?this.context.$implicit.error(Ce):this.context.$implicit.complete()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=H({type:t,selectors:[["tui-dialog"]],hostVars:6,hostBindings:function(n,s){n&2&&(_t("@tuiSlideInTop",s.slideInTop())("@tuiFadeIn",s.slideInTop()),$("data-appearance",s.context.appearance)("data-size",s.size),I("_centered",s.header))},features:[y([oe])],decls:7,vars:8,consts:[["class","t-header",4,"ngIf"],[1,"t-content"],[1,"t-heading",3,"id","textContent"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-filler"],["automation-id","tui-dialog__close","tuiIconButton","","type","button","class","t-close",3,"appearance","iconStart","size","border-radius","click","mousedown.prevent.zoneless",4,"ngIf"],[1,"t-header"],[3,"innerHTML"],[1,"t-buttons"],["size","m","tuiAutoFocus","","tuiButton","","type","button",3,"click"],["automation-id","tui-dialog__close","tuiIconButton","","type","button",1,"t-close",3,"click","mousedown.prevent.zoneless","appearance","iconStart","size"]],template:function(n,s){n&1&&(u(0,pe,2,2,"header",0),d(1,"div",1),g(2,"h2",2),d(3,"section"),u(4,me,5,2,"ng-container",3),h()(),g(5,"div",4),u(6,he,3,8,"button",5)),n&2&&(l("ngIf",s.header),a(2),I("t-heading_closable",s.context.closeable&&!s.header),l("id",s.context.id)("textContent",s.context.label),a(2),l("polymorpheusOutlet",s.context.content)("polymorpheusOutletContext",s.context),a(2),l("ngIf",s.context.closeable))},dependencies:[Mt,yt,X,ie,Bt],styles:['[_nghost-%COMP%]{position:relative;display:flex;font:var(--tui-font-text-m);flex-direction:column;box-sizing:border-box;margin:auto;border-radius:1.5rem;border:2.5rem solid transparent}[_nghost-%COMP%]:after{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:"";border-radius:inherit;pointer-events:none;box-shadow:var(--tui-shadow-popup)}[data-size=auto][_nghost-%COMP%]{inline-size:auto}[data-size=s][_nghost-%COMP%]{inline-size:30rem}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:1.5rem}[data-size=s][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-heading-5)}[data-size=m][_nghost-%COMP%]{inline-size:42.5rem}[data-size=l][_nghost-%COMP%]{inline-size:55rem}[data-size=fullscreen][_nghost-%COMP%], [data-size=page][_nghost-%COMP%]{min-inline-size:100vw;min-block-size:100%;border-radius:0;border:none;background:var(--tui-background-elevation-1);box-shadow:0 4rem var(--tui-background-elevation-1)}[data-size=fullscreen][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], [data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:3rem calc(50vw - 22.5rem)}[data-size=fullscreen][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], [data-size=page][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-heading-3)}._centered[_nghost-%COMP%]{text-align:center}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]{min-inline-size:100%;inline-size:100%;max-inline-size:100%;border-radius:0;border:none;margin:auto 0 0}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:1rem}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-heading-5)}[data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], tui-root._mobile   [data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0}.t-heading[_ngcontent-%COMP%]{margin:0 0 .5rem;overflow-wrap:break-word;font:var(--tui-font-heading-4)}.t-heading_closable[_ngcontent-%COMP%]{padding-inline-end:2rem}.t-heading[_ngcontent-%COMP%]:empty{display:none}.t-header[_ngcontent-%COMP%]{display:flex;border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden}[data-size=fullscreen][_nghost-%COMP%]   tui-root._mobile[_nghost-%COMP%]   .t-header[_ngcontent-%COMP%], tui-root._mobile   [_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{flex:1}.t-content[_ngcontent-%COMP%]{border-radius:inherit;padding:1.75rem;background:var(--tui-background-elevation-1)}.t-content[_ngcontent-%COMP%]:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.t-content[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{border-radius:inherit}.t-filler[_ngcontent-%COMP%]{flex-grow:1}.t-close[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:1rem;right:1rem}.t-buttons[_ngcontent-%COMP%]{margin-top:1.25rem;text-align:end}'],data:{animation:[xt,Tt]}});let e=t;return e})(),Me=(()=>{let t=class t extends jt{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=W(t)))(s||t)}})(),t.\u0275prov=L({token:t,factory:()=>new t(re,ye,r(be)),providedIn:"root"});let e=t;return e})(),bi=(()=>{let t=class t extends Zt{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=W(t)))(s||t)}})(),t.\u0275dir=m({type:t,selectors:[["ng-template","tuiDialog",""]],inputs:{options:[0,"tuiDialogOptions","options"],open:[0,"tuiDialog","open"]},outputs:{openChange:"tuiDialogChange"},features:[y([qt(Me)]),ht]});let e=t;return e})();var Oi=(()=>{let t=class t{constructor(){this.el=M(),this.dialogs=q(r(re),{initialValue:[]})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=H({type:t,selectors:[["tui-dialogs"]],hostBindings:function(n,s){n&1&&f("keydown.zoneless",function(){return s.el.scrollTop=s.el.scrollHeight/2})},decls:2,vars:3,consts:[[1,"t-overlay"],["aria-modal","true","role","dialog","tuiFocusTrap","","tuiScrollRef","","class","t-dialog",4,"ngFor","ngForOf"],["aria-modal","true","role","dialog","tuiFocusTrap","","tuiScrollRef","",1,"t-dialog"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-scrollbars"]],template:function(n,s){n&1&&(g(0,"div",0),u(1,fe,3,4,"section",1)),n&2&&(I("t-overlay_visible",s.dialogs().length),a(),l("ngForOf",s.dialogs()))},dependencies:[Ct,X,ne,Xt,Jt],styles:['[_nghost-%COMP%]{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;scrollbar-width:none;-ms-overflow-style:none;pointer-events:none;overflow:hidden;overscroll-behavior:none;overflow-wrap:break-word;margin-top:var(--t-root-top)}[_nghost-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%]::-webkit-scrollbar-thumb{display:none}[_nghost-%COMP%]:has(section){pointer-events:auto;overflow:auto}[_nghost-%COMP%]:before{content:"";display:block;block-size:1000%}.t-overlay[_ngcontent-%COMP%], .t-dialog[_ngcontent-%COMP%]{transition-property:filter;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;scrollbar-width:none;-ms-overflow-style:none;position:fixed;top:0;left:0;bottom:0;right:0;display:flex;block-size:100%;align-items:flex-start;outline:none;overflow:auto}.t-overlay[_ngcontent-%COMP%]::-webkit-scrollbar, .t-dialog[_ngcontent-%COMP%]::-webkit-scrollbar, .t-overlay[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .t-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}.t-overlay.ng-animating[_ngcontent-%COMP%], .t-dialog.ng-animating[_ngcontent-%COMP%]{overflow:clip}.t-dialog[_ngcontent-%COMP%]{position:sticky;overscroll-behavior:none;filter:brightness(.25)}.t-overlay[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;background:var(--tui-service-backdrop);-webkit-backdrop-filter:var(--tui-backdrop, none);backdrop-filter:var(--tui-backdrop, none);opacity:0;transition-timing-function:ease-in}.t-overlay_visible[_ngcontent-%COMP%]{opacity:1;transition-timing-function:ease-out}.t-dialog[_ngcontent-%COMP%]:last-child{pointer-events:auto;filter:none}tui-root:has(tui-dropdown-mobile._sheet)[_nghost-%COMP%]   .t-dialog[_ngcontent-%COMP%]:last-child, tui-root:has(tui-dropdown-mobile._sheet)   [_nghost-%COMP%]   .t-dialog[_ngcontent-%COMP%]:last-child{filter:brightness(.5)}.t-scrollbars[_ngcontent-%COMP%]{position:fixed;top:0;left:0;bottom:0;right:0;margin:0;color:#747474}'],data:{animation:[Pt]}});let e=t;return e})();export{ie as a,Me as b,bi as c,Oi as d};
