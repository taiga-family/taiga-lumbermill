import{a as Gt}from"./chunk-MUAPOBV6.js";import{d as Wt}from"./chunk-RPAUD4X4.js";import{B as Ht,C as $t,F as Vt,I as jt,b as Mt,c as Tt,d as It,e as Ut,g as Z,h as Nt,k as J,n as Rt,o as Lt,p as Bt}from"./chunk-3MS2CQOI.js";import{$ as ct,Ab as X,Ae as Et,C as H,Cb as bt,Cd as f,D as $,Da as T,Db as h,Ea as I,Eb as d,Ec as yt,F as O,Fc as S,G as lt,Ga as pt,Ge as L,Hc as z,Ja as mt,Jd as U,Kc as Pt,Ld as wt,Ma as ht,Mb as F,Md as Ft,N as P,Nd as N,Oa as gt,Ob as D,Qe as kt,Re as St,Sa as ft,Sd as v,Va as _t,Vc as A,Wb as E,Xa as a,Xb as Y,Xe as zt,ab as Ot,ba as M,cc as K,ce as Dt,d as nt,dc as Q,fa as ut,h as it,hb as Ct,i as ot,ja as W,kb as c,lb as j,m as rt,ma as dt,mb as l,mf as At,nb as G,ob as q,pa as s,r as st,rd as g,t as at,ub as u,v as _,va as V,vb as p,wb as m,wc as k,xa as C,xb as x,xd as xt,yb as w,ye as R,zb as vt}from"./chunk-UWL2Q2CD.js";var B=class{constructor(t){this.el=t}get element(){return(this.el.nativeElement.tagName.includes("-")?this.el.nativeElement.querySelector("input,textarea"):this.el.nativeElement)||this.el.nativeElement}get isTextFieldElement(){return this.element.matches("input, textarea, [contenteditable]")}},ee=1e3,ne=".ng-animating",tt=class extends B{constructor(t,o){super(t),this.animationFrame$=o}setFocus(){this.isTextFieldElement?lt(H(ee),this.animationFrame$.pipe(ut(100),_(()=>this.element.closest(ne)),ct(Boolean),P(1))).subscribe(()=>this.element.focus({preventScroll:!0})):this.element.focus({preventScroll:!0})}},ie=["type","inputMode","autocomplete","accept","min","max","step","pattern","size","maxlength"],et=class extends B{constructor(t,o,n,i){super(t),this.renderer=o,this.zone=n,this.win=i,this.patchCssStyles()}setFocus(){this.isTextFieldElement?this.zone.runOutsideAngular(()=>this.iosWebkitAutofocus()):this.element.focus({preventScroll:!0})}iosWebkitAutofocus(){var y;let t=this.makeFakeInput(),o=this.getDurationTimeBeforeFocus(),n=0,i=0,r=()=>t.focus({preventScroll:!0}),b=()=>{clearTimeout(n),n=this.win.setTimeout(()=>{clearTimeout(i),t.removeEventListener("blur",r),t.removeEventListener("focus",b),i=this.win.setTimeout(()=>{this.element.focus({preventScroll:!1}),t.remove()},o)})};t.addEventListener("blur",r,{once:!0}),t.addEventListener("focus",b),this.insideDialog()?this.win.document.body.appendChild(t):(y=this.element.parentElement)==null||y.appendChild(t),t.focus({preventScroll:!0})}makeFakeInput(){let t=this.renderer.createElement("input"),o=this.element.getBoundingClientRect();return this.patchFakeInputFromFocusableElement(t),t.style.height=f(o.height),t.style.width=f(o.width/2),t.style.position="fixed",t.style.zIndex="-99999999",t.style.caretColor="transparent",t.style.border="none",t.style.outline="none",t.style.color="transparent",t.style.background="transparent",t.style.cursor="none",t.style.fontSize=f(16),t.style.top=f(o.top),t.style.left=f(o.left),t}getDurationTimeBeforeFocus(){return parseFloat(this.win.getComputedStyle(this.element).getPropertyValue("--tui-duration"))||0}insideDialog(){return!!this.element.closest("tui-dialog")}patchCssStyles(){[this.win.document.documentElement,this.win.document.body].forEach(t=>{t.style.setProperty("overflow","auto"),t.style.setProperty("height","100%")})}patchFakeInputFromFocusableElement(t){ie.forEach(o=>{let n=this.element.getAttribute(o);xt(n)&&t.setAttribute(o,n)})}},oe={delay:NaN},re=g(oe);var Xt=new dt("[TUI_AUTOFOCUS_HANDLER]"),se=[{provide:Xt,useFactory:(e,t,o,n,i,r)=>r?new et(e,o,n,i):new tt(e,t),deps:[gt,Et,Ot,ht,R,$t]}],Yt=(()=>{let t=class t{constructor(){this.handler=s(Xt),this.options=s(re),this.destroyRef=s(mt)}ngAfterViewInit(){this.autoFocus&&this.focus()}focus(){Number.isNaN(this.options.delay)?Promise.resolve().then(()=>this.handler.setFocus()):H(this.options.delay).pipe(A(this.destroyRef)).subscribe(()=>this.handler.setFocus())}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=C({type:t,selectors:[["","tuiAutoFocus",""]],inputs:{autoFocus:[2,"tuiAutoFocus","autoFocus",Gt]},standalone:!0,features:[E(se),Ct]});let e=t;return e})();var Kt=(()=>{let t=class t{constructor(){this.doc=s(k),this.el=v(),this.activeElement=Rt(this.doc),Promise.resolve().then(()=>this.el.focus())}ngOnDestroy(){Lt(this.doc),Promise.resolve().then(()=>{Ft(this.activeElement)&&this.activeElement.focus()})}onFocusIn(n){var i;U(this.el,n)||(i=Bt({initial:this.el,root:this.el}))==null||i.focus()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=C({type:t,selectors:[["","tuiFocusTrap",""]],hostAttrs:["tabIndex","0"],hostBindings:function(i,r){i&1&&h("focusin.silent",function(y){return r.onFocusIn(y.target)},!1,_t)},standalone:!0});let e=t;return e})();function ae(e,t){if(e&1&&(x(0),F(1),w()),e&2){let o=t.polymorpheusOutlet;a(),D(" ",o," ")}}function le(e,t){if(e&1&&(u(0,"header",6),c(1,ae,2,1,"ng-container",3),p()),e&2){let o=d();a(),l("polymorpheusOutlet",o.header)("polymorpheusOutletContext",o.context)}}function ce(e,t){if(e&1){let o=X();x(0),m(1,"div",7),u(2,"div",8)(3,"button",9),h("click",function(){T(o);let i=d();return I(i.context.$implicit.complete())}),F(4),p()(),w()}if(e&2){let o=t.polymorpheusOutlet,n=d();a(),l("innerHTML",o,ft),a(3),D(" ",(n.context.data==null?null:n.context.data.button)||"OK"," ")}}function ue(e,t){if(e&1){let o=X();u(0,"div",10)(1,"button",11),h("click",function(){T(o);let i=d();return I(i.close$.next())})("mousedown.prevent.silent",function(){return T(o),I(0)}),F(2),K(3,"async"),p()()}if(e&2){let o=d();a(),G("border-radius",100,"%"),l("appearance",o.fullscreen?"secondary":"")("iconStart",o.icons.close),a(),D(" ",Q(3,5,o.closeWord$)," ")}}function de(e,t){e&1&&vt(0)}function pe(e,t){if(e&1&&(u(0,"section",3),c(1,de,1,0,"ng-container",4),m(2,"tui-scroll-controls",5),p()),e&2){let o=t.$implicit,n=d().ngIf;q("t-dialog_closing",!n.length),l("@tuiHost",void 0),j("aria-labelledby",o.id),a(),l("polymorpheusOutlet",o.component)("polymorpheusOutletContext",o)}}function me(e,t){if(e&1&&(x(0),c(1,pe,3,6,"section",1),m(2,"div",2),w()),e&2){let o=t.ngIf;a(),l("ngForOf",o),a(),G("opacity",o.length)}}var Jt=g(new ot([])),he={appearance:"",size:"m",required:!1,closeable:!0,dismissible:!0,label:"",header:"",data:void 0},ge=g(rt),fe=g(he);var _e=17,Qt=(()=>{let t=class t extends nt{constructor(){super(n=>$(this.esc$,this.mousedown$).subscribe(n)),this.win=s(R),this.doc=s(k),this.el=v(),this.esc$=L(this.doc,"keydown").pipe(O(n=>{let i=N(n);return n.key==="Escape"&&!n.defaultPrevented&&(this.el.contains(i)||this.isOutside(i))})),this.mousedown$=L(this.doc,"mousedown").pipe(O(n=>Ut(this.win)-n.clientX>_e&&this.isOutside(N(n))),M(()=>L(this.doc,"mouseup").pipe(P(1),_(N),O(n=>this.isOutside(n)))))}isOutside(n){return wt(n)&&(!U(this.el,n)||n===this.el)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),Oe=new Error("Required dialog was dismissed");function Zt(e){return at(e)?e:st(e)}var Ce=(()=>{let t=class t{constructor(){this.speed=s(kt),this.isMobile=s(Ht),this.animation={value:"",params:{start:"40px",duration:Z(this.speed)}},this.fullscreenAnimation={value:"",params:{start:"100vh",duration:Z(this.speed)}},this.close$=new it,this.context=s(Nt),this.closeWord$=s(zt),this.icons=s(St),$(this.close$.pipe(M(()=>Zt(this.context.closeable))),s(Qt).pipe(M(()=>Zt(this.context.dismissible))),s(ge).pipe(_(Dt))).pipe(O(Boolean),A()).subscribe(()=>{this.close()})}get size(){return this.context.size}get header(){return this.context.header}get slideInTop(){return this.fullscreen||this.isMobile?this.fullscreenAnimation:this.animation}get fullscreen(){return!this.isMobile&&(this.size==="fullscreen"||this.size==="page")}close(){this.context.required?this.context.$implicit.error(Oe):this.context.$implicit.complete()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=V({type:t,selectors:[["tui-dialog"]],hostVars:6,hostBindings:function(i,r){i&2&&(bt("@tuiSlideInTop",r.slideInTop)("@tuiFadeIn",r.slideInTop),j("data-appearance",r.context.appearance)("data-size",r.size),q("_centered",r.header))},standalone:!0,features:[E([Qt]),Y],decls:7,vars:6,consts:[["class","t-header",4,"ngIf"],[1,"t-content"],[1,"t-heading",3,"id","textContent"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-filler"],["class","t-wrapper",4,"ngIf"],[1,"t-header"],[3,"innerHTML"],[1,"t-buttons"],["size","m","tuiAutoFocus","","tuiButton","","type","button",3,"click"],[1,"t-wrapper"],["automation-id","tui-dialog__close","size","s","tuiIconButton","","type","button",1,"t-close",3,"click","mousedown.prevent.silent","appearance","iconStart"]],template:function(i,r){i&1&&(c(0,le,2,2,"header",0),u(1,"div",1),m(2,"h2",2),u(3,"section"),c(4,ce,5,2,"ng-container",3),p()(),m(5,"div",4),c(6,ue,4,7,"div",5)),i&2&&(l("ngIf",r.header),a(2),l("id",r.context.id)("textContent",r.context.label),a(2),l("polymorpheusOutlet",r.context.content)("polymorpheusOutletContext",r.context),a(2),l("ngIf",r.context.closeable))},dependencies:[S,J,Yt,At,z],styles:['[_nghost-%COMP%]{position:relative;display:flex;font:var(--tui-font-text-m);flex-direction:column;box-sizing:border-box;margin:auto;border-radius:1rem;border:2.5rem solid transparent}[_nghost-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:"";border-radius:inherit;pointer-events:none;box-shadow:var(--tui-shadow-popup)}[data-size=auto][_nghost-%COMP%]{width:auto}[data-size=s][_nghost-%COMP%]{width:30rem}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:1.5rem}[data-size=s][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{margin-bottom:.5rem;font:var(--tui-font-heading-5)}[data-size=m][_nghost-%COMP%]{width:42.5rem}[data-size=m][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{margin-bottom:.75rem;font:var(--tui-font-heading-4)}[data-size=l][_nghost-%COMP%]{width:55rem}[data-size=l][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{margin-bottom:1rem}[data-size=fullscreen][_nghost-%COMP%], [data-size=page][_nghost-%COMP%]{min-width:100vw;min-height:100%;border-radius:0;border:none;background:var(--tui-background-elevation-1);box-shadow:0 4rem var(--tui-background-elevation-1)}[data-size=fullscreen][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], [data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:3rem calc(50vw - 22.5rem)}[data-size=fullscreen][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], [data-size=page][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{margin-bottom:1rem}._centered[_nghost-%COMP%]{text-align:center}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]{min-width:100%;width:100%;max-width:100%;border-radius:0;border:none;margin:auto 0 0}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:1.5rem}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{margin-bottom:.5rem;font:var(--tui-font-heading-5)}[data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], tui-root._mobile   [data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0}.t-heading[_ngcontent-%COMP%]{margin:0;word-wrap:break-word;font:var(--tui-font-heading-3)}.t-heading[_ngcontent-%COMP%]:empty{display:none}.t-header[_ngcontent-%COMP%]{display:flex;border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden}[data-size=fullscreen][_nghost-%COMP%]   tui-root._mobile[_nghost-%COMP%]   .t-header[_ngcontent-%COMP%], tui-root._mobile   [_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{flex:1}.t-content[_ngcontent-%COMP%]{border-radius:inherit;padding:2rem;background:var(--tui-background-elevation-1)}.t-content[_ngcontent-%COMP%]:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.t-wrapper[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1;order:-1}.t-filler[_ngcontent-%COMP%]{flex-grow:1}.t-close[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:fixed;top:1.5rem;right:1.5rem;display:none}.t-dialog:last-of-type[_nghost-%COMP%]   .t-close[_ngcontent-%COMP%], .t-dialog:last-of-type   [_nghost-%COMP%]   .t-close[_ngcontent-%COMP%]{display:inline-flex}[_nghost-%COMP%]:not([data-size=fullscreen]):not([data-size=page])   .t-close[_ngcontent-%COMP%]{animation:tuiFadeIn var(--tui-duration);background:#686868f5;color:var(--tui-background-base)}[_nghost-%COMP%]:not([data-size=fullscreen]):not([data-size=page])   .t-close[_ngcontent-%COMP%]:hover{background:#9f9f9fdb}[_nghost-%COMP%]:not([data-size=fullscreen]).ng-animating   .t-close[_ngcontent-%COMP%]{display:none}tui-root._mobile[_nghost-%COMP%]   .t-close[data-size][_ngcontent-%COMP%], tui-root._mobile   [_nghost-%COMP%]   .t-close[data-size][_ngcontent-%COMP%]{--tui-fade-end: .5;position:absolute;top:0;right:0;background:transparent!important;color:var(--tui-text-primary);opacity:.5}.t-buttons[_ngcontent-%COMP%]{margin-top:1.25rem;text-align:right}'],data:{animation:[It,Tt]}});let e=t;return e})(),mn=(()=>{let t=class t extends Wt{};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=pt(t)))(r||t)}})(),t.\u0275prov=W({token:t,factory:()=>new t(Jt,Ce,s(fe)),providedIn:"root"});let e=t;return e})();var hn=(()=>{let t=class t{constructor(){this.el=v(),this.dialogs$=s(Jt)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=V({type:t,selectors:[["tui-dialogs"]],hostBindings:function(i,r){i&1&&h("keydown.silent",function(){return r.el.scrollTop=r.el.scrollHeight/2})},standalone:!0,features:[Y],decls:2,vars:3,consts:[[4,"ngIf"],["aria-modal","true","role","dialog","tuiFocusTrap","","tuiScrollRef","","class","t-dialog",3,"t-dialog_closing",4,"ngFor","ngForOf"],[1,"t-overlay"],["aria-modal","true","role","dialog","tuiFocusTrap","","tuiScrollRef","",1,"t-dialog"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-scrollbars"]],template:function(i,r){i&1&&(c(0,me,3,3,"ng-container",0),K(1,"async")),i&2&&l("ngIf",Q(1,1,r.dialogs$))},dependencies:[Pt,yt,S,z,J,Kt,Vt,jt],styles:['[_nghost-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;scrollbar-width:none;-ms-overflow-style:none;pointer-events:none;overflow:hidden;overscroll-behavior:none}[_nghost-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%]::-webkit-scrollbar-thumb{display:none}[_nghost-%COMP%]:has(section){pointer-events:auto;overflow:auto}[_nghost-%COMP%]:before{content:"";display:block;height:1000%}.t-overlay[_ngcontent-%COMP%], .t-dialog[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;position:fixed;top:0;left:0;bottom:0;right:0;display:flex;height:100%;align-items:flex-start;outline:none;overflow:auto}.t-overlay[_ngcontent-%COMP%]::-webkit-scrollbar, .t-dialog[_ngcontent-%COMP%]::-webkit-scrollbar, .t-overlay[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .t-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}.t-overlay.ng-animating[_ngcontent-%COMP%], .t-dialog.ng-animating[_ngcontent-%COMP%]{overflow:clip}.t-dialog[_ngcontent-%COMP%]{position:sticky;pointer-events:auto;overscroll-behavior:none}.t-overlay[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;background:var(--tui-service-backdrop);-webkit-backdrop-filter:var(--tui-backdrop, none);backdrop-filter:var(--tui-backdrop, none)}.t-dialog[_ngcontent-%COMP%]:last-of-type{z-index:1}.t-scrollbars[_ngcontent-%COMP%]{position:fixed;top:0;left:0;bottom:0;right:0;margin:0;color:#747474}'],data:{animation:[Mt]}});let e=t;return e})();export{Yt as a,Jt as b,mn as c,hn as d};
