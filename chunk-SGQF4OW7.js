import{a as mt}from"./chunk-SOB55LT5.js";import{A as Pt,B as St,N as se,O as Tt,Q as wt,c as ft,f as gt,h as vt,j as Et,k as _t,s as bt,t as xt,u as Ct,w as At,x as Dt,y as Mt}from"./chunk-XI36TMOD.js";import{G as pt,p as ie}from"./chunk-VHUZ554G.js";import{$ as Ve,$b as qe,$e as dt,Ac as tt,Ca as M,Cb as Ee,De as ut,Jb as Xe,Ka as $e,Kb as Ke,La as je,Ma as J,Oa as me,Pb as Qe,Ra as L,Sa as He,Ta as P,Ud as rt,Xc as nt,Zc as it,_e as at,ab as $,ad as st,bb as j,bc as Je,be as ct,ca as b,ce as lt,db as Ue,eb as Be,fb as Ge,fc as et,fd as _e,gb as pe,ia as Fe,ja as w,jb as H,jf as ht,ka as y,kb as N,lb as We,m as q,ma as he,mb as ee,nb as ze,ob as Ze,pb as fe,qa as ke,qb as ge,qd as ot,rb as ve,rd as ne,sa as Le,sb as te,ub as Ye}from"./chunk-I5RH6XXG.js";import{a as K,b as Q,c as Oe,e as Re}from"./chunk-HFDGAYQF.js";function yt(n){let{anchorOffset:t=0,focusOffset:s=0}=n.ownerDocument.getSelection()||{},e=Math.min(t,s),i=Math.max(t,s);return[e,i]}function cn(n,[t,s]){var e,i,o,r;let c=n.ownerDocument,l=c.createRange();l.setStart(n.firstChild||n,Math.min(t,(i=(e=n.textContent)===null||e===void 0?void 0:e.length)!==null&&i!==void 0?i:0)),l.setEnd(n.lastChild||n,Math.min(s,(r=(o=n.textContent)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0));let u=c.getSelection();u&&(u.removeAllRanges(),u.addRange(l))}var be=class{constructor(t){this.element=t,this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,`
`)}set value(t){this.element.innerHTML=t.replace(/\n$/,`

`)}get selectionStart(){return yt(this.element)[0]}get selectionEnd(){return yt(this.element)[1]}setSelectionRange(t,s){cn(this.element,[t??0,s??0])}select(){this.setSelectionRange(0,this.value.length)}};function ln(n){let t=new be(n);return new Proxy(n,{get(s,e){if(e in t)return t[e];let i=s[e];return typeof i=="function"?i.bind(s):i},set(s,e,i,o){return Reflect.set(e in t?t:s,e,i,o)}})}var Rt=n=>n.isContentEditable?ln(n):n.querySelector("input,textarea")||n,I={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},xe=class{constructor(){this.now=null,this.past=[],this.future=[]}undo(){let t=this.past.pop();t&&this.now&&(this.future.push(this.now),this.updateElement(t,"historyUndo"))}redo(){let t=this.future.pop();t&&this.now&&(this.past.push(this.now),this.updateElement(t,"historyRedo"))}updateHistory(t){if(!this.now){this.now=t;return}let s=this.now.value!==t.value,e=this.now.selection.some((i,o)=>i!==t.selection[o]);!s&&!e||(s&&(this.past.push(this.now),this.future=[]),this.now=t)}updateElement(t,s){this.now=t,this.updateElementState(t,{inputType:s,data:null})}};function un(n,...t){return t.every(({value:s})=>s===n.value)}function an(n,...t){return t.every(({value:s,selection:e})=>s===n.value&&e[0]===n.selection[0]&&e[1]===n.selection[1])}function dn({value:n,selection:t},s,e){let[i,o]=t,r=typeof e=="function"?e({value:n,selection:t}):e;return{value:n,selection:r==="replace"?[i,Math.max(i+s.length,o)]:[i,o]}}function le(n){return typeof n=="string"}function Nt(n,t,s,e){let i="";for(let o=t.length;o<n.length;o++){let r=n[o]||"",c=(e==null?void 0:e.value[o])===r;if(!le(r)||r===s&&!c)return i;i+=r}return i}function Vt(n,t){return Array.isArray(t)?n.length===t.length&&Array.from(n).every((s,e)=>{let i=t[e]||"";return le(i)?s===i:s.match(i)}):t.test(n)}function hn(n,t,s){let e=null,i=null,o=Array.from(n.value).reduce((c,l,u)=>{let a=Nt(t,c,l,s),d=c+a,h=t[d.length]||"";return e===null&&u>=n.selection[0]&&(e=d.length),i===null&&u>=n.selection[1]&&(i=d.length),le(h)?d+h:l.match(h)?d+l:d},""),r=Nt(t,o,"",s);return{value:Vt(o+r,t)?o+r:o,selection:[e??o.length,i??o.length]}}function mn({value:n,selection:t},s){let[e,i]=t,o=e,r=i;return{value:Array.from(n).reduce((l,u,a)=>{let d=l+u;return e===a&&(o=l.length),i===a&&(r=l.length),d.match(s)?d:l},""),selection:[o,r]}}function oe(n,t,s=null){if(Vt(n.value,t))return n;let{value:e,selection:i}=Array.isArray(t)?hn(n,t,s):mn(n,t);return{selection:i,value:Array.isArray(t)?e.slice(0,t.length):e}}function It(n,t){if(!Array.isArray(t))return n;let[s,e]=n.selection,i=[],o=Array.from(n.value).reduce((r,c,l)=>{let u=t[l]||"";return l===s&&i.push(r.length),l===e&&i.push(r.length),le(u)&&u===c?r:r+c},"");return i.length<2&&i.push(...new Array(2-i.length).fill(o.length)),{value:o,selection:[i[0],i[1]]}}var G=class{constructor(t,s){this.initialElementState=t,this.maskOptions=s,this.value="",this.selection=[0,0];let{value:e,selection:i}=oe(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=e,this.selection=i}addCharacters([t,s],e){let{value:i,maskOptions:o}=this,r=this.getMaskExpression({value:i.slice(0,t)+e+i.slice(s),selection:[t+e.length,t+e.length]}),c={value:i,selection:[t,s]},l=It(c,r),[u,a]=dn(l,e,o.overwriteMode).selection,d=l.value.slice(0,u)+e,h=d.length,m=oe({value:d+l.value.slice(a),selection:[h,h]},r,c);if(i.slice(0,t)===oe({value:d,selection:[h,h]},r,c).value||an(this,m))throw new Error("Invalid mask value");this.value=m.value,this.selection=m.selection}deleteCharacters([t,s]){if(t===s||!s)return;let{value:e}=this,i=this.getMaskExpression({value:e.slice(0,t)+e.slice(s),selection:[t,t]}),o={value:e,selection:[t,s]},r=It(o,i),[c,l]=r.selection,u=r.value.slice(0,c)+r.value.slice(l),a=oe({value:u,selection:[c,c]},i,o);this.value=a.value,this.selection=a.selection}getMaskExpression(t){let{mask:s}=this.maskOptions;return typeof s=="function"?s(t):s}},Ce=class{constructor(t){this.element=t,this.listeners=[]}listen(t,s,e){let i=s;this.element.addEventListener(t,i,e),this.listeners.push(()=>this.element.removeEventListener(t,i,e))}destroy(){this.listeners.forEach(t=>t())}},x={CTRL:1,ALT:2,SHIFT:4,META:8},U={Y:89,Z:90};function B(n,t,s){return n.ctrlKey===!!(t&x.CTRL)&&n.altKey===!!(t&x.ALT)&&n.shiftKey===!!(t&x.SHIFT)&&n.metaKey===!!(t&x.META)&&n.keyCode===s}function pn(n){return B(n,x.CTRL,U.Y)||B(n,x.CTRL|x.SHIFT,U.Z)||B(n,x.META|x.SHIFT,U.Z)}function fn(n){return B(n,x.CTRL,U.Z)||B(n,x.META,U.Z)}function W(n,t){var s;let e=n.value;if(typeof t=="string")n.value=t;else{let[i,o]=t.selection;n.value=t.value,n.matches(":focus")&&((s=n.setSelectionRange)===null||s===void 0||s.call(n,i,o))}n.value!==e&&n.dispatchEvent(new Event("input",{bubbles:!0}))}function gn({value:n,selection:t},s){let[e,i]=t;if(e!==i)return[e,i];let o=s?n.slice(e).indexOf(`
`)+1||n.length:n.slice(0,i).lastIndexOf(`
`)+1;return[s?e:o,s?o:i]}function vn({value:n,selection:t},s){let[e,i]=t;return e!==i?[e,i]:(s?[e,i+1]:[e-1,i]).map(r=>Math.min(Math.max(r,0),n.length))}var En=/\s+$/g,_n=/^\s+/g,Ot=/\s/;function bn({value:n,selection:t},s){let[e,i]=t;if(e!==i)return[e,i];if(s){let l=n.slice(e),[u]=l.match(_n)||[""],a=l.trimStart().search(Ot);return[e,a!==-1?e+u.length+a:n.length]}let o=n.slice(0,i),[r]=o.match(En)||[""],c=o.trimEnd().split("").reverse().findIndex(l=>Ot.exec(l));return[c!==-1?i-r.length-c:0,i]}function re(n=[]){return(t,...s)=>n.reduce((e,i)=>Object.assign(Object.assign({},e),i(e,...s)),t)}function O(n,t){let s=Object.assign(Object.assign({},I),t),e=re(s.preprocessors),i=re(s.postprocessors),o=typeof n=="string"?{value:n,selection:[0,0]}:n,{elementState:r}=e({elementState:o,data:""},"validation"),c=new G(r,s),{value:l,selection:u}=i(c,o);return typeof n=="string"?l:{value:l,selection:u}}var ce=class extends xe{constructor(t,s){super(),this.element=t,this.maskitoOptions=s,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new Ce(this.element),this.options=Object.assign(Object.assign({},I),this.maskitoOptions),this.upcomingElementState=null,this.preprocessor=re(this.options.preprocessors),this.postprocessor=re(this.options.postprocessors),this.teardowns=this.options.plugins.map(e=>e(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",e=>{if(pn(e))return e.preventDefault(),this.redo();if(fn(e))return e.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",e=>{var i,o,r;let c=e.inputType.includes("Forward");switch(this.updateHistory(this.elementState),e.inputType){case"historyUndo":return e.preventDefault(),this.undo();case"historyRedo":return e.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:e,isForward:c,selection:vn(this.elementState,c)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:e,isForward:c,selection:bn(this.elementState,c),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:e,isForward:c,selection:gn(this.elementState,c),force:!0});case"insertCompositionText":return;case"insertReplacementText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(e);case"insertFromPaste":case"insertText":case"insertFromDrop":default:return this.handleInsert(e,(r=(i=e.data)!==null&&i!==void 0?i:(o=e.dataTransfer)===null||o===void 0?void 0:o.getData("text/plain"))!==null&&r!==void 0?r:"")}}),this.eventListener.listen("input",()=>{this.upcomingElementState&&(this.updateElementState(this.upcomingElementState),this.upcomingElementState=null)},{capture:!0}),this.eventListener.listen("input",({inputType:e})=>{e!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}destroy(){this.eventListener.destroy(),this.teardowns.forEach(t=>t==null?void 0:t())}updateElementState({value:t,selection:s},e){let i=this.elementState.value;this.updateValue(t),this.updateSelectionRange(s),e&&i!==t&&this.dispatchInputEvent(e)}get elementState(){let{value:t,selectionStart:s,selectionEnd:e}=this.element;return{value:t,selection:[s??0,e??0]}}get maxLength(){let{maxLength:t}=this.element;return t===-1?1/0:t}updateSelectionRange([t,s]){var e;let{element:i}=this;i.matches(":focus")&&(i.selectionStart!==t||i.selectionEnd!==s)&&((e=i.setSelectionRange)===null||e===void 0||e.call(i,t,s))}updateValue(t){this.element.value=t}ensureValueFitsMask(){this.updateElementState(O(this.elementState,this.options),{inputType:"insertText",data:null})}dispatchInputEvent(t={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},t),{bubbles:!0,cancelable:!1})))}handleDelete({event:t,selection:s,isForward:e,force:i=!1}){let o={value:this.elementState.value,selection:s},[r,c]=o.selection,{elementState:l}=this.preprocessor({elementState:o,data:""},e?"deleteForward":"deleteBackward"),u=new G(l,this.options),[a,d]=l.selection;u.deleteCharacters([a,d]);let h=this.postprocessor(u,o);if(!(o.value.slice(0,r)+o.value.slice(c)===h.value&&!i&&!this.element.isContentEditable)){if(un(o,l,u,h))return t.preventDefault(),this.updateSelectionRange(e?[d,d]:[a,a]);this.upcomingElementState=h}}handleInsert(t,s){let{options:e,maxLength:i,element:o,elementState:r}=this,{elementState:c,data:l=s}=this.preprocessor({data:s,elementState:r},"insert"),u=new G(c,e);try{u.addCharacters(c.selection,l)}catch{return t.preventDefault()}let[a,d]=c.selection,h=r.value.slice(0,a)+s+r.value.slice(d),m=this.postprocessor(u,r);if(m.value.length>i)return t.preventDefault();(h!==m.value||o.isContentEditable)&&(this.upcomingElementState=m,e.overwriteMode==="replace"&&h.length>i&&this.dispatchInputEvent({inputType:"insertText",data:s}))}handleEnter(t){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(t,`
`)}};function Ft(n){return(t,s)=>{var e,i;let o=(e=t.selectionStart)!==null&&e!==void 0?e:0,r=(i=t.selectionEnd)!==null&&i!==void 0?i:0;W(t,{value:O(t.value,n||s),selection:[o,r]})}}function S(n,t,s){let e=Math.min(Number(s),Math.max(Number(t),Number(n)));return n instanceof Date?new Date(e):e}function Ut(n){return n.replaceAll(/\W/g,"").length}function kt(n,{day:t,month:s,year:e}={}){let i=new Date(n);return t&&i.setDate(i.getDate()+t),s&&i.setMonth(i.getMonth()+s),e&&i.setFullYear(i.getFullYear()+e),i}var Bt=n=>{var t,s,e,i,o,r;return{day:(s=(t=n.match(/d/g))===null||t===void 0?void 0:t.length)!==null&&s!==void 0?s:0,month:(i=(e=n.match(/m/g))===null||e===void 0?void 0:e.length)!==null&&i!==void 0?i:0,year:(r=(o=n.match(/y/g))===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0}};function Gt(n){return{day:String(n.getDate()).padStart(2,"0"),month:String(n.getMonth()+1).padStart(2,"0"),year:String(n.getFullYear()).padStart(4,"0"),hours:String(n.getHours()).padStart(2,"0"),minutes:String(n.getMinutes()).padStart(2,"0"),seconds:String(n.getSeconds()).padStart(2,"0"),milliseconds:String(n.getMilliseconds()).padStart(3,"0")}}function xn(n,t){let s=Ut(t),[e=""]=new RegExp(`(\\D*\\d){${s}}`).exec(n)||[];return e}function Me(n,t){return n.length<t.length?!1:n.split(/\D/).every(s=>!/^0+$/.exec(s))}function Y(n,t,s){let e=Ut(t);return n.replace(s,"").match(new RegExp(`(\\D*\\d[^\\d\\s]*){1,${e}}`,"g"))||[]}function X(n,t){let s=t.replaceAll(/[^dmy]/g,""),e=n.replaceAll(/\D+/g,""),i={day:e.slice(s.indexOf("d"),s.lastIndexOf("d")+1),month:e.slice(s.indexOf("m"),s.lastIndexOf("m")+1),year:e.slice(s.indexOf("y"),s.lastIndexOf("y")+1)};return Object.fromEntries(Object.entries(i).filter(([o,r])=>!!r).sort(([o],[r])=>t.toLowerCase().indexOf(o.slice(0,1))>t.toLowerCase().indexOf(r.slice(0,1))?1:-1))}function Pe(n,t){var s,e,i,o,r,c,l;let u=((s=n.year)===null||s===void 0?void 0:s.length)===2?`20${n.year}`:n.year,a=new Date(Number(u??"0"),Number((e=n.month)!==null&&e!==void 0?e:"1")-1,Number((i=n.day)!==null&&i!==void 0?i:"1"),Number((o=t==null?void 0:t.hours)!==null&&o!==void 0?o:"0"),Number((r=t==null?void 0:t.minutes)!==null&&r!==void 0?r:"0"),Number((c=t==null?void 0:t.seconds)!==null&&c!==void 0?c:"0"),Number((l=t==null?void 0:t.milliseconds)!==null&&l!==void 0?l:"0"));return a.setFullYear(Number(u??"0")),a}var Wt=", ";function F({day:n,month:t,year:s,hours:e,minutes:i,seconds:o,milliseconds:r},{dateMode:c,dateTimeSeparator:l=Wt,timeMode:u}){var a;let d=((a=c.match(/y/g))===null||a===void 0?void 0:a.length)===2?s==null?void 0:s.slice(-2):s;return(c+(u?l+u:"")).replaceAll(/d+/g,n??"").replaceAll(/m+/g,t??"").replaceAll(/y+/g,d??"").replaceAll(/H+/g,e??"").replaceAll("MSS",r??"").replaceAll(/M+/g,i??"").replaceAll(/S+/g,o??"").replaceAll(/^\D+/g,"").replaceAll(/\D+$/g,"")}var zt={day:31,month:12,year:9999},Cn=[".",",","\u0431","\u044E"],An=new Date("0001-01-01"),Zt=new Date("9999-12-31");var z="\xA0",Dn="\u200B",ae="\u2013",Se="\u2014",Z="-",ue="\u2212",Te="\u30FC";var gi=new RegExp(`[${z}APM]+$`,"g"),vi=new RegExp(`${z}[AP]M$`,"g"),Mn=[":","."];function Pn({dateString:n,dateModeTemplate:t,dateSegmentsSeparator:s,offset:e,selection:[i,o]}){let r=X(n,t),c=Object.entries(r),l={};for(let[d,h]of c){let m=F(l,{dateMode:t}),p=zt[d],f=m.length&&s.length,g=e+m.length+f+Bt(t)[d],v=g>=i&&g===o;if(v&&Number(h)>Number(p))return{validatedDateString:"",updatedSelection:[i,o]};if(v&&Number(h)<1)return{validatedDateString:"",updatedSelection:[i,o]};l[d]=h}let u=F(l,{dateMode:t}),a=u.length-n.length;return{validatedDateString:u,updatedSelection:[i+a,o+a]}}var Yt=/[\\^$.*+?()[\]{}|]/g,Sn=new RegExp(Yt.source);function E(n){return n&&Sn.test(n)?n.replaceAll(Yt,String.raw`\$&`):n}function C(n,{prefix:t,postfix:s}){var e,i;let o=new RegExp(`^${E(t)}`),r=new RegExp(`${E(s)}$`),[c=""]=(e=n.match(o))!==null&&e!==void 0?e:[],[l=""]=(i=n.match(r))!==null&&i!==void 0?i:[],u=n.replace(o,"").replace(r,"");return{extractedPrefix:c,extractedPostfix:l,cleanValue:u}}function Tn(n,t){let s="";for(let e=0;e<n.length;e++){if(n[e]!==t[e])return s;s+=n[e]}return s}function k(n){return n}function Ae(n){return!n||typeof n=="object"&&Object.keys(n).length===0}var wn=/^0+$/;function De(n,t,s=0){let e=n.padEnd(t.length,"0");if(Number(e)<=Number(t))return{validatedSegmentValue:n,prefixedZeroesCount:s};if(e.endsWith("0"))return De(`0${n.slice(0,t.length-1)}`,t,s+1);let i=n.slice(0,t.length-1);return wn.exec(i)?{validatedSegmentValue:"",prefixedZeroesCount:s}:De(`${i}0`,t,s)}function Lt(n){return n.replaceAll(/[０-９]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248))}function Xt({dateModeTemplate:n,dateSegmentSeparator:t,splitFn:s,uniteFn:e}){return({value:i,selection:o})=>{var r;let[c,l]=o,{dateStrings:u,restPart:a=""}=s(i),d=[],h=0;u.forEach(p=>{let f=X(p,n),v=Object.entries(f).reduce((_,[V,D])=>{let{validatedSegmentValue:T,prefixedZeroesCount:A}=De(D,`${zt[V]}`);return h+=A,Object.assign(Object.assign({},_),{[V]:T})},{});d.push(F(v,{dateMode:n}))});let m=e(d,i)+(!((r=u[u.length-1])===null||r===void 0)&&r.endsWith(t)?t:"")+a;return h&&m.slice(l+h,l+h+t.length)===t&&(h+=t.length),{selection:[c+h,l+h],value:m}}}function yn({dateModeTemplate:n,firstDateEndSeparator:t,dateSegmentSeparator:s,pseudoFirstDateEndSeparators:e}){return({elementState:i,data:o})=>{let{value:r,selection:c}=i,[l,u]=c,a=xn(r,n),d=e.filter(f=>!t.includes(f)&&f!==s),h=new RegExp(`[${d.join("")}]`,"gi"),m=a&&r.length>a.length?a+r.slice(a.length).replace(/^[\D\s]*/,t):r,p=m.length-r.length;return{elementState:{selection:[l+p,u+p],value:m},data:o.replace(h,t)}}}function we(){return({elementState:n,data:t})=>{let{value:s,selection:e}=n;return{elementState:{selection:e,value:Lt(s)},data:Lt(t)}}}var Ei=new RegExp(`[${Mn.map(E).join("")}]$`);function Nn(n,t){let s=Bt(t);return Object.fromEntries(Object.entries(n).map(([e,i])=>{let o=s[e];return[e,i.length===o&&/^0+$/.exec(i)?"1".padStart(o,"0"):i]}))}function Kt({dateModeTemplate:n,min:t=An,max:s=Zt,rangeSeparator:e="",dateSegmentSeparator:i="."}){return({value:o,selection:r})=>{let c=e&&o.endsWith(e),l=Y(o,n,e),u="";for(let a of l){u+=u?e:"";let d=X(a,n);if(!Me(a,n)){let p=Nn(d,n),f=F(p,{dateMode:n}),g=a.endsWith(i)?i:"";u+=f+g;continue}let h=Pe(d),m=S(h,t,s);u+=F(Gt(m),{dateMode:n})}return{selection:r,value:u+(c?e:"")}}}function Qt({dateModeTemplate:n,dateSegmentsSeparator:t,rangeSeparator:s="",dateTimeSeparator:e=Wt}){return({elementState:i,data:o})=>{var r;let c=s?new RegExp(`${s}|-`):e,l=o.split(c),u=o.includes(e)?[(r=l[0])!==null&&r!==void 0?r:""]:l;if(u.every(a=>a.trim().split(/\D/).filter(Boolean).length===n.split(t).length)){let a=u.map(d=>In(d,n,t)).join(s);return{elementState:i,data:`${a}${o.includes(e)&&e+l[1]||""}`}}return{elementState:i,data:o}}}function In(n,t,s){let e=n.split(/\D/).filter(Boolean),i=t.split(s);return e.map((r,c)=>{var l,u;return c===i.length-1?r:r.padStart((u=(l=i[c])===null||l===void 0?void 0:l.length)!==null&&u!==void 0?u:0,"0")}).join(s)}function On(n){let t=new RegExp(`${E(n)}$`);return n?({value:s,selection:e},i)=>{if(!s&&!i.value.endsWith(n))return{value:s,selection:e};if(!s.endsWith(n)&&!i.value.endsWith(n))return{selection:e,value:s+n};let o=i.value.replace(t,""),r=i.selection[1]>=o.length,c=Tn(o,s);return{selection:e,value:Array.from(n).reverse().reduce((l,u,a)=>{let d=l.length-1-a,h=c[d]===u&&r;return l[d]!==u||h?l.slice(0,d+1)+u+l.slice(d+1):l},s)}}:k}function Rn(n){return n?({value:t,selection:s},e)=>{if(t.startsWith(n)||!t&&!e.value.startsWith(n))return{value:t,selection:s};let[i,o]=s,r=Array.from(n).reduce((l,u,a)=>l[a]===u?l:l.slice(0,a)+u+l.slice(a),t),c=r.length-t.length;return{selection:[i+c,o+c],value:r}}:k}function qt({dateModeTemplate:n,dateSegmentsSeparator:t,rangeSeparator:s=""}){return({elementState:e,data:i})=>{let{value:o,selection:r}=e;if(i===t)return{elementState:e,data:r[0]===o.length?i:""};let c=i.replaceAll(new RegExp(`[^\\d${E(t)}${s}]`,"g"),"");if(!c)return{elementState:e,data:""};let[l,u]=r,a=u+i.length,d=o.slice(0,l)+c+o.slice(a),h=Y(d,n,s),m="",p=!!s&&d.includes(s);for(let g of h){let{validatedDateString:v,updatedSelection:_}=Pn({dateString:g,dateModeTemplate:n,dateSegmentsSeparator:t,offset:m.length,selection:[l,a]});if(g&&!v)return{elementState:e,data:""};a=_[1],m+=p&&!m?v+s:v}let f=m.slice(l,a);return{elementState:{selection:r,value:m.slice(0,l)+f.split(t).map(g=>"0".repeat(g.length)).join(t)+m.slice(a)},data:f}}}function ye(n,t,s){return(e,i)=>{let o=()=>t(e,i);return e.addEventListener(n,o,s),()=>e.removeEventListener(n,o,s)}}function Vn(n){return(t,s)=>{let e=t.ownerDocument,i=0,o=()=>i++,r=()=>{i=Math.max(--i,0)},c=()=>{if(t.matches(":focus")){if(i)return e.addEventListener("mouseup",c,{once:!0,passive:!0});n(t,s)}};return e.addEventListener("selectionchange",c,{passive:!0}),t.addEventListener("mousedown",o,{passive:!0}),e.addEventListener("mouseup",r,{passive:!0}),()=>{e.removeEventListener("selectionchange",c),e.removeEventListener("mousedown",o),e.removeEventListener("mouseup",r)}}}function Jt(n){return Vn(t=>{var s,e;let i=(s=t.selectionStart)!==null&&s!==void 0?s:0,o=(e=t.selectionEnd)!==null&&e!==void 0?e:0,[r,c]=n(t.value,[i,o]);(r>i||c<o)&&t.setSelectionRange(S(i,r,c),S(o,r,c))})}function en(){return({elementState:n},t)=>{let{value:s,selection:e}=n;if(!s||Fn(s,e))return{elementState:n};let[i,o]=e,r=s.slice(i,o).replaceAll(/\d/g,"0"),c=s.slice(0,i)+r+s.slice(o);return r.replaceAll(/\D/g,"")?t==="validation"||t==="insert"&&i===o?{elementState:{selection:e,value:c}}:{elementState:{selection:t==="deleteBackward"||t==="insert"?[i,i]:[o,o],value:c}}:{elementState:n}}}function Fn(n,[t,s]){return s===n.length}function _i({mode:n,separator:t=".",max:s,min:e}){let i=n.split("/").join(t);return Object.assign(Object.assign({},I),{mask:Array.from(i).map(o=>t.includes(o)?o:/\d/),overwriteMode:"replace",preprocessors:[we(),en(),Qt({dateModeTemplate:i,dateSegmentsSeparator:t}),qt({dateModeTemplate:i,dateSegmentsSeparator:t})],postprocessors:[Xt({dateModeTemplate:i,dateSegmentSeparator:t,splitFn:o=>({dateStrings:[o]}),uniteFn:([o=""])=>o}),Kt({min:e,max:s,dateModeTemplate:i,dateSegmentSeparator:t})]})}var kn=[Z,ae,Se,ue,Te];function Ln({dateModeTemplate:n,rangeSeparator:t,minLength:s,maxLength:e,max:i=Zt}){return Ae(s)&&Ae(e)?k:({value:o,selection:r})=>{let c=Y(o,n,t);if(c.length!==2||c.some(p=>!Me(p,n)))return{value:o,selection:r};let[l,u]=c.map(p=>Pe(X(p,n)));if(!l||!u)return{value:o,selection:r};let a=kt(l,Object.assign(Object.assign({},s),{day:(s==null?void 0:s.day)&&s.day-1})),d=Ae(e)?i:kt(l,Object.assign(Object.assign({},e),{day:(e==null?void 0:e.day)&&e.day-1})),h=S(u,a,i),m=h>d?d:h;return{selection:r,value:c[0]+t+F(Gt(m),{dateMode:n})}}}function $n({dateModeTemplate:n,rangeSeparator:t}){return({value:s,selection:e})=>{let i=Y(s,n,t),o=i.length===2&&i.every(h=>Me(h,n)),[r,c]=e,l=r>=s.length,u=r===0&&c>=s.length;if(!(l||u)||!o)return{value:s,selection:e};let[a,d]=i.map(h=>Pe(X(h,n)));return{selection:e,value:a&&d&&a>d?i.reverse().join(t):s}}}function bi({mode:n,min:t,max:s,minLength:e,maxLength:i,dateSeparator:o=".",rangeSeparator:r=`${z}${ae}${z}`}){let c=n.split("/").join(o),l=Array.from(c).map(u=>o.includes(u)?u:/\d/);return Object.assign(Object.assign({},I),{mask:[...l,...Array.from(r),...l],overwriteMode:"replace",preprocessors:[we(),yn({dateModeTemplate:c,dateSegmentSeparator:o,firstDateEndSeparator:r,pseudoFirstDateEndSeparators:kn}),en(),Qt({dateModeTemplate:c,rangeSeparator:r,dateSegmentsSeparator:o}),qt({dateModeTemplate:c,rangeSeparator:r,dateSegmentsSeparator:o})],postprocessors:[Xt({dateModeTemplate:c,dateSegmentSeparator:o,splitFn:u=>({dateStrings:Y(u,c,r)}),uniteFn:(u,a)=>u.reduce((d,h,m)=>d+h+(!m&&a.includes(r)?r:""),"")}),Kt({min:t,max:s,dateModeTemplate:c,rangeSeparator:r,dateSegmentSeparator:o}),Ln({dateModeTemplate:c,minLength:e,maxLength:i,max:s,rangeSeparator:r}),$n({dateModeTemplate:c,rangeSeparator:r})]})}function jn({prefix:n,postfix:t}){return({elementState:s,data:e})=>{let{cleanValue:i}=C(e,{prefix:n,postfix:t});return{elementState:s,data:i}}}function tn({decimalSeparator:n,isNegativeAllowed:t,precision:s,thousandSeparator:e,prefix:i,postfix:o,decimalPseudoSeparators:r=[],pseudoMinuses:c=[],minusSign:l}){let u=$t(i),a=String.raw`\d`,d=t?`[${l}${c.map(g=>`\\${g}`).join("")}]?`:"",h=e?`[${a}${E(e).replaceAll(/\s/g,String.raw`\s`)}]*`:`[${a}]*`,m=Number.isFinite(s)?s:"",p=s>0?`([${E(n)}${r.map(E).join("")}]${a}{0,${m}})?`:"",f=$t(o);return new RegExp(`^${u}${d}${h}${p}${f}$`)}function $t(n){return n?`${n.split("").map(t=>`${E(t)}?`).join("")}`:""}function R(n,t="."){let s=!!new RegExp(`^\\D*[${ue}\\${Z}${ae}${Se}${Te}]`).exec(n),e=E(t),i=n.replaceAll(new RegExp(`${e}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${e}]`,"g"),"").replace(t,".");return i?+`${s?Z:""}${i}`:NaN}function Hn(n){var t;let s=String(n),[e="",i]=s.split("e-"),o=s;if(i){let[,r]=e.split("."),c=Number(i)+((t=r==null?void 0:r.length)!==null&&t!==void 0?t:0);o=n.toFixed(c)}return o}function nn(n,{decimalSeparator:t,minusSign:s}){let[e="",i=""]=n.split(t),o=E(s),[,r="",c=""]=new RegExp(`^(?:[^\\d${o}])?(${o})?(.*)`).exec(e)||[];return{minus:r,integerPart:c,decimalPart:i}}function Un({decimalSeparator:n,thousandSeparator:t,decimalPseudoSeparators:s=Cn}){return s.filter(e=>e!==t&&e!==n)}function Bn({decimalSeparator:n,precision:t,decimalZeroPadding:s,prefix:e,postfix:i}){return t<=0||!s?k:({value:o,selection:r})=>{let{cleanValue:c,extractedPrefix:l,extractedPostfix:u}=C(o,{prefix:e,postfix:i});if(Number.isNaN(R(c,n)))return{value:o,selection:r};let[a,d=""]=c.split(n);return{value:l+a+n+d.padEnd(t,"0")+u,selection:r}}}function Gn({prefix:n,postfix:t,decimalSeparator:s,minusSign:e}){return({value:i,selection:o})=>{let[r]=o,{cleanValue:c,extractedPrefix:l,extractedPostfix:u}=C(i,{prefix:n,postfix:t}),{minus:a,integerPart:d,decimalPart:h}=nn(c,{decimalSeparator:s,minusSign:e}),m=!d&&!h&&c.includes(s);return!d&&!Number(h)&&r===(a+l).length||m?{selection:o,value:l+a+u}:{value:i,selection:o}}}function Wn({decimalSeparator:n,decimalPseudoSeparators:t,pseudoMinuses:s,prefix:e,postfix:i,minusSign:o}){let r=!0,c=tn({decimalSeparator:n,decimalPseudoSeparators:t,pseudoMinuses:s,prefix:"",postfix:"",thousandSeparator:"",precision:1/0,isNegativeAllowed:!0,minusSign:o});return({elementState:l,data:u})=>{if(!r)return{elementState:l,data:u};r=!1;let{value:a,selection:d}=l,[h,m]=d,{extractedPrefix:p,cleanValue:f,extractedPostfix:g}=C(a,{prefix:e,postfix:i}),v=O({selection:[Math.max(h-p.length,0),S(m-p.length,0,f.length)],value:f},{mask:c}),[_,V]=v.selection;return{elementState:{selection:[_+p.length,V+p.length],value:p+v.value+g},data:u}}}function zn({decimalSeparator:n,thousandSeparator:t,prefix:s,postfix:e}){let i=r=>{let c=E(t);return r.replace(new RegExp(`^(\\D+)?[0${c}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${c}]+(?=[1-9])`),"$1")},o=(r,c)=>{let l=r.slice(0,c),u=r.slice(c).startsWith("0");return l.length-i(l).length+(u?1:0)};return({value:r,selection:c})=>{let[l,u]=c,{cleanValue:a,extractedPrefix:d,extractedPostfix:h}=C(r,{prefix:s,postfix:e}),m=a.includes(n),[p="",f=""]=a.split(n),g=i(p);if(p===g)return{value:r,selection:c};let v=l-o(r,l),_=u-o(r,u);return{value:d+g+(m?n:"")+f+h,selection:[Math.max(v,0),Math.max(_,0)]}}}function Zn({min:n,max:t,decimalSeparator:s,minusSign:e}){return({value:i,selection:o})=>{let r=R(i,s),c=r>0?Math.min(r,t):Math.max(r,n);if(r&&c!==r){let l=`${c}`.replace(".",s).replace(Z,e);return{value:l,selection:[l.length,l.length]}}return{value:i,selection:o}}}function Yn({decimalSeparator:n,thousandSeparator:t,decimalZeroPadding:s}){return({elementState:e,data:i},o)=>{let{value:r,selection:c}=e,[l,u]=c,a=r.slice(l,u),d=s?[n,t]:[t],h=s&&l>r.indexOf(n)&&!!a.match(/^0+$/gi);return o!=="deleteBackward"&&o!=="deleteForward"||!d.includes(a)&&!h?{elementState:e,data:i}:{elementState:{value:r,selection:o==="deleteForward"?[u,u]:[l,l]},data:i}}}function Xn({decimalSeparator:n,precision:t,prefix:s,postfix:e}){let i=new RegExp(`^\\D*${E(n)}`);return({elementState:o,data:r})=>{let{value:c,selection:l}=o,{cleanValue:u,extractedPrefix:a}=C(c,{prefix:s,postfix:e}),[d,h]=l,m=S(d-a.length,0,u.length),p=S(h-a.length,0,u.length);if(t<=0||u.slice(0,m).includes(n)||u.slice(p).includes(n)||!r.match(i))return{elementState:o,data:r};let f=/\d+/.exec(u.slice(0,m));return{elementState:o,data:f?r:`0${r}`}}}function jt({validCharacter:n,pseudoCharacters:t,prefix:s,postfix:e}){let i=new RegExp(`[${t.join("")}]`,"gi");return({elementState:o,data:r})=>{let{value:c,selection:l}=o,{cleanValue:u,extractedPostfix:a,extractedPrefix:d}=C(c,{prefix:s,postfix:e});return{elementState:{selection:l,value:d+u.replace(i,n)+a},data:r.replace(i,n)}}}function Kn({decimalSeparator:n,prefix:t,postfix:s}){return({elementState:e,data:i})=>{let{value:o,selection:r}=e,[c,l]=r,{cleanValue:u}=C(o,{prefix:t,postfix:s});return{elementState:e,data:!u.includes(n)||o.slice(c,l+1).includes(n)?i:i.replaceAll(new RegExp(E(n),"gi"),"")}}}function Qn({thousandSeparator:n,decimalSeparator:t,prefix:s,postfix:e,minusSign:i}){if(!n)return k;let o=(...r)=>r.every(c=>/\s/.test(c));return({value:r,selection:c})=>{let[l,u]=c,[a,d]=c,{cleanValue:h,extractedPostfix:m,extractedPrefix:p}=C(r,{prefix:s,postfix:e}),{minus:f,integerPart:g,decimalPart:v}=nn(h,{decimalSeparator:t,minusSign:i}),_=h.length-(f+g+(h.includes(t)?t+v:"")).length;_>0&&l&&l<=_&&(a-=_),_>0&&u&&u<=_&&(d-=_);let V=Array.from(g).reduceRight((D,T,A)=>{let de=!(!A&&T===n)&&!!D.length&&(D.length+1)%4===0,Ie=T===n||o(T,n);return de&&Ie?n+D:!de&&Ie?(A&&A<=l&&a--,A&&A<=u&&d--,D):de?(A<l&&a++,A<u&&d++,T+n+D):T+D},"");return{value:p+f+V+(h.includes(t)?t:"")+v+m,selection:[a,d]}}}function qn({precision:n,decimalSeparator:t,prefix:s,postfix:e}){if(n>0)return k;let i=new RegExp(`${E(t)}.*$`,"g");return({elementState:o,data:r})=>{let{value:c,selection:l}=o,{cleanValue:u,extractedPrefix:a,extractedPostfix:d}=C(c,{prefix:s,postfix:e}),[h,m]=l,p=a+u.replace(i,"")+d;return{elementState:{selection:[Math.min(h,p.length),Math.min(m,p.length)],value:p},data:r.replace(i,"")}}}var Ht=[0,0];function Jn({decimalSeparator:n,thousandSeparator:t,prefix:s,postfix:e}){let i=zn({decimalSeparator:n,thousandSeparator:t,prefix:s,postfix:e});return ye("blur",o=>{let r=i({value:o.value,selection:Ht},{value:"",selection:Ht}).value;W(o,r)},{capture:!0})}function ei({min:n,max:t,decimalSeparator:s}){return ye("blur",(e,i)=>{let o=R(e.value,s),r=S(o,n,t);!Number.isNaN(o)&&o!==r&&W(e,O(Hn(r),i))},{capture:!0})}function ti({decimalSeparator:n,prefix:t,postfix:s}){return ye("blur",e=>{let{cleanValue:i,extractedPostfix:o,extractedPrefix:r}=C(e.value,{prefix:t,postfix:s}),c=r+i.replace(new RegExp(`^(\\D+)?${E(n)}`),`$10${n}`)+o;W(e,c)},{capture:!0})}function Ne({max:n=Number.MAX_SAFE_INTEGER,min:t=Number.MIN_SAFE_INTEGER,precision:s=0,thousandSeparator:e=z,decimalSeparator:i=".",decimalPseudoSeparators:o,decimalZeroPadding:r=!1,prefix:c="",postfix:l="",minusSign:u=ue}={}){let a=[Z,ae,Se,Te,ue].filter(m=>m!==e&&m!==i&&m!==u),d=Un({decimalSeparator:i,thousandSeparator:e,decimalPseudoSeparators:o}),h=c.endsWith(i)&&s>0?`${c}${Dn}`:c;return Object.assign(Object.assign({},I),{mask:tn({decimalSeparator:i,precision:s,thousandSeparator:e,prefix:h,postfix:l,isNegativeAllowed:t<0,minusSign:u}),preprocessors:[we(),Wn({decimalSeparator:i,decimalPseudoSeparators:d,pseudoMinuses:a,prefix:h,postfix:l,minusSign:u}),jn({prefix:h,postfix:l}),jt({validCharacter:u,pseudoCharacters:a,prefix:h,postfix:l}),jt({validCharacter:i,pseudoCharacters:d,prefix:h,postfix:l}),Xn({decimalSeparator:i,precision:s,prefix:h,postfix:l}),Yn({decimalSeparator:i,decimalZeroPadding:r,thousandSeparator:e}),qn({precision:s,decimalSeparator:i,prefix:h,postfix:l}),Kn({decimalSeparator:i,prefix:h,postfix:l})],postprocessors:[Zn({decimalSeparator:i,min:t,max:n,minusSign:u}),Rn(h),On(l),Qn({decimalSeparator:i,thousandSeparator:e,prefix:h,postfix:l,minusSign:u}),Bn({decimalSeparator:i,decimalZeroPadding:r,precision:s,prefix:h,postfix:l}),Gn({prefix:h,postfix:l,decimalSeparator:i,minusSign:u})],plugins:[Jn({decimalSeparator:i,thousandSeparator:e,prefix:h,postfix:l}),ti({decimalSeparator:i,prefix:h,postfix:l}),ei({min:t,max:n,decimalSeparator:i})],overwriteMode:r?({value:m,selection:[p]})=>p<=m.indexOf(i)?"shift":"replace":"shift"})}var sn=(()=>{let t=class t{constructor(){this.elementRef=b(Le).nativeElement,this.ngZone=b(ke),this.maskedElement=null,this.options=null,this.elementPredicate=Rt;let e=b(tt,{self:!0,optional:!0});if(e){let i=e.writeValue.bind(e);e.writeValue=o=>{i(this.options?O(String(o??""),this.options):o)}}}ngOnChanges(){return Re(this,null,function*(){let{elementPredicate:e,options:i,maskedElement:o,elementRef:r,ngZone:c}=this;if(o==null||o.destroy(),!i)return;let l=yield e(r);this.elementPredicate!==e||this.options!==i||c.runOutsideAngular(()=>{this.maskedElement=new ce(l,i)})})}ngOnDestroy(){var e;(e=this.maskedElement)==null||e.destroy()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=J({type:t,selectors:[["","maskito",""]],inputs:{options:[0,"maskito","options"],elementPredicate:[0,"maskitoElement","elementPredicate"]},features:[Fe]});let n=t;return n})();var si=["*",[["input"]],[["tuiContent"]]],oi=["*","input","tuiContent"];function ri(n,t){if(n&1&&(Ue(0),te(1),Be()),n&2){let s=t.polymorpheusOutlet;M(),Ye(" ",s," ")}}function ci(n,t){if(n&1&&($(0,"div",6),L(1,ri,2,1,"ng-container",7),j()),n&2){N();let s=ve(9);M(),P("polymorpheusOutlet",s)}}function li(n,t){if(n&1){let s=pe();$(0,"section",8)(1,"button",9),H("click.prevent",function(){w(s);let i=N();return y(i.onArrow(i.step))})("mousedown.prevent",function(){w(s);let i=N();return y(i.nativeFocusableElement==null?null:i.nativeFocusableElement.focus())}),te(2," + "),j(),$(3,"button",9),H("click.prevent",function(){w(s);let i=N();return y(i.onArrow(-i.step))})("mousedown.prevent",function(){w(s);let i=N();return y(i.nativeFocusableElement==null?null:i.nativeFocusableElement.focus())}),te(4," - "),j()()}if(n&2){let s=N(),e=ve(1);M(),P("appearance",e.appearance)("disabled",!s.canIncrement)("iconStart",s.icons.up),M(2),P("appearance",e.appearance)("disabled",!s.canDecrement)("iconStart",s.icons.down)}}function ui(n,t){n&1&&Ge(0)}function ai(n,t){n&1&&ee(0,2)}var on={icons:{up:"@tui.plus",down:"@tui.minus"},min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,step:0},rn=_e(on);function ls(n){return ot(rn,n,on)}var di=18,hi=_e(),us=(()=>{let t=class t extends _t{constructor(){super(...arguments),this.isIOS=b(pt),this.textfieldSize=b(Ct),this.options=b(rn),this.unfinishedValue="",this.polymorpheusValueContent=rt,this.valueTransformer=b(hi,{optional:!0}),this.numberFormat=at,this.controller=b(Dt),this.numberFormat$=b(dt).pipe(ut(this.cdr),st()).subscribe(e=>{this.numberFormat=e}),this.min=this.options.min,this.max=this.options.max,this.step=this.options.step}get nativeFocusableElement(){return!this.textfield||this.computedDisabled?null:this.textfield.nativeFocusableElement}get focused(){var e;return!!((e=this.textfield)!=null&&e.focused)}get inputMode(){return this.isIOS&&this.isNegativeAllowed?"text":this.precision?"decimal":"numeric"}get calculatedMaxLength(){let i=!!this.precision&&this.nativeValue.includes(this.numberFormat.decimalSeparator)?Math.min(this.precision+1,20):0,o=this.numberFormat.thousandSeparator.repeat(5).length;return di+i+o}get computedValue(){return this.focused?this.nativeValue:this.formattedValue}onValueChange(e){let i=R(e,this.numberFormat.decimalSeparator);if(this.unfinishedValue=null,Number.isNaN(i)){this.value=null;return}if(this.isNativeValueNotFinished){this.unfinishedValue=e,this.cdr.markForCheck();return}i<this.computedMin||i>this.computedMax||(this.value=i)}writeValue(e){super.writeValue(e),this.nativeValue=this.formattedValue}get size(){return this.textfieldSize.size}get icons(){return this.options.icons}get computedMin(){return this.computeMin(this.min,this.max)}get computedMax(){return this.computeMax(this.min,this.max)}get isNegativeAllowed(){return this.computedMin<0}get formattedValue(){return this.value!==null?this.getFormattedValue(this.value||0):""}get canDecrement(){return this.interactive&&(this.value||0)>this.computedMin}get canIncrement(){return this.interactive&&(this.value||0)<this.computedMax}get computedPrefix(){return this.controller.prefix}get computedPostfix(){let e=this.controller.postfix;return e&&` ${e}`}get mask(){return this.calculateMask(this.precision,this.numberFormat.decimalMode,this.numberFormat.decimalSeparator,this.numberFormat.thousandSeparator,this.computedMin,this.computedMax,this.computedPrefix,this.computedPostfix)}get nativeValue(){var e;return((e=this.nativeFocusableElement)==null?void 0:e.value)||""}set nativeValue(e){!this.textfield||!this.nativeFocusableElement||(this.textfield.value=e,this.nativeFocusableElement.value=e)}onArrow(e){e&&(this.value=nt((this.value||0)+e,this.computedMin,this.computedMax),this.nativeValue=this.formattedValue)}onFocused(e){this.updateFocused(e);let i=this.unfinishedValue?R(this.unfinishedValue,this.numberFormat.decimalSeparator):this.nativeNumberValue;if(this.unfinishedValue=null,Number.isNaN(i)){this.nativeValue=e&&!this.readOnly?this.computedPrefix+this.computedPostfix:"",this.value=null;return}e||(this.value=i,this.nativeValue=this.formattedValue)}getFormattedValue(e){return this.computedPrefix+mt(e,Q(K({},this.numberFormat),{precision:it(e,this.precision)?this.precision:1/0})).replace(ct,lt)+this.computedPostfix}get isNativeValueNotFinished(){let e=this.nativeNumberValue;return e<0?e>this.computedMax:e<this.computedMin}get nativeNumberValue(){return R(this.nativeValue,this.numberFormat.decimalSeparator)}get precision(){return Number.isNaN(this.numberFormat.precision)?2:this.numberFormat.precision}computeMin(e,i){var o,r;return Math.min(((o=this.valueTransformer)==null?void 0:o.fromControlValue(e))??e??this.options.min,((r=this.valueTransformer)==null?void 0:r.fromControlValue(i))??i??this.options.max)}computeMax(e,i){var o,r;return Math.max(((o=this.valueTransformer)==null?void 0:o.fromControlValue(e))??e??this.options.min,((r=this.valueTransformer)==null?void 0:r.fromControlValue(i))??i??this.options.max)}calculateMask(e,i,o,r,c,l,u,a){let d={decimalSeparator:o,thousandSeparator:r,min:c,max:l,prefix:u,postfix:a,precision:e,decimalZeroPadding:i==="always"},f=Ne(d),{plugins:h}=f,m=Oe(f,["plugins"]),p=Ft(Ne(Q(K({},d),{min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER})));return Q(K({},m),{plugins:[...h,p,Jt(g=>[u.length,g.length-a.length])]})}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=he(t)))(o||t)}})(),t.\u0275cmp=$e({type:t,selectors:[["tui-input-number"]],contentQueries:function(i,o,r){if(i&1&&ze(r,ie,5),i&2){let c;fe(c=ge())&&(o.polymorpheusValueContent=c)}},viewQuery:function(i,o){if(i&1&&Ze(se,5),i&2){let r;fe(r=ge())&&(o.textfield=r.first)}},hostVars:1,hostBindings:function(i,o){i&1&&H("keydown.arrowDown",function(){return o.onArrow(-o.step)})("keydown.arrowUp",function(){return o.onArrow(o.step)}),i&2&&He("data-size",o.size)},inputs:{min:"min",max:"max",step:"step"},standalone:!1,features:[Ee([ft(t),vt(t),Mt]),me],ngContentSelectors:oi,decls:10,vars:14,consts:[["textfield",""],["valueContent",""],["tuiTextfieldPostfix","","tuiTextfieldPrefix","","tuiValueAccessor","",1,"t-textfield",3,"focusedChange","valueChange","disabled","focusable","invalid","maskito","pseudoActive","pseudoFocus","pseudoHover","readOnly","value"],["ngProjectAs","tuiContent","class","t-value-content",5,["tuiContent"],4,"ngIf"],["class","t-buttons",4,"ngIf"],[4,"ngIf"],["ngProjectAs","tuiContent",5,["tuiContent"],1,"t-value-content"],[4,"polymorpheusOutlet"],[1,"t-buttons"],["size","s","tabindex","-1","tuiIconButton","","type","button",1,"t-button",3,"click.prevent","mousedown.prevent","appearance","disabled","iconStart"]],template:function(i,o){if(i&1){let r=pe();We(si),$(0,"tui-primitive-textfield",2,0),H("focusedChange",function(l){return w(r),y(o.onFocused(l))})("valueChange",function(l){return w(r),y(o.onValueChange(l))}),ee(2),ee(3,1,["ngProjectAs","input",5,["input"]]),L(4,ci,2,1,"div",3),j(),L(5,li,5,6,"section",4)(6,ui,1,0,"ng-container",5),Xe(7,"async"),L(8,ai,1,0,"ng-template",null,1,Qe)}i&2&&(P("disabled",o.computedDisabled)("focusable",o.focusable)("invalid",o.computedInvalid)("maskito",o.mask)("pseudoActive",o.pseudoActive)("pseudoFocus",o.computedFocused)("pseudoHover",o.pseudoHover)("readOnly",o.readOnly)("value",o.computedValue),M(4),P("ngIf",o.polymorpheusValueContent.length),M(),P("ngIf",o.step),M(),P("ngIf",Ke(7,12,o.polymorpheusValueContent.changes)))},dependencies:[qe,sn,se,Tt,xt,bt,ie,Pt,ht,Je],styles:["[_nghost-%COMP%]{display:flex;border-radius:var(--tui-radius-m);text-align:start}[_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-textfield[_ngcontent-%COMP%]{flex:1;min-inline-size:0;max-inline-size:100%;border-radius:inherit;text-align:inherit}.t-textfield[_ngcontent-%COMP%]:not(:last-child){border-start-end-radius:0;border-end-end-radius:0}.t-value-content[_ngcontent-%COMP%]{inline-size:100%}.t-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;margin-left:.125rem;border-radius:inherit}[data-size=s][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]{flex-direction:row-reverse}[data-size=s][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]:first-child{margin:0 0 0 .125rem;border-start-end-radius:inherit;border-end-end-radius:inherit}[data-size=s][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]:last-child{border-radius:0}[data-size=m][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]{inline-size:calc(var(--tui-height-m) * .75)}[data-size=l][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]{inline-size:calc(var(--tui-height-l) * .75)}.t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]{display:flex;flex:1;block-size:auto;align-items:center;justify-content:center;border-radius:0}.t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]:first-child{margin-bottom:.125rem;border-start-end-radius:inherit}.t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]:last-child{border-end-end-radius:inherit}"],changeDetection:0});let n=t;return q([ne],n.prototype,"computeMin",null),q([ne],n.prototype,"computeMax",null),q([ne],n.prototype,"calculateMask",null),n})(),as=(()=>{let t=class t extends Et{get value(){return this.host.computedValue}onValueChange(e){this.host.onValueChange(e)}ngDoCheck(){this.host.nativeFocusableElement&&(this.host.nativeFocusableElement.inputMode=this.host.inputMode,this.host.nativeFocusableElement.maxLength=this.host.nativeFocusableElement.maxLength>0?this.host.nativeFocusableElement.maxLength:this.host.calculatedMaxLength)}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=he(t)))(o||t)}})(),t.\u0275dir=J({type:t,selectors:[["tui-input-number"]],standalone:!1,features:[Ee([gt(t)]),me]});let n=t;return n})(),ds=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=je({type:t}),t.\u0275inj=Ve({imports:[et,wt,At,St]});let n=t;return n})();export{I as a,sn as b,_i as c,bi as d,Ne as e,ls as f,us as g,as as h,ds as i};
