import{a as gt}from"./chunk-SRX2Y3E3.js";import{A as yt,B as wt,N as oe,O as Nt,Q as It,c as Et,f as bt,h as _t,j as xt,k as St,s as Ct,t as At,u as Dt,w as Mt,x as Pt,y as Tt}from"./chunk-XVZAJMHK.js";import{H as vt,q as se}from"./chunk-ASO4AO7B.js";import{Dc as st,Eb as _e,Ga as M,Hd as dt,Id as ie,Ie as ht,Lb as qe,Mb as Je,Na as Ue,Oa as Be,Pa as ee,Ra as fe,Rb as et,Ta as $,Ua as Ge,Va as P,_c as ot,aa as Le,ad as rt,cb as j,cc as tt,da as C,db as H,dd as ct,ec as nt,ef as mt,fb as We,ff as pt,gb as ze,hb as Ze,ib as ge,ic as it,ka as $e,la as N,lb as U,m as J,ma as I,mb as O,md as lt,nb as Ye,nd as ut,oa as pe,ob as te,pb as Xe,pf as ft,qb as Ke,qd as at,rb as ve,sa as je,sb as Ee,tb as be,ua as He,ub as ne,vd as xe,wb as Qe}from"./chunk-X7A6I7JR.js";import{a as Q,b as q,c as Fe,e as ke}from"./chunk-HFDGAYQF.js";function Ot(n){let{anchorOffset:e=0,focusOffset:s=0}=n.ownerDocument.getSelection()||{},t=Math.min(e,s),i=Math.max(e,s);return[t,i]}function an(n,[e,s]){var t,i,o,r;let c=n.ownerDocument,l=c.createRange();l.setStart(n.firstChild||n,Math.min(e,(i=(t=n.textContent)===null||t===void 0?void 0:t.length)!==null&&i!==void 0?i:0)),l.setEnd(n.lastChild||n,Math.min(s,(r=(o=n.textContent)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0));let u=c.getSelection();u&&(u.removeAllRanges(),u.addRange(l))}var Ce=class{constructor(e){this.element=e,this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,`
`)}set value(e){this.element.innerHTML=e.replace(/\n$/,`

`)}get selectionStart(){return Ot(this.element)[0]}get selectionEnd(){return Ot(this.element)[1]}setSelectionRange(e,s){an(this.element,[e??0,s??0])}select(){this.setSelectionRange(0,this.value.length)}};function dn(n){let e=new Ce(n);return new Proxy(n,{get(s,t){if(t in e)return e[t];let i=s[t];return typeof i=="function"?i.bind(s):i},set(s,t,i,o){return Reflect.set(t in e?e:s,t,i,o)}})}var kt=n=>n.isContentEditable?dn(n):n.querySelector("input,textarea")||n,R={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},Ae=class{constructor(){this.now=null,this.past=[],this.future=[]}undo(){let e=this.past.pop();e&&this.now&&(this.future.push(this.now),this.updateElement(e,"historyUndo"))}redo(){let e=this.future.pop();e&&this.now&&(this.past.push(this.now),this.updateElement(e,"historyRedo"))}updateHistory(e){if(!this.now){this.now=e;return}let s=this.now.value!==e.value,t=this.now.selection.some((i,o)=>i!==e.selection[o]);!s&&!t||(s&&(this.past.push(this.now),this.future=[]),this.now=e)}updateElement(e,s){this.now=e,this.updateElementState(e,{inputType:s,data:null})}};function hn(n,...e){return e.every(({value:s})=>s===n.value)}function De(n,...e){return e.every(({value:s,selection:t})=>s===n.value&&t[0]===n.selection[0]&&t[1]===n.selection[1])}function mn({value:n,selection:e},s,t){let[i,o]=e,r=typeof t=="function"?t({value:n,selection:e}):t;return{value:n,selection:r==="replace"?[i,Math.max(i+s.length,o)]:[i,o]}}function ae(n){return typeof n=="string"}function Rt(n,e,s,t){let i="";for(let o=e.length;o<n.length;o++){let r=n[o]||"",c=(t==null?void 0:t.value[o])===r;if(!ae(r)||r===s&&!c)return i;i+=r}return i}function Lt(n,e){return Array.isArray(e)?n.length===e.length&&Array.from(n).every((s,t)=>{let i=e[t]||"";return ae(i)?s===i:s.match(i)}):e.test(n)}function pn(n,e,s){let t=null,i=null,o=Array.from(n.value).reduce((c,l,u)=>{let a=Rt(e,c,l,s),d=c+a,h=e[d.length]||"";return t===null&&u>=n.selection[0]&&(t=d.length),i===null&&u>=n.selection[1]&&(i=d.length),ae(h)?d+h:l.match(h)?d+l:d},""),r=Rt(e,o,"",s);return{value:Lt(o+r,e)?o+r:o,selection:[t??o.length,i??o.length]}}function fn({value:n,selection:e},s){let[t,i]=e,o=t,r=i,c=Array.from(n).reduce((l,u,a)=>{let d=l+u;return t===a&&(o=l.length),i===a&&(r=l.length),d.match(s)?d:l},"");return{value:c,selection:[Math.min(o,c.length),Math.min(r,c.length)]}}function re(n,e,s=null){if(Lt(n.value,e))return n;let{value:t,selection:i}=Array.isArray(e)?pn(n,e,s):fn(n,e);return{selection:i,value:Array.isArray(e)?t.slice(0,e.length):t}}function Vt(n,e){if(!Array.isArray(e))return n;let[s,t]=n.selection,i=[],o=Array.from(n.value).reduce((r,c,l)=>{let u=e[l]||"";return l===s&&i.push(r.length),l===t&&i.push(r.length),ae(u)&&u===c?r:r+c},"");return i.length<2&&i.push(...new Array(2-i.length).fill(o.length)),{value:o,selection:[i[0],i[1]]}}var W=class{constructor(e,s){this.initialElementState=e,this.maskOptions=s,this.value="",this.selection=[0,0];let{value:t,selection:i}=re(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=t,this.selection=i}addCharacters([e,s],t){let{value:i,maskOptions:o}=this,r=this.getMaskExpression({value:i.slice(0,e)+t+i.slice(s),selection:[e+t.length,e+t.length]}),c={value:i,selection:[e,s]},l=Vt(c,r),[u,a]=mn(l,t,o.overwriteMode).selection,d=l.value.slice(0,u)+t,h=d.length,p=re({value:d+l.value.slice(a),selection:[h,h]},r,c);if(i.slice(0,e)===re({value:d,selection:[h,h]},r,c).value||De(this,p))throw new Error("Invalid mask value");this.value=p.value,this.selection=p.selection}deleteCharacters([e,s]){if(e===s||!s)return;let{value:t}=this,i=this.getMaskExpression({value:t.slice(0,e)+t.slice(s),selection:[e,e]}),o={value:t,selection:[e,s]},r=Vt(o,i),[c,l]=r.selection,u=r.value.slice(0,c)+r.value.slice(l),a=re({value:u,selection:[c,c]},i,o);this.value=a.value,this.selection=a.selection}getMaskExpression(e){let{mask:s}=this.maskOptions;return typeof s=="function"?s(e):s}};var ce=class{constructor(e){this.element=e,this.listeners=[]}listen(e,s,t){let i=s;this.element.addEventListener(e,i,t),this.listeners.push(()=>this.element.removeEventListener(e,i,t))}destroy(){this.listeners.forEach(e=>e())}},A={CTRL:1,ALT:2,SHIFT:4,META:8},B={Y:89,Z:90};function G(n,e,s){return n.ctrlKey===!!(e&A.CTRL)&&n.altKey===!!(e&A.ALT)&&n.shiftKey===!!(e&A.SHIFT)&&n.metaKey===!!(e&A.META)&&n.keyCode===s}function gn(n){return G(n,A.CTRL,B.Y)||G(n,A.CTRL|A.SHIFT,B.Z)||G(n,A.META|A.SHIFT,B.Z)}function vn(n){return G(n,A.CTRL,B.Z)||G(n,A.META,B.Z)}function z(n,e){var s;let t=n.value;if(typeof e=="string")n.value=e;else{let[i,o]=e.selection;n.value=e.value,n.matches(":focus")&&((s=n.setSelectionRange)===null||s===void 0||s.call(n,i,o))}n.value!==t&&n.dispatchEvent(new Event("input",{bubbles:!0}))}function En({value:n,selection:e},s){let[t,i]=e;if(t!==i)return[t,i];let o=s?n.slice(t).indexOf(`
`)+1||n.length:n.slice(0,i).lastIndexOf(`
`)+1;return[s?t:o,s?o:i]}function bn({value:n,selection:e},s){let[t,i]=e;return t!==i?[t,i]:(s?[t,i+1]:[t-1,i]).map(r=>Math.min(Math.max(r,0),n.length))}var _n=/\s+$/g,xn=/^\s+/g,Ft=/\s/;function Sn({value:n,selection:e},s){let[t,i]=e;if(t!==i)return[t,i];if(s){let l=n.slice(t),[u]=l.match(xn)||[""],a=l.trimStart().search(Ft);return[t,a!==-1?t+u.length+a:n.length]}let o=n.slice(0,i),[r]=o.match(_n)||[""],c=o.trimEnd().split("").reverse().findIndex(l=>Ft.exec(l));return[c!==-1?i-r.length-c:0,i]}function le(n=[]){return(e,...s)=>n.reduce((t,i)=>Object.assign(Object.assign({},t),i(t,...s)),e)}function V(n,e){let s=Object.assign(Object.assign({},R),e),t=le(s.preprocessors),i=le(s.postprocessors),o=typeof n=="string"?{value:n,selection:[0,0]}:n,{elementState:r}=t({elementState:o,data:""},"validation"),c=new W(r,s),{value:l,selection:u}=i(c,o);return typeof n=="string"?l:{value:l,selection:u}}var Se=" ";function Cn(){let n="",e=0,s=null,t=!1;return i=>{let o=new ce(i);return o.listen("beforeinput",r=>{var c,l;let{value:u,selectionStart:a,selectionEnd:d}=i,h=(s==null?void 0:s.inputType)==="insertText"&&(s==null?void 0:s.data)===Se&&!u.slice(0,Number(d)).endsWith(Se);r.inputType==="insertText"&&r.data===`.${Se}`&&((s==null?void 0:s.inputType)==="deleteContentBackward"&&t?(i.value=n,(c=i.setSelectionRange)===null||c===void 0||c.call(i,e,e)):h&&((l=i.setSelectionRange)===null||l===void 0||l.call(i,a,a))),t=h,s=r,n=u,e=Number((h?e:d)===u.length?d:a)}),()=>o.destroy()}}function $t(n){return(e,s)=>{var t,i;let o=(t=e.selectionStart)!==null&&t!==void 0?t:0,r=(i=e.selectionEnd)!==null&&i!==void 0?i:0;z(e,{value:V(e.value,n||s),selection:[o,r]})}}var An=[Cn()],ue=class extends Ae{constructor(e,s){super(),this.element=e,this.maskitoOptions=s,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new ce(this.element),this.options=Object.assign(Object.assign({},R),this.maskitoOptions),this.upcomingElementState=null,this.preprocessor=le(this.options.preprocessors),this.postprocessor=le(this.options.postprocessors),this.teardowns=this.options.plugins.concat(An).map(t=>t(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",t=>{if(gn(t))return t.preventDefault(),this.redo();if(vn(t))return t.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",t=>{var i,o,r;let c=t.inputType.includes("Forward");switch(this.updateHistory(this.elementState),t.inputType){case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:t,isForward:c,selection:bn(this.elementState,c)});case"deleteHardLineBackward":case"deleteHardLineForward":case"deleteSoftLineBackward":case"deleteSoftLineForward":return this.handleDelete({event:t,isForward:c,selection:En(this.elementState,c),force:!0});case"deleteWordBackward":case"deleteWordForward":return this.handleDelete({event:t,isForward:c,selection:Sn(this.elementState,c),force:!0});case"historyRedo":return t.preventDefault(),this.redo();case"historyUndo":return t.preventDefault(),this.undo();case"insertCompositionText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(t);case"insertReplacementText":return;case"insertFromDrop":case"insertFromPaste":case"insertText":default:return this.handleInsert(t,(r=(i=t.data)!==null&&i!==void 0?i:(o=t.dataTransfer)===null||o===void 0?void 0:o.getData("text/plain"))!==null&&r!==void 0?r:"")}}),this.eventListener.listen("input",()=>{this.upcomingElementState&&(this.updateElementState(this.upcomingElementState),this.upcomingElementState=null)},{capture:!0}),this.eventListener.listen("input",({inputType:t})=>{t!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}destroy(){this.eventListener.destroy(),this.teardowns.forEach(e=>e==null?void 0:e())}updateElementState({value:e,selection:s},t){let i=this.elementState.value;this.updateValue(e),this.updateSelectionRange(s),t&&i!==e&&this.dispatchInputEvent(t)}get elementState(){let{value:e,selectionStart:s,selectionEnd:t}=this.element;return{value:e,selection:[s??0,t??0]}}get maxLength(){let{maxLength:e}=this.element;return e===-1?1/0:e}updateSelectionRange([e,s]){var t;let{element:i}=this;i.matches(":focus")&&(i.selectionStart!==e||i.selectionEnd!==s)&&((t=i.setSelectionRange)===null||t===void 0||t.call(i,e,s))}updateValue(e){this.element.value=e}ensureValueFitsMask(){this.updateElementState(V(this.elementState,this.options),{inputType:"insertText",data:null})}dispatchInputEvent(e={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},e),{bubbles:!0,cancelable:!1})))}handleDelete({event:e,selection:s,isForward:t,force:i=!1}){let o={value:this.elementState.value,selection:s},[r,c]=o.selection,{elementState:l}=this.preprocessor({elementState:o,data:""},t?"deleteForward":"deleteBackward"),u=new W(l,this.options),[a,d]=l.selection;u.deleteCharacters([a,d]);let h=this.postprocessor(u,o),p={value:o.value.slice(0,r)+o.value.slice(c),selection:[r,r]};if(!(De(p,h)&&!i&&!this.element.isContentEditable)){if(hn(o,l,u,h))return e.preventDefault(),this.updateSelectionRange(t?[d,d]:[a,a]);this.upcomingElementState=h}}handleInsert(e,s){let{options:t,maxLength:i,element:o,elementState:r}=this,{elementState:c,data:l=s}=this.preprocessor({data:s,elementState:r},"insert"),u=new W(c,t);try{u.addCharacters(c.selection,l)}catch{return e.preventDefault()}let[a,d]=r.selection,h={value:r.value.slice(0,a)+s+r.value.slice(d),selection:[a+s.length,a+s.length]},p=this.clampState(this.postprocessor(u,r));(!De(this.clampState(h),p)||o.isContentEditable)&&(this.upcomingElementState=p,t.overwriteMode==="replace"&&h.value.length>i&&this.dispatchInputEvent({inputType:"insertText",data:s}))}handleEnter(e){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(e,`
`)}clampState({value:e,selection:s}){let[t,i]=s,o=this.maxLength;return{value:e.slice(0,o),selection:[Math.min(t,o),Math.min(i,o)]}}};function T(n,e,s){let t=Math.min(Number(s),Math.max(Number(e),Number(n)));return n instanceof Date?new Date(t):t}function Wt(n){return n.replaceAll(/\W/g,"").length}function jt(n,{day:e,month:s,year:t}={}){let i=new Date(n);return e&&i.setDate(i.getDate()+e),s&&i.setMonth(i.getMonth()+s),t&&i.setFullYear(i.getFullYear()+t),i}var zt=n=>{var e,s,t,i,o,r;return{day:(s=(e=n.match(/d/g))===null||e===void 0?void 0:e.length)!==null&&s!==void 0?s:0,month:(i=(t=n.match(/m/g))===null||t===void 0?void 0:t.length)!==null&&i!==void 0?i:0,year:(r=(o=n.match(/y/g))===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0}};function Zt(n){return{day:String(n.getDate()).padStart(2,"0"),month:String(n.getMonth()+1).padStart(2,"0"),year:String(n.getFullYear()).padStart(4,"0"),hours:String(n.getHours()).padStart(2,"0"),minutes:String(n.getMinutes()).padStart(2,"0"),seconds:String(n.getSeconds()).padStart(2,"0"),milliseconds:String(n.getMilliseconds()).padStart(3,"0")}}var Dn=["day","month","year"];function Mn(n){return[...Dn].sort((e,s)=>n.indexOf(e[0])>n.indexOf(s[0])?1:-1)}function Pn(n,e){let s=Wt(e),[t=""]=new RegExp(`(\\D*\\d){${s}}`).exec(n)||[];return t}function Te(n,e){return n.length<e.length?!1:n.split(/\D/).every(s=>!/^0+$/.exec(s))}function X(n,e,s){let t=Wt(e);return n.replace(s,"").match(new RegExp(`(\\D*\\d[^\\d\\s]*){1,${t}}`,"g"))||[]}function K(n,e){let s=e.replaceAll(/[^dmy]/g,""),t=n.replaceAll(/\D+/g,""),i={day:t.slice(s.indexOf("d"),s.lastIndexOf("d")+1),month:t.slice(s.indexOf("m"),s.lastIndexOf("m")+1),year:t.slice(s.indexOf("y"),s.lastIndexOf("y")+1)};return Object.fromEntries(Object.entries(i).filter(([o,r])=>!!r).sort(([o],[r])=>e.toLowerCase().indexOf(o.slice(0,1))>e.toLowerCase().indexOf(r.slice(0,1))?1:-1))}function ye(n,e){var s,t,i,o,r,c,l;let u=((s=n.year)===null||s===void 0?void 0:s.length)===2?`20${n.year}`:n.year,a=new Date(Number(u??"0"),Number((t=n.month)!==null&&t!==void 0?t:"1")-1,Number((i=n.day)!==null&&i!==void 0?i:"1"),Number((o=e==null?void 0:e.hours)!==null&&o!==void 0?o:"0"),Number((r=e==null?void 0:e.minutes)!==null&&r!==void 0?r:"0"),Number((c=e==null?void 0:e.seconds)!==null&&c!==void 0?c:"0"),Number((l=e==null?void 0:e.milliseconds)!==null&&l!==void 0?l:"0"));return a.setFullYear(Number(u??"0")),a}var Yt=", ";function L({day:n,month:e,year:s,hours:t,minutes:i,seconds:o,milliseconds:r},{dateMode:c,dateTimeSeparator:l=Yt,timeMode:u}){var a;let d=((a=c.match(/y/g))===null||a===void 0?void 0:a.length)===2?s==null?void 0:s.slice(-2):s;return(c+(u?l+u:"")).replaceAll(/d+/g,n??"").replaceAll(/m+/g,e??"").replaceAll(/y+/g,d??"").replaceAll(/H+/g,t??"").replaceAll("MSS",r??"").replaceAll(/M+/g,i??"").replaceAll(/S+/g,o??"").replaceAll(/^\D+/g,"").replaceAll(/\D+$/g,"")}var Xt={day:31,month:12,year:9999},Tn=[".",",","\u0431","\u044E"],yn=new Date("0001-01-01T00:00"),Kt=new Date("9999-12-31T23:59:59.999");var Z="\xA0",wn="\u200B",he="\u2013",we="\u2014",Y="-",de="\u2212",Ne="\u30FC";var Ci=new RegExp(`[${Z}APM]+$`,"g"),Ai=new RegExp(`${Z}[AP]M$`,"g"),Nn=[":","."];function In({dateString:n,dateModeTemplate:e,dateSegmentsSeparator:s,offset:t,selection:[i,o]}){var r,c;let l=K(n,e),u=Object.entries(l),a=Mn(e),d={};for(let m=0;m<u.length;m++){let[f,g]=u[m],v=L(d,{dateMode:e}),_=Xt[f],b=v.length&&s.length,y=t+v.length+b+zt(e)[f],x=y>=i&&y===o;if(x&&Number(g)>Number(_)){let S=a[a.indexOf(f)+1];if(!S||S==="year")return{validatedDateString:"",updatedSelection:[i,o]};d[f]=`0${g.slice(0,y)}`,u[m+1]=[S,g.slice(-1)+((c=(r=u[m+1])===null||r===void 0?void 0:r[1])!==null&&c!==void 0?c:"").slice(1)];continue}if(x&&Number(g)<1)return{validatedDateString:"",updatedSelection:[i,o]};d[f]=g}let h=L(d,{dateMode:e}),p=h.length-n.length;return{validatedDateString:h,updatedSelection:[i+p,o+p]}}function F(n){return n}function On(){}var Qt=/[\\^$.*+?()[\]{}|]/g,Rn=new RegExp(Qt.source);function E(n){return n&&Rn.test(n)?n.replaceAll(Qt,String.raw`\$&`):n}function D(n,{prefix:e,postfix:s}){var t,i;let o=new RegExp(`^${E(e)}`),r=new RegExp(`${E(s)}$`),[c=""]=(t=n.match(o))!==null&&t!==void 0?t:[],[l=""]=(i=n.match(r))!==null&&i!==void 0?i:[];return{extractedPrefix:c,extractedPostfix:l,cleanValue:c||l?n.slice(c.length,l.length?-l.length:1/0):n}}function Vn(n,e){let s="";for(let t=0;t<n.length;t++){if(n[t]!==e[t])return s;s+=n[t]}return s}function Me(n){return!n||typeof n=="object"&&Object.keys(n).length===0}var Fn=/^0+$/;function Pe(n,e,s=0){let t=n.padEnd(e.length,"0");if(Number(t)<=Number(e))return{validatedSegmentValue:n,prefixedZeroesCount:s};if(t.endsWith("0"))return Pe(`0${n.slice(0,e.length-1)}`,e,s+1);let i=n.slice(0,e.length-1);return Fn.exec(i)?{validatedSegmentValue:"",prefixedZeroesCount:s}:Pe(`${i}0`,e,s)}function Ht(n){return n.replaceAll(/[０-９]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248))}function qt({dateModeTemplate:n,dateSegmentSeparator:e,splitFn:s,uniteFn:t}){return({value:i,selection:o})=>{var r;let[c,l]=o,{dateStrings:u,restPart:a=""}=s(i),d=[],h=0;u.forEach(m=>{let f=K(m,n),v=Object.entries(f).reduce((_,[b,y])=>{let{validatedSegmentValue:x,prefixedZeroesCount:S}=Pe(y,`${Xt[b]}`);return h+=S,Object.assign(Object.assign({},_),{[b]:x})},{});d.push(L(v,{dateMode:n}))});let p=t(d,i)+(!((r=u[u.length-1])===null||r===void 0)&&r.endsWith(e)?e:"")+a;return h&&p.slice(l+h,l+h+e.length)===e&&(h+=e.length),{selection:[c+h,l+h],value:p}}}function kn({dateModeTemplate:n,firstDateEndSeparator:e,dateSegmentSeparator:s,pseudoFirstDateEndSeparators:t}){return({elementState:i,data:o})=>{let{value:r,selection:c}=i,[l,u]=c,a=Pn(r,n),d=t.filter(f=>!e.includes(f)&&f!==s),h=new RegExp(`[${d.join("")}]`,"gi"),p=a&&r.length>a.length?a+r.slice(a.length).replace(/^[\D\s]*/,e):r,m=p.length-r.length;return{elementState:{selection:[l+m,u+m],value:p},data:o.replace(h,e)}}}function Ie(){return({elementState:n,data:e})=>{let{value:s,selection:t}=n;return{elementState:{selection:t,value:Ht(s)},data:Ht(e)}}}var Di=new RegExp(`[${Nn.map(E).join("")}]$`);function Ln(n,e){let s=zt(e);return Object.fromEntries(Object.entries(n).map(([t,i])=>{let o=s[t];return[t,i.length===o&&/^0+$/.exec(i)?"1".padStart(o,"0"):i]}))}var $n="1972";function Jt({dateModeTemplate:n,min:e=yn,max:s=Kt,rangeSeparator:t="",dateSegmentSeparator:i="."}){return({value:o,selection:r})=>{let c=t&&o.endsWith(t),l=X(o,n,t),u="";for(let a of l){u+=u?t:"";let d=K(a,n);if(!Te(a,n)){let m=Ln(d,n),f=L(m,{dateMode:n}),g=a.endsWith(i)?i:"";u+=f+g;continue}let h=ye(Object.assign({year:$n},d)),p=T(h,e,s);u+=L(Zt(p),{dateMode:n})}return{selection:r,value:u+(c?t:"")}}}function en({dateModeTemplate:n,dateSegmentsSeparator:e,rangeSeparator:s="",dateTimeSeparator:t=Yt}){return({elementState:i,data:o})=>{let r=n.split(e),c=o.includes(t),l=o.slice(0,c?o.indexOf(t):1/0).split(/\D/).filter(Boolean);if(!l.length||l.length%r.length!==0)return{elementState:i,data:o};let u=l.reduce((a,d,h)=>{var p;let m=(p=r[h%r.length])!==null&&p!==void 0?p:"",f=Math.trunc(h/r.length),g=h%r.length===r.length-1;return a[f]||(a[f]=""),a[f]+=g?d:`${d.padStart(m.length,"0")}${e}`,a},[]);return{elementState:i,data:c?`${u[0]}${o.slice(o.indexOf(t))}`:u.join(s)}}}function jn(n){let e=new RegExp(`${E(n)}$`);return n?({value:s,selection:t},i)=>{if(!s&&!i.value.endsWith(n))return{value:s,selection:t};if(!s.endsWith(n)&&!i.value.endsWith(n))return{selection:t,value:s+n};let o=i.value.replace(e,""),r=i.selection[1]>o.length,c=Vn(o,s);return{selection:t,value:Array.from(n).reverse().reduce((l,u,a)=>{let d=l.length-1-a,h=c[d]===u&&r;return l[d]!==u||h?l.slice(0,d+1)+u+l.slice(d+1):l},s)}}:F}function Hn(n){return n?({value:e,selection:s},t)=>{if(e.startsWith(n)||!e&&!t.value.startsWith(n))return{value:e,selection:s};let[i,o]=s,r=Array.from(n).reduce((l,u,a)=>l[a]===u?l:l.slice(0,a)+u+l.slice(a),e),c=r.length-e.length;return{selection:[i+c,o+c],value:r}}:F}function tn({dateModeTemplate:n,dateSegmentsSeparator:e,rangeSeparator:s=""}){return({elementState:t,data:i})=>{let{value:o,selection:r}=t;if(i===e)return{elementState:t,data:r[0]===o.length?i:""};let c=i.replaceAll(new RegExp(`[^\\d${E(e)}${s}]`,"g"),"");if(!c)return{elementState:t,data:""};let[l,u]=r,a=u+i.length,d=o.slice(0,l)+c+o.slice(a),h=X(d,n,s),p="",m=!!s&&d.includes(s);for(let g of h){let{validatedDateString:v,updatedSelection:_}=In({dateString:g,dateModeTemplate:n,dateSegmentsSeparator:e,offset:p.length,selection:[l,a]});if(g&&!v)return{elementState:t,data:""};a=_[1],p+=m&&!p?v+s:v}let f=p.slice(l,a);return{elementState:{selection:r,value:p.slice(0,l)+f.split(e).map(g=>"0".repeat(g.length)).join(e)+p.slice(a)},data:f}}}function Oe(n,e,s){return(t,i)=>{let o=()=>e(t,i);return t.addEventListener(n,o,s),()=>t.removeEventListener(n,o,s)}}function Un(n){return(e,s)=>{let t=e.ownerDocument,i=0,o=()=>i++,r=()=>{i=Math.max(--i,0)},c=()=>{if(e.matches(":focus")){if(i)return t.addEventListener("mouseup",c,{once:!0,passive:!0});n(e,s)}};return t.addEventListener("selectionchange",c,{passive:!0}),e.addEventListener("focus",c,{passive:!0}),e.addEventListener("mousedown",o,{passive:!0}),t.addEventListener("mouseup",r,{passive:!0}),()=>{t.removeEventListener("selectionchange",c),e.removeEventListener("focus",c),e.removeEventListener("mousedown",o),t.removeEventListener("mouseup",r)}}}function nn(n){return Un(e=>{var s,t;let i=(s=e.selectionStart)!==null&&s!==void 0?s:0,o=(t=e.selectionEnd)!==null&&t!==void 0?t:0,[r,c]=n(e.value,[i,o]);(r>i||c<o)&&e.setSelectionRange(T(i,r,c),T(o,r,c))})}function sn(){return({elementState:n},e)=>{let{value:s,selection:t}=n;if(!s||Bn(s,t))return{elementState:n};let[i,o]=t,r=s.slice(i,o).replaceAll(/\d/g,"0"),c=s.slice(0,i)+r+s.slice(o);return r.replaceAll(/\D/g,"")?e==="validation"||e==="insert"&&i===o?{elementState:{selection:t,value:c}}:{elementState:{selection:e==="deleteBackward"||e==="insert"?[i,i]:[o,o],value:c}}:{elementState:n}}}function Bn(n,[e,s]){return s===n.length}function Mi({mode:n,separator:e=".",max:s,min:t}){let i=n.split("/").join(e);return Object.assign(Object.assign({},R),{mask:Array.from(i).map(o=>e.includes(o)?o:/\d/),overwriteMode:"replace",preprocessors:[Ie(),sn(),en({dateModeTemplate:i,dateSegmentsSeparator:e}),tn({dateModeTemplate:i,dateSegmentsSeparator:e})],postprocessors:[qt({dateModeTemplate:i,dateSegmentSeparator:e,splitFn:o=>({dateStrings:[o]}),uniteFn:([o=""])=>o}),Jt({min:t,max:s,dateModeTemplate:i,dateSegmentSeparator:e})]})}var Pi=Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});var Gn=[Y,he,we,de,Ne];function Wn({dateModeTemplate:n,rangeSeparator:e,minLength:s,maxLength:t,max:i=Kt}){return Me(s)&&Me(t)?F:({value:o,selection:r})=>{let c=X(o,n,e);if(c.length!==2||c.some(m=>!Te(m,n)))return{value:o,selection:r};let[l,u]=c.map(m=>ye(K(m,n)));if(!l||!u)return{value:o,selection:r};let a=jt(l,Object.assign(Object.assign({},s),{day:(s==null?void 0:s.day)&&s.day-1})),d=Me(t)?i:jt(l,Object.assign(Object.assign({},t),{day:(t==null?void 0:t.day)&&t.day-1})),h=T(u,a,i),p=h>d?d:h;return{selection:r,value:c[0]+e+L(Zt(p),{dateMode:n})}}}function zn({dateModeTemplate:n,rangeSeparator:e}){return({value:s,selection:t})=>{let i=X(s,n,e),o=i.length===2&&i.every(h=>Te(h,n)),[r,c]=t,l=r>=s.length,u=r===0&&c>=s.length;if(!(l||u)||!o)return{value:s,selection:t};let[a,d]=i.map(h=>ye(K(h,n)));return{selection:t,value:a&&d&&a>d?i.reverse().join(e):s}}}function Ti({mode:n,min:e,max:s,minLength:t,maxLength:i,dateSeparator:o=".",rangeSeparator:r=`${Z}${he}${Z}`}){let c=n.split("/").join(o),l=Array.from(c).map(u=>o.includes(u)?u:/\d/);return Object.assign(Object.assign({},R),{mask:[...l,...Array.from(r),...l],overwriteMode:"replace",preprocessors:[Ie(),kn({dateModeTemplate:c,dateSegmentSeparator:o,firstDateEndSeparator:r,pseudoFirstDateEndSeparators:Gn}),sn(),en({dateModeTemplate:c,rangeSeparator:r,dateSegmentsSeparator:o}),tn({dateModeTemplate:c,rangeSeparator:r,dateSegmentsSeparator:o})],postprocessors:[qt({dateModeTemplate:c,dateSegmentSeparator:o,splitFn:u=>({dateStrings:X(u,c,r)}),uniteFn:(u,a)=>u.reduce((d,h,p)=>d+h+(!p&&a.includes(r)?r:""),"")}),Jt({min:e,max:s,dateModeTemplate:c,rangeSeparator:r,dateSegmentSeparator:o}),Wn({dateModeTemplate:c,minLength:t,maxLength:i,max:s,rangeSeparator:r}),zn({dateModeTemplate:c,rangeSeparator:r})]})}function Zn({prefix:n,postfix:e}){return({elementState:s,data:t})=>{let{cleanValue:i}=D(t,{prefix:n,postfix:e});return{elementState:s,data:i}}}function on({decimalPseudoSeparators:n,decimalSeparator:e,maximumFractionDigits:s,min:t,minusSign:i,postfix:o,prefix:r,pseudoMinuses:c,thousandSeparator:l}){let u=t<0&&[i,...c].includes(r)?"":Ut(r),a=String.raw`\d`,d=t<0?`[${i}${c.map(g=>`\\${g}`).join("")}]?`:"",h=l?`[${a}${E(l).replaceAll(/\s/g,String.raw`\s`)}]*`:`[${a}]*`,p=Number.isFinite(s)?s:"",m=s>0?`([${E(e)}${n.map(E).join("")}]${a}{0,${p}})?`:"",f=Ut(o);return new RegExp(`^${u}${d}${h}${m}${f}$`)}function Ut(n){return n?`${n.split("").map(e=>`${E(e)}?`).join("")}`:""}function k(n,e="."){let s=!!new RegExp(`^\\D*[${de}\\${Y}${he}${we}${Ne}]`).exec(n),t=E(e),i=n.replaceAll(new RegExp(`${t}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${t}]`,"g"),"").replace(e,e&&".");return i?+`${s?Y:""}${i}`:NaN}function Yn(n){var e;let s=String(n),[t="",i]=s.split("e-"),o=s;if(i){let[,r]=t.split("."),c=Number(i)+((e=r==null?void 0:r.length)!==null&&e!==void 0?e:0);o=n.toFixed(c)}return o}function rn(n,{decimalSeparator:e,minusSign:s}){let[t="",i=""]=e?n.split(e):[n],o=E(s),[,r="",c=""]=new RegExp(`^(?:[^\\d${o}])?(${o})?(.*)`).exec(t)||[];return{minus:r,integerPart:c,decimalPart:i}}function Xn({decimalSeparator:n,thousandSeparator:e,decimalPseudoSeparators:s=Tn}){return s.filter(t=>t!==e&&t!==n)}function Kn({decimalSeparator:n,minimumFractionDigits:e,prefix:s,postfix:t}){return e?({value:i,selection:o})=>{let{cleanValue:r,extractedPrefix:c,extractedPostfix:l}=D(i,{prefix:s,postfix:t});if(Number.isNaN(k(r,n)))return{value:i,selection:o};let[u,a=""]=r.split(n);return{value:c+u+n+a.padEnd(e,"0")+l,selection:o}}:F}function Qn({prefix:n,postfix:e,decimalSeparator:s,minusSign:t}){return({value:i,selection:o})=>{let[r]=o,{cleanValue:c,extractedPrefix:l,extractedPostfix:u}=D(i,{prefix:n,postfix:e}),{minus:a,integerPart:d,decimalPart:h}=rn(c,{decimalSeparator:s,minusSign:t}),p=!d&&!h&&!!s&&c.includes(s);return!d&&!Number(h)&&r===(a+l).length||p?{selection:o,value:l+a+u}:{value:i,selection:o}}}function qn({decimalPseudoSeparators:n,decimalSeparator:e,minusSign:s,postfix:t,prefix:i,pseudoMinuses:o}){let r=!0,c=on({decimalSeparator:e,decimalPseudoSeparators:n,pseudoMinuses:o,prefix:"",postfix:"",thousandSeparator:"",maximumFractionDigits:1/0,min:Number.MIN_SAFE_INTEGER,minusSign:s});return({elementState:l,data:u})=>{if(!r)return{elementState:l,data:u};r=!1;let{value:a,selection:d}=l,[h,p]=d,{extractedPrefix:m,cleanValue:f,extractedPostfix:g}=D(a,{prefix:i,postfix:t}),v=V({selection:[Math.max(h-m.length,0),T(p-m.length,0,f.length)],value:f},{mask:c}),[_,b]=v.selection;return{elementState:{selection:[_+m.length,b+m.length],value:m+v.value+g},data:u}}}function Jn({decimalSeparator:n,thousandSeparator:e,prefix:s,postfix:t}){let i=r=>{let c=E(e);return r.replace(new RegExp(`^(\\D+)?[0${c}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${c}]+(?=[1-9])`),"$1")},o=(r,c)=>{let l=r.slice(0,c),u=r.slice(c).startsWith("0");return l.length-i(l).length+(u?1:0)};return({value:r,selection:c})=>{let[l,u]=c,{cleanValue:a,extractedPrefix:d,extractedPostfix:h}=D(r,{prefix:s,postfix:t}),p=!!n&&a.includes(n),[m="",f=""]=n?a.split(n):[a],g=i(m);if(m===g)return{value:r,selection:c};let v=l-o(r,l),_=u-o(r,u);return{value:d+g+(p?n:"")+f+h,selection:[Math.max(v,0),Math.max(_,0)]}}}function ei({min:n,max:e,decimalSeparator:s,minusSign:t}){return({value:i,selection:o})=>{let r=k(i,s),c=r>0?Math.min(r,e):Math.max(r,n);if(r&&c!==r){let l=`${c}`.replace(".",s).replace(Y,t);return{value:l,selection:[l.length,l.length]}}return{value:i,selection:o}}}function ti({decimalSeparator:n,thousandSeparator:e,minimumFractionDigits:s}){return({elementState:t,data:i},o)=>{let{value:r,selection:c}=t,[l,u]=c,a=r.slice(l,u),d=s?[n,e]:[e],h=!!s&&l>r.indexOf(n)&&!!a.match(/^0+$/gi);return o!=="deleteBackward"&&o!=="deleteForward"||!d.includes(a)&&!h?{elementState:t,data:i}:{elementState:{value:r,selection:o==="deleteForward"?[u,u]:[l,l]},data:i}}}function ni({decimalSeparator:n,maximumFractionDigits:e,prefix:s,postfix:t}){let i=new RegExp(`^\\D*${E(n)}`);return({elementState:o,data:r})=>{let{value:c,selection:l}=o,{cleanValue:u,extractedPrefix:a}=D(c,{prefix:s,postfix:t}),[d,h]=l,p=T(d-a.length,0,u.length),m=T(h-a.length,0,u.length);if(e<=0||u.slice(0,p).includes(n)||u.slice(m).includes(n)||!r.match(i))return{elementState:o,data:r};let f=/\d+/.exec(u.slice(0,p));return{elementState:o,data:f?r:`0${r}`}}}function Bt({validCharacter:n,pseudoCharacters:e,prefix:s,postfix:t}){let i=new RegExp(`[${e.join("")}]`,"gi");return({elementState:o,data:r})=>{let{value:c,selection:l}=o,{cleanValue:u,extractedPostfix:a,extractedPrefix:d}=D(c,{prefix:s,postfix:t});return{elementState:{selection:l,value:d+u.replace(i,n)+a},data:r.replace(i,n)}}}function ii({decimalSeparator:n,prefix:e,postfix:s}){return n?({elementState:t,data:i})=>{let{value:o,selection:r}=t,[c,l]=r,{cleanValue:u}=D(o,{prefix:e,postfix:s});return{elementState:t,data:!u.includes(n)||o.slice(c,l+1).includes(n)?i:i.replaceAll(new RegExp(E(n),"gi"),"")}}:F}function si({thousandSeparator:n,decimalSeparator:e,prefix:s,postfix:t,minusSign:i}){if(!n)return F;let o=(...r)=>r.every(c=>/\s/.test(c));return({value:r,selection:c})=>{let[l,u]=c,[a,d]=c,{cleanValue:h,extractedPostfix:p,extractedPrefix:m}=D(r,{prefix:s,postfix:t}),{minus:f,integerPart:g,decimalPart:v}=rn(h,{decimalSeparator:e,minusSign:i}),_=e&&h.includes(e),b=h.length-(f+g+(_?e+v:"")).length;b>0&&l&&l<=b&&(a-=b),b>0&&u&&u<=b&&(d-=b);let y=Array.from(g).reduceRight((x,S,w)=>{let me=!(!w&&S===n)&&!!x.length&&(x.length+1)%4===0,Ve=S===n||o(S,n);return me&&Ve?n+x:!me&&Ve?(w&&w<=l&&a--,w&&w<=u&&d--,x):me?(w<l&&a++,w<u&&d++,S+n+x):S+x},"");return{value:m+f+y+(_?e:"")+v+p,selection:[a,d]}}}function oi({maximumFractionDigits:n,decimalSeparator:e,prefix:s,postfix:t}){if(n>0||!e)return F;let i=new RegExp(`${E(e)}.*$`,"g");return({elementState:o,data:r})=>{let{value:c,selection:l}=o,{cleanValue:u,extractedPrefix:a,extractedPostfix:d}=D(c,{prefix:s,postfix:t}),[h,p]=l,m=a+u.replace(i,"")+d;return{elementState:{selection:[Math.min(h,m.length),Math.min(p,m.length)],value:m},data:r.replace(i,"")}}}var Gt=[0,0];function ri({decimalSeparator:n,thousandSeparator:e,prefix:s,postfix:t}){let i=Jn({decimalSeparator:n,thousandSeparator:e,prefix:s,postfix:t});return Oe("blur",o=>{let r=i({value:o.value,selection:Gt},{value:"",selection:Gt}).value;z(o,r)},{capture:!0})}function ci({min:n,max:e,decimalSeparator:s}){return Oe("blur",(t,i)=>{let o=k(t.value,s),r=T(o,n,e);!Number.isNaN(o)&&o!==r&&z(t,V(Yn(r),i))},{capture:!0})}function li({decimalSeparator:n,prefix:e,postfix:s}){return n?Oe("blur",t=>{let{cleanValue:i,extractedPostfix:o,extractedPrefix:r}=D(t.value,{prefix:e,postfix:s}),c=r+i.replace(new RegExp(`^(\\D+)?${E(n)}`),`$10${n}`)+o;z(t,c)},{capture:!0}):On}function Re({max:n=Number.MAX_SAFE_INTEGER,min:e=Number.MIN_SAFE_INTEGER,precision:s=0,thousandSeparator:t=Z,decimalSeparator:i=".",decimalPseudoSeparators:o,decimalZeroPadding:r=!1,prefix:c="",postfix:l="",minusSign:u=de,maximumFractionDigits:a=s,minimumFractionDigits:d=r?a:0}={}){let h=[Y,he,we,Ne,de].filter(g=>g!==t&&g!==i&&g!==u),p=Xn({decimalSeparator:i,thousandSeparator:t,decimalPseudoSeparators:o}),m=c.endsWith(i)&&a>0?`${c}${wn}`:c,f=qn({decimalSeparator:i,decimalPseudoSeparators:p,pseudoMinuses:h,prefix:m,postfix:l,minusSign:u});return i=a<=0&&i===t?"":i,Object.assign(Object.assign({},R),{mask:on({decimalSeparator:i,maximumFractionDigits:a,min:e,minusSign:u,postfix:l,prefix:m,pseudoMinuses:h,thousandSeparator:t,decimalPseudoSeparators:p}),preprocessors:[Ie(),f,Zn({prefix:m,postfix:l}),Bt({validCharacter:u,pseudoCharacters:h,prefix:m,postfix:l}),Bt({validCharacter:i,pseudoCharacters:p,prefix:m,postfix:l}),ni({decimalSeparator:i,maximumFractionDigits:a,prefix:m,postfix:l}),ti({decimalSeparator:i,minimumFractionDigits:d,thousandSeparator:t}),oi({maximumFractionDigits:a,decimalSeparator:i,prefix:m,postfix:l}),ii({decimalSeparator:i,prefix:m,postfix:l})],postprocessors:[ei({decimalSeparator:i,min:e,max:n,minusSign:u}),Hn(m),jn(l),si({decimalSeparator:i,thousandSeparator:t,prefix:m,postfix:l,minusSign:u}),Kn({decimalSeparator:i,prefix:m,postfix:l,minimumFractionDigits:Math.min(d,a)}),Qn({prefix:m,postfix:l,decimalSeparator:i,minusSign:u})],plugins:[ri({decimalSeparator:i,thousandSeparator:t,prefix:m,postfix:l}),li({decimalSeparator:i,prefix:m,postfix:l}),ci({min:e,max:n,decimalSeparator:i})],overwriteMode:d>0?({value:g,selection:[v]})=>v<=g.indexOf(i)?"shift":"replace":"shift"})}var cn=(()=>{let e=class e{constructor(){this.elementRef=C(He).nativeElement,this.ngZone=C(je),this.maskedElement=null,this.options=null,this.elementPredicate=kt;let t=C(st,{self:!0,optional:!0});if(t){let i=t.writeValue.bind(t);t.writeValue=o=>{i(this.options?V(String(o??""),this.options):o)}}}ngOnChanges(){return ke(this,null,function*(){let{elementPredicate:t,options:i,maskedElement:o,elementRef:r,ngZone:c}=this;if(o==null||o.destroy(),!i)return;let l=yield t(r);this.elementPredicate!==t||this.options!==i||c.runOutsideAngular(()=>{this.maskedElement=new ue(l,i)})})}ngOnDestroy(){var t;(t=this.maskedElement)==null||t.destroy()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ee({type:e,selectors:[["","maskito",""]],inputs:{options:[0,"maskito","options"],elementPredicate:[0,"maskitoElement","elementPredicate"]},features:[$e]});let n=e;return n})();var di=["*",[["input"]],[["tuiContent"]]],hi=["*","input","tuiContent"];function mi(n,e){if(n&1&&(We(0),ne(1),ze()),n&2){let s=e.polymorpheusOutlet;M(),Qe(" ",s," ")}}function pi(n,e){if(n&1&&(j(0,"div",6),$(1,mi,2,1,"ng-container",7),H()),n&2){O();let s=be(9);M(),P("polymorpheusOutlet",s)}}function fi(n,e){if(n&1){let s=ge();j(0,"section",8)(1,"button",9),U("click.prevent",function(){N(s);let i=O();return I(i.onArrow(i.step))})("mousedown.prevent",function(){N(s);let i=O();return I(i.nativeFocusableElement==null?null:i.nativeFocusableElement.focus())}),ne(2," + "),H(),j(3,"button",9),U("click.prevent",function(){N(s);let i=O();return I(i.onArrow(-i.step))})("mousedown.prevent",function(){N(s);let i=O();return I(i.nativeFocusableElement==null?null:i.nativeFocusableElement.focus())}),ne(4," - "),H()()}if(n&2){let s=O(),t=be(1);M(),P("appearance",t.appearance)("disabled",!s.canIncrement)("iconStart",s.icons.up),M(2),P("appearance",t.appearance)("disabled",!s.canDecrement)("iconStart",s.icons.down)}}function gi(n,e){n&1&&Ze(0)}function vi(n,e){n&1&&te(0,2)}var ln={icons:{up:"@tui.plus",down:"@tui.minus"},min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,step:0},un=xe(ln);function vs(n){return dt(un,n,ln)}var Ei=18,bi=xe(),Es=(()=>{let e=class e extends St{constructor(){super(...arguments),this.isIOS=C(vt),this.textfieldSize=C(Dt),this.options=C(un),this.unfinishedValue="",this.polymorpheusValueContent=ct,this.valueTransformer=C(bi,{optional:!0}),this.numberFormat=mt,this.controller=C(Pt),this.numberFormat$=C(pt).pipe(ht(this.cdr),at()).subscribe(t=>{this.numberFormat=t}),this.min=this.options.min,this.max=this.options.max,this.step=this.options.step}get nativeFocusableElement(){return!this.textfield||this.computedDisabled?null:this.textfield.nativeFocusableElement}get focused(){var t;return!!((t=this.textfield)!=null&&t.focused)}get inputMode(){return this.isIOS&&this.isNegativeAllowed?"text":this.precision?"decimal":"numeric"}get calculatedMaxLength(){let i=!!this.precision&&this.nativeValue.includes(this.numberFormat.decimalSeparator)?Math.min(this.precision+1,20):0,o=this.numberFormat.thousandSeparator.repeat(5).length;return Ei+i+o}get computedValue(){return this.focused?this.nativeValue:this.formattedValue}onValueChange(t){let i=k(t,this.numberFormat.decimalSeparator);if(this.unfinishedValue=null,Number.isNaN(i)){this.value=null;return}if(this.isNativeValueNotFinished){this.unfinishedValue=t,this.cdr.markForCheck();return}i<this.computedMin||i>this.computedMax||(this.value=i)}writeValue(t){super.writeValue(t),this.nativeValue=this.formattedValue}get size(){return this.textfieldSize.size}get icons(){return this.options.icons}get computedMin(){return this.computeMin(this.min,this.max)}get computedMax(){return this.computeMax(this.min,this.max)}get isNegativeAllowed(){return this.computedMin<0}get formattedValue(){return this.value!==null?this.getFormattedValue(this.value||0):""}get canDecrement(){return this.interactive&&(this.value||0)>this.computedMin}get canIncrement(){return this.interactive&&(this.value||0)<this.computedMax}get computedPrefix(){return this.controller.prefix}get computedPostfix(){let{postfix:t}=this.controller;return t&&` ${t}`}get mask(){return this.calculateMask(this.precision,this.numberFormat.decimalMode,this.numberFormat.decimalSeparator,this.numberFormat.thousandSeparator,this.computedMin,this.computedMax,this.computedPrefix,this.computedPostfix)}get nativeValue(){var t;return((t=this.nativeFocusableElement)==null?void 0:t.value)||""}set nativeValue(t){!this.textfield||!this.nativeFocusableElement||(this.textfield.value=t,this.nativeFocusableElement.value=t)}onArrow(t){t&&(this.value=ot((this.value||0)+t,this.computedMin,this.computedMax),this.nativeValue=this.formattedValue)}onFocused(t){this.updateFocused(t);let i=this.unfinishedValue?k(this.unfinishedValue,this.numberFormat.decimalSeparator):this.nativeNumberValue;if(this.unfinishedValue=null,Number.isNaN(i)){this.nativeValue=t&&!this.readOnly?this.computedPrefix+this.computedPostfix:"",this.value=null;return}t||(this.value=i,this.nativeValue=this.formattedValue)}getFormattedValue(t){return this.computedPrefix+gt(t,q(Q({},this.numberFormat),{precision:rt(t,this.precision)?this.precision:1/0})).replace(lt,ut)+this.computedPostfix}get isNativeValueNotFinished(){let{nativeNumberValue:t}=this;return t<0?t>this.computedMax:t<this.computedMin}get nativeNumberValue(){return k(this.nativeValue,this.numberFormat.decimalSeparator)}get precision(){return Number.isNaN(this.numberFormat.precision)?2:this.numberFormat.precision}computeMin(t,i){var o,r;return Math.min(((o=this.valueTransformer)==null?void 0:o.fromControlValue(t))??t??this.options.min,((r=this.valueTransformer)==null?void 0:r.fromControlValue(i))??i??this.options.max)}computeMax(t,i){var o,r;return Math.max(((o=this.valueTransformer)==null?void 0:o.fromControlValue(t))??t??this.options.min,((r=this.valueTransformer)==null?void 0:r.fromControlValue(i))??i??this.options.max)}calculateMask(t,i,o,r,c,l,u,a){let d={decimalSeparator:o,thousandSeparator:r,min:c,max:l,prefix:u,postfix:a,maximumFractionDigits:t,minimumFractionDigits:i==="always"?t:0},f=Re(d),{plugins:h}=f,p=Fe(f,["plugins"]),m=$t(Re(q(Q({},d),{min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER})));return q(Q({},p),{plugins:[...h,m,nn(g=>[u.length,g.length-a.length])]})}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=pe(e)))(o||e)}})(),e.\u0275cmp=Ue({type:e,selectors:[["tui-input-number"]],contentQueries:function(i,o,r){if(i&1&&Xe(r,se,5),i&2){let c;ve(c=Ee())&&(o.polymorpheusValueContent=c)}},viewQuery:function(i,o){if(i&1&&Ke(oe,5),i&2){let r;ve(r=Ee())&&(o.textfield=r.first)}},hostVars:1,hostBindings:function(i,o){i&1&&U("keydown.arrowDown",function(){return o.onArrow(-o.step)})("keydown.arrowUp",function(){return o.onArrow(o.step)}),i&2&&Ge("data-size",o.size)},inputs:{min:"min",max:"max",step:"step"},standalone:!1,features:[_e([Et(e),_t(e),Tt]),fe],ngContentSelectors:hi,decls:10,vars:14,consts:[["textfield",""],["valueContent",""],["tuiTextfieldPostfix","","tuiTextfieldPrefix","","tuiValueAccessor","",1,"t-textfield",3,"focusedChange","valueChange","disabled","focusable","invalid","maskito","pseudoActive","pseudoFocus","pseudoHover","readOnly","value"],["ngProjectAs","tuiContent","class","t-value-content",5,["tuiContent"],4,"ngIf"],["class","t-buttons",4,"ngIf"],[4,"ngIf"],["ngProjectAs","tuiContent",5,["tuiContent"],1,"t-value-content"],[4,"polymorpheusOutlet"],[1,"t-buttons"],["size","s","tabindex","-1","tuiIconButton","","type","button",1,"t-button",3,"click.prevent","mousedown.prevent","appearance","disabled","iconStart"]],template:function(i,o){if(i&1){let r=ge();Ye(di),j(0,"tui-primitive-textfield",2,0),U("focusedChange",function(l){return N(r),I(o.onFocused(l))})("valueChange",function(l){return N(r),I(o.onValueChange(l))}),te(2),te(3,1,["ngProjectAs","input",5,["input"]]),$(4,pi,2,1,"div",3),H(),$(5,fi,5,6,"section",4)(6,gi,1,0,"ng-container",5),qe(7,"async"),$(8,vi,1,0,"ng-template",null,1,et)}i&2&&(P("disabled",o.computedDisabled)("focusable",o.focusable)("invalid",o.computedInvalid)("maskito",o.mask)("pseudoActive",o.pseudoActive)("pseudoFocus",o.computedFocused)("pseudoHover",o.pseudoHover)("readOnly",o.readOnly)("value",o.computedValue),M(4),P("ngIf",o.polymorpheusValueContent.length),M(),P("ngIf",o.step),M(),P("ngIf",Je(7,12,o.polymorpheusValueContent.changes)))},dependencies:[tt,cn,oe,Nt,At,Ct,se,yt,ft,nt],styles:["[_nghost-%COMP%]{display:flex;border-radius:var(--tui-radius-m);text-align:start}[_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-textfield[_ngcontent-%COMP%]{flex:1;min-inline-size:0;max-inline-size:100%;border-radius:inherit;text-align:inherit}.t-textfield[_ngcontent-%COMP%]:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.t-value-content[_ngcontent-%COMP%]{inline-size:100%}.t-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;margin-left:.125rem;border-radius:inherit}[data-size=s][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]{flex-direction:row-reverse}[data-size=s][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]:first-child{margin:0 0 0 .125rem;border-top-right-radius:inherit;border-bottom-right-radius:inherit}[data-size=s][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]:last-child{border-radius:0}[data-size=m][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]{inline-size:calc(var(--tui-height-m) * .75)}[data-size=l][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]{inline-size:calc(var(--tui-height-l) * .75)}.t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]{display:flex;flex:1;block-size:auto;align-items:center;justify-content:center;border-radius:0}.t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]:first-child{margin-bottom:.125rem;border-top-right-radius:inherit}.t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:inherit}"],changeDetection:0});let n=e;return J([ie],n.prototype,"computeMin",null),J([ie],n.prototype,"computeMax",null),J([ie],n.prototype,"calculateMask",null),n})(),bs=(()=>{let e=class e extends xt{get value(){return this.host.computedValue}onValueChange(t){this.host.onValueChange(t)}ngDoCheck(){this.host.nativeFocusableElement&&(this.host.nativeFocusableElement.inputMode=this.host.inputMode,this.host.nativeFocusableElement.maxLength=this.host.nativeFocusableElement.maxLength>0?this.host.nativeFocusableElement.maxLength:this.host.calculatedMaxLength)}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=pe(e)))(o||e)}})(),e.\u0275dir=ee({type:e,selectors:[["tui-input-number"]],standalone:!1,features:[_e([bt(e)]),fe]});let n=e;return n})(),_s=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Be({type:e}),e.\u0275inj=Le({imports:[it,It,Mt,wt]});let n=e;return n})();export{R as a,cn as b,Mi as c,Ti as d,Re as e,vs as f,Es as g,bs as h,_s as i};
