import{E as Ct,J as Dt,O as E,P as Et,R as _t,l as ft,m as mt,q as ht,r as gt,s as vt,u as yt}from"./chunk-QHDF4Q5G.js";import{$ as ut,Ja as ct,W as p,aa as lt,ba as D,c as K,d as tt,j as ot,ka as pt,oa as dt,p as st,v as at}from"./chunk-AP4YF4XT.js";import{Ba as h,Bb as f,Ca as x,Cb as g,Da as j,Ea as V,Eb as Q,Fb as k,Hd as it,Kb as m,Lb as B,Ma as I,Mb as L,Md as C,Nb as w,Nc as J,Ob as U,Pb as F,Qb as v,Rb as y,Tb as z,Tc as Y,Vb as Z,Vd as A,Xb as W,Yb as q,Zb as X,bb as c,bc as P,cc as $,cf as rt,dc as G,eb as H,h as _,id as et,jd as S,kb as O,mf as nt,pb as b,qa as R,rb as N,s as T,sb as l,v as d,va as a,z as M}from"./chunk-YO5JCLXF.js";var bt=()=>({});function wt(n,e){if(n&1&&(Q(0),z(1),k()),n&2){let u=e.polymorpheusOutlet;c(),Z(" ",u," ")}}function Ft(n,e){if(n&1&&(f(0,"div",1),b(1,wt,2,1,"ng-container",2),g()),n&2){let u=B();l("@tuiFadeIn",u.options)("@tuiHeightCollapse",u.options),c(),l("polymorpheusOutlet",u.error.message||u.default())("polymorpheusOutletContext",u.error.context||G(4,bt))}}var zt=(()=>{let e=class e{constructor(){this.options=ot(a(rt)),this.error=null,this.visible=!0,this.default=it(a(nt))}set errorSetter(t){this.error=C(t)?new p(t):t}onAnimation(t){this.visible=t}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=h({type:e,selectors:[["tui-error"]],hostBindings:function(r,i){r&1&&m("animationcancel.self",function(){return i.onAnimation(!1)})("animationstart.self",function(){return i.onAnimation(!0)})},inputs:{errorSetter:[0,"error","errorSetter"]},standalone:!0,features:[$],decls:1,vars:1,consts:[["automation-id","tui-error__text","class","t-message-text",4,"ngIf"],["automation-id","tui-error__text",1,"t-message-text"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(r,i){r&1&&b(0,Ft,2,5,"div",0),r&2&&l("ngIf",i.error&&i.visible)},dependencies:[J,st],styles:['[_nghost-%COMP%]{display:block;font:var(--tui-font-text-s);color:var(--tui-text-negative);word-wrap:break-word;animation:tuiPresent 1s infinite}.t-message-text[_ngcontent-%COMP%]{white-space:pre-line}.t-message-text[_ngcontent-%COMP%]:before{content:"";line-height:1.5rem;vertical-align:bottom}'],data:{animation:[K,tt]},changeDetection:0});let n=e;return n})();var Pt={};function It(n,e){return n.pipe(M(u=>new p(u||"",e)))}function Ot(n,e){return d(new p(n||"",e))}var ie=(()=>{let e=class e{constructor(){this.order=[],this.parent=a(S,{skipSelf:!0,optional:!0}),this.self=a(S,{self:!0,optional:!0}),this.container=a(et,{optional:!0}),this.validationErrors=a(ct),this.self&&!this.self.valueAccessor&&(this.self.valueAccessor=this)}transform(t){return this.order=t,this.computedError}registerOnChange(){}registerOnTouched(){}setDisabledState(){}writeValue(){}get computedError(){return this.invalid&&this.touched&&this.error||d(null)}get error(){let{errorId:t}=this;if(!t)return null;let r=this.controlErrors[t],i=this.validationErrors[t];return this.getError(r,i)}get invalid(){var t;return!!((t=this.control)!=null&&t.invalid)}get touched(){var t;return!!((t=this.control)!=null&&t.touched)}get control(){var t,r,i;return((t=this.self)==null?void 0:t.control)||((r=this.parent)==null?void 0:r.control)||((i=this.container)==null?void 0:i.control)}get errorId(){return this.getErrorId(this.order,this.controlErrors)}get controlErrors(){var t;return((t=this.control)==null?void 0:t.errors)||Pt}getError(t,r){if(t instanceof p)return d(t);if(r===void 0&&C(t))return d(new p(t));if(r instanceof _)return It(r,t);if(r instanceof Function){let i=r(t);return i instanceof _?It(i,t):Ot(i,t)}return Ot(r,t)}getErrorId(t,r){let i=t==null?void 0:t.find(s=>r[s]),o=Object.keys(r)[0];return i||o||""}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=V({name:"tuiFieldError",type:e,pure:!1,standalone:!0});let n=e;return T([A],n.prototype,"getError",null),T([A],n.prototype,"getErrorId",null),n})();var St=["*",[["input"]]],At=["*","input"],Ie=(()=>{let e=class e extends gt{constructor(){super(...arguments),this.textfieldSize=a(Ct),this.open=!1}get size(){return this.textfieldSize.size}get nativeFocusableElement(){return this.computedDisabled||!this.textfield?null:this.textfield.nativeFocusableElement}get focused(){var t;return at(this.nativeFocusableElement)||!!((t=this.dropdown)!=null&&t.tuiDropdownOpen)}handleOption(t){this.setNativeValue(String(t)),this.focusInput(),this.value=String(t),this.open=!1}onValueChange(t){this.value=t,this.open=!0}get canOpen(){return this.interactive&&!!this.datalist}onActiveZone(t){this.updateFocused(t)}getFallbackValue(){return""}focusInput(t=!1){this.nativeFocusableElement&&this.nativeFocusableElement.focus({preventScroll:t})}setNativeValue(t){this.nativeFocusableElement&&(this.nativeFocusableElement.value=t)}};e.\u0275fac=(()=>{let t;return function(i){return(t||(t=I(e)))(i||e)}})(),e.\u0275cmp=h({type:e,selectors:[["tui-input"]],contentQueries:function(r,i,o){if(r&1&&U(o,dt,5,H),r&2){let s;v(s=y())&&(i.datalist=s.first)}},viewQuery:function(r,i){if(r&1&&(F(D,5),F(E,5)),r&2){let o;v(o=y())&&(i.dropdown=o.first),v(o=y())&&(i.textfield=o.first)}},hostAttrs:["ngSkipHydration","true"],hostVars:1,hostBindings:function(r,i){r&2&&N("data-size",i.size)},features:[P([Dt,mt(e),pt(e),vt(e)],[ft]),O],ngContentSelectors:At,decls:4,vars:11,consts:[["tuiDropdownOpenMonitor","",1,"t-hosted",3,"tuiDropdownOpenChange","tuiActiveZoneChange","tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen"],["automation-id","tui-input__textfield",1,"t-textfield",3,"valueChange","disabled","focusable","invalid","nativeId","pseudoFocus","pseudoHover","readOnly","value"]],template:function(r,i){r&1&&(L(St),f(0,"div",0),X("tuiDropdownOpenChange",function(s){return q(i.open,s)||(i.open=s),s}),m("tuiActiveZoneChange",function(s){return i.onActiveZone(s)}),f(1,"tui-primitive-textfield",1),m("valueChange",function(s){return i.onValueChange(s)}),w(2),w(3,1,["ngProjectAs","input",5,["input"]]),g()()),r&2&&(l("tuiDropdown",i.datalist||"")("tuiDropdownEnabled",i.canOpen),W("tuiDropdownOpen",i.open),c(),l("disabled",i.computedDisabled)("focusable",i.computedFocusable)("invalid",i.computedInvalid)("nativeId",i.nativeId)("pseudoFocus",i.computedFocused)("pseudoHover",i.pseudoHover)("readOnly",i.readOnly)("value",i.value))},dependencies:[E,Et,ut,D],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:start}._disabled[_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}"],changeDetection:0});let n=e;return n})(),Oe=(()=>{let e=class e extends yt{onValueChange(t){this.host.onValueChange(t)}};e.\u0275fac=(()=>{let t;return function(i){return(t||(t=I(e)))(i||e)}})(),e.\u0275dir=j({type:e,selectors:[["tui-input"]],features:[P([ht(e)]),O]});let n=e;return n})(),be=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=x({type:e}),e.\u0275inj=R({imports:[Y,_t,lt]});let n=e;return n})();export{zt as a,ie as b,Ie as c,Oe as d,be as e};
