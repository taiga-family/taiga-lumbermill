import{a as vt}from"./chunk-NVFQQXLB.js";import{b as Q,c as xt}from"./chunk-YOZRA3XU.js";import{b as gt,c as _t}from"./chunk-PGB6HSOE.js";import{Ba as yt,Ca as Ct,Da as bt,Ea as wt,Ga as St,Ha as Et,J as mt,T as Oe}from"./chunk-KLV7V3UI.js";import{$b as ce,B as ee,Cb as T,Da as c,Dd as Ee,Ed as fe,Ee as ft,Fb as it,Fe as pt,Ga as Ze,H as Be,Ha as xe,I as A,Ia as oe,Ja as qe,Jb as we,Ka as O,Kb as Se,L as Fe,Ma as D,Na as Ke,O as Ae,Oa as ye,Qa as Je,R as G,Ra as _,S as te,Sa as P,Sb as nt,T as ie,Ta as f,Tb as rt,Ua as x,Ub as ot,Va as b,Vb as st,Xb as ae,Z as Ve,_ as I,_b as le,a as Me,aa as z,ab as g,ad as de,bb as p,bc as at,c as ve,ca as d,cb as C,da as Ne,db as V,e as Ie,ea as He,eb as N,f as y,gb as et,gc as lt,i as ze,ia as ne,id as ct,j as Le,ja as Ye,jb as Ce,ka as je,kb as h,la as re,lb as H,m as q,mb as R,na as $e,nb as be,nd as dt,nf as De,oa as We,ob as se,pa as Ue,pb as Y,pd as he,q as M,qa as k,qb as j,r as K,rb as tt,s as F,sa as X,sb as w,sd as ue,t as U,ua as Ge,ub as S,va as Xe,xa as Qe,z as J,zd as ht,ze as ut}from"./chunk-KYYOKFWQ.js";import{d as a}from"./chunk-HFDGAYQF.js";var $i=(()=>{let n=class n{transform(e){return gt(e)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=Ke({name:"tuiAutoColor",type:n,pure:!0});let i=n;return i})();var Nt=["tuiProgressLabel",""],Ht=[[["progress"]],[["tui-progress-circle"]],"*"],Yt=["progress","tui-progress-circle","*"];var Ot={color:null,size:"m"},Dt=ue(Ot);function rn(i){return Ee(Dt,i,Ot)}var on=(()=>{let n=class n{constructor(){this.options=d(Dt),this.animationDelay=he(M(!0).pipe(Be(0))),this.value=0,this.max=1,this.color=this.options.color,this.size=this.options.size}get progressRatio(){let e=this.value/this.max;return Number.isFinite(e)?e:0}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=O({type:n,selectors:[["tui-progress-circle"]],hostVars:5,hostBindings:function(t,r){t&2&&(P("data-size",r.size),x("--tui-progress-color",r.color)("--t-progress-ratio",r.progressRatio))},inputs:{value:"value",max:"max",color:"color",size:"size"},decls:4,vars:4,consts:[[1,"t-hidden-progress",3,"max","value"],["aria-hidden","true","height","100%","width","100%",1,"t-svg"],["cx","50%","cy","50%",1,"t-track"],["cx","50%","cy","50%",1,"t-progress"]],template:function(t,r){t&1&&(C(0,"progress",0),re(),g(1,"svg",1),C(2,"circle",2)(3,"circle",3),p()),t&2&&(f("max",r.max)("value",r.value),c(3),b("t-progress_filled",r.animationDelay()))},styles:["[_nghost-%COMP%]{--t-track-stroke: var(--tui-thickness, .375em);--t-progress-stroke: var(--tui-thickness, .375em);position:relative;display:block;color:var(--tui-background-accent-1);transform:rotate(-90deg);transform-origin:center;font-size:1rem;inline-size:var(--t-diameter);block-size:var(--t-diameter);border-radius:100%;-webkit-mask:radial-gradient(closest-side,transparent calc(100% - var(--t-track-stroke)),#000 calc(100% - var(--t-track-stroke) + .5px));mask:radial-gradient(closest-side,transparent calc(100% - var(--t-track-stroke)),#000 calc(100% - var(--t-track-stroke) + .5px))}[data-size=xxs][_nghost-%COMP%]{--t-diameter: 2em}[data-size=xs][_nghost-%COMP%]{--t-diameter: 2.5em}[data-size=s][_nghost-%COMP%]{--t-diameter: 3.5em}[data-size=m][_nghost-%COMP%]{--t-diameter: 4em}[data-size=l][_nghost-%COMP%]{--t-diameter: 5em}[data-size=xl][_nghost-%COMP%]{--t-diameter: 6em}[data-size=xxl][_nghost-%COMP%]{--t-diameter: 8em}.t-track[_ngcontent-%COMP%]{fill:transparent;stroke:var(--tui-background-neutral-1);stroke-width:var(--t-track-stroke);r:calc((var(--t-diameter) - var(--t-track-stroke)) / 2)}.t-progress[_ngcontent-%COMP%]{fill:transparent;stroke:var(--tui-progress-color, currentColor);stroke-linecap:round;stroke-width:var(--t-progress-stroke);stroke-dasharray:calc(2 * 3.14159265 * calc((var(--t-diameter) - var(--t-progress-stroke)) / 2));stroke-dashoffset:calc(2 * 3.14159265 * calc((var(--t-diameter) - var(--t-progress-stroke)) / 2));r:calc((var(--t-diameter) - var(--t-progress-stroke)) / 2)}.t-progress_filled[_ngcontent-%COMP%]{transition:stroke-dashoffset var(--tui-duration) linear;stroke-dashoffset:calc(calc(2 * 3.14159265 * calc((var(--t-diameter) - var(--t-progress-stroke)) / 2)) - var(--t-progress-ratio) * calc(2 * 3.14159265 * calc((var(--t-diameter) - var(--t-progress-stroke)) / 2)))}.t-hidden-progress[_ngcontent-%COMP%]{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(50%);block-size:1px;inline-size:1px;margin:-1px;overflow:hidden;padding:0}.t-svg[_ngcontent-%COMP%]{overflow:unset}"],changeDetection:0});let i=n;return i})(),sn=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=O({type:n,selectors:[["label","tuiProgressLabel",""]],attrs:Nt,ngContentSelectors:Yt,decls:4,vars:0,consts:[[1,"t-label"]],template:function(t,r){t&1&&(H(Ht),R(0),R(1,1),g(2,"span",0),R(3,2),p())},styles:["[_nghost-%COMP%]{position:relative;display:inline-block;color:var(--tui-text-primary)}.t-label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex;font:var(--tui-font-text-s);flex-direction:column;justify-content:center;align-items:center}"],changeDetection:0});let i=n;return i})();var Te;try{Te=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Te=!1}var ge=(()=>{let n=class n{constructor(){a(this,"_platformId",d(Xe));a(this,"isBrowser",this._platformId?lt(this._platformId):typeof document=="object"&&!!document);a(this,"EDGE",this.isBrowser&&/(edge)/i.test(navigator.userAgent));a(this,"TRIDENT",this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent));a(this,"BLINK",this.isBrowser&&!!(window.chrome||Te)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT);a(this,"WEBKIT",this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT);a(this,"IOS",this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window));a(this,"FIREFOX",this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent));a(this,"ANDROID",this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT);a(this,"SAFARI",this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT)}};a(n,"\u0275fac",function(t){return new(t||n)}),a(n,"\u0275prov",I({token:n,factory:n.\u0275fac,providedIn:"root"}));let i=n;return i})();var E=function(i){return i[i.NORMAL=0]="NORMAL",i[i.NEGATED=1]="NEGATED",i[i.INVERTED=2]="INVERTED",i}(E||{}),pe,L;function Pt(){if(L==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return L=!1,L;if("scrollBehavior"in document.documentElement.style)L=!0;else{let i=Element.prototype.scrollTo;i?L=!/\{\s*\[native code\]\s*\}/.test(i.toString()):L=!1}}return L}function W(){if(typeof document!="object"||!document)return E.NORMAL;if(pe==null){let i=document.createElement("div"),n=i.style;i.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";let o=document.createElement("div"),e=o.style;e.width="2px",e.height="1px",i.appendChild(o),document.body.appendChild(i),pe=E.NORMAL,i.scrollLeft===0&&(i.scrollLeft=1,pe=i.scrollLeft===0?E.NEGATED:E.INVERTED),i.remove()}return pe}var jt=new z("cdk-dir-doc",{providedIn:"root",factory:$t});function $t(){return d(ae)}var Wt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Ut(i){let n=(i==null?void 0:i.toLowerCase())||"";return n==="auto"&&typeof navigator<"u"&&(navigator!=null&&navigator.language)?Wt.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var Rt=(()=>{let n=class n{constructor(){a(this,"value","ltr");a(this,"change",new Ue);let e=d(jt,{optional:!0});if(e){let t=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=Ut(t||r||"ltr")}}ngOnDestroy(){this.change.complete()}};a(n,"\u0275fac",function(t){return new(t||n)}),a(n,"\u0275prov",I({token:n,factory:n.\u0275fac,providedIn:"root"}));let i=n;return i})();var ke=class{};function Mt(i){return i&&typeof i.connect=="function"&&!(i instanceof Ie)}var me=class extends ke{constructor(o){super();a(this,"_data");this._data=o}connect(){return K(this._data)?this._data:M(this._data)}disconnect(){}},Z=function(i){return i[i.REPLACED=0]="REPLACED",i[i.INSERTED=1]="INSERTED",i[i.MOVED=2]="MOVED",i[i.REMOVED=3]="REMOVED",i}(Z||{}),Pe=new z("_ViewRepeater");var _e=class{constructor(){a(this,"viewCacheSize",20);a(this,"_viewCache",[])}applyChanges(n,o,e,t,r){n.forEachOperation((s,l,u)=>{let m,v;if(s.previousIndex==null){let B=()=>e(s,l,u);m=this._insertView(B,u,o,t(s)),v=m?Z.INSERTED:Z.REPLACED}else u==null?(this._detachAndCacheView(l,o),v=Z.REMOVED):(m=this._moveView(l,u,o,t(s)),v=Z.MOVED);r&&r({context:m==null?void 0:m.context,operation:v,record:s})})}detach(){for(let n of this._viewCache)n.destroy();this._viewCache=[]}_insertView(n,o,e,t){let r=this._insertViewFromCache(o,e);if(r){r.context.$implicit=t;return}let s=n();return e.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(n,o){let e=o.detach(n);this._maybeCacheView(e,o)}_moveView(n,o,e,t){let r=e.get(n);return e.move(r,o),r.context.$implicit=t,r}_maybeCacheView(n,o){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(n);else{let e=o.indexOf(n);e===-1?n.destroy():o.remove(e)}}_insertViewFromCache(n,o){let e=this._viewCache.pop();return e&&o.insert(e,n),e||null}};var Gt=["contentWrapper"],Xt=["*"],Lt=new z("VIRTUAL_SCROLL_STRATEGY"),Re=class{constructor(n,o,e){a(this,"_scrolledIndexChange",new y);a(this,"scrolledIndexChange",this._scrolledIndexChange.pipe(A()));a(this,"_viewport",null);a(this,"_itemSize");a(this,"_minBufferPx");a(this,"_maxBufferPx");this._itemSize=n,this._minBufferPx=o,this._maxBufferPx=e}attach(n){this._viewport=n,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(n,o,e){e<o,this._itemSize=n,this._minBufferPx=o,this._maxBufferPx=e,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(n,o){this._viewport&&this._viewport.scrollToOffset(n*this._itemSize,o)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;let n=this._viewport.getRenderedRange(),o={start:n.start,end:n.end},e=this._viewport.getViewportSize(),t=this._viewport.getDataLength(),r=this._viewport.measureScrollOffset(),s=this._itemSize>0?r/this._itemSize:0;if(o.end>t){let u=Math.ceil(e/this._itemSize),m=Math.max(0,Math.min(s,t-u));s!=m&&(s=m,r=m*this._itemSize,o.start=Math.floor(s)),o.end=Math.max(0,Math.min(t,o.start+u))}let l=r-o.start*this._itemSize;if(l<this._minBufferPx&&o.start!=0){let u=Math.ceil((this._maxBufferPx-l)/this._itemSize);o.start=Math.max(0,o.start-u),o.end=Math.min(t,Math.ceil(s+(e+this._minBufferPx)/this._itemSize))}else{let u=o.end*this._itemSize-(r+e);if(u<this._minBufferPx&&o.end!=t){let m=Math.ceil((this._maxBufferPx-u)/this._itemSize);m>0&&(o.end=Math.min(t,o.end+m),o.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(o),this._viewport.setRenderedContentOffset(this._itemSize*o.start),this._scrolledIndexChange.next(Math.floor(s))}};function Qt(i){return i._scrollStrategy}var Gn=(()=>{let n=class n{constructor(){a(this,"_itemSize",20);a(this,"_minBufferPx",100);a(this,"_maxBufferPx",200);a(this,"_scrollStrategy",new Re(this.itemSize,this.minBufferPx,this.maxBufferPx))}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=Q(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=Q(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=Q(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}};a(n,"\u0275fac",function(t){return new(t||n)}),a(n,"\u0275dir",D({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[T([{provide:Lt,useFactory:Qt,deps:[Ve(()=>n)]}]),ne]}));let i=n;return i})(),Zt=20,qt=(()=>{let n=class n{constructor(){a(this,"_ngZone",d(k));a(this,"_platform",d(ge));a(this,"_renderer",d(xe).createRenderer(null,null));a(this,"_cleanupGlobalListener");a(this,"_scrolled",new y);a(this,"_scrolledCount",0);a(this,"scrollContainers",new Map)}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=Zt){return this._platform.isBrowser?new ve(t=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(ee(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{var s;r.unsubscribe(),this._scrolledCount--,this._scrolledCount||((s=this._cleanupGlobalListener)==null||s.call(this),this._cleanupGlobalListener=void 0)}}):M()}ngOnDestroy(){var e;(e=this._cleanupGlobalListener)==null||e.call(this),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,t){let r=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(J(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){let t=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&t.push(s)}),t}_scrollableContainsElement(e,t){let r=xt(t),s=e.getElementRef().nativeElement;do if(r==s)return!0;while(r=r.parentElement);return!1}};a(n,"\u0275fac",function(t){return new(t||n)}),a(n,"\u0275prov",I({token:n,factory:n.\u0275fac,providedIn:"root"}));let i=n;return i})(),Bt=(()=>{let n=class n{constructor(){a(this,"elementRef",d(X));a(this,"scrollDispatcher",d(qt));a(this,"ngZone",d(k));a(this,"dir",d(Rt,{optional:!0}));a(this,"_scrollElement",this.elementRef.nativeElement);a(this,"_destroyed",new y);a(this,"_renderer",d(oe));a(this,"_cleanupScroll");a(this,"_elementScrolled",new y)}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){var e;(e=this._cleanupScroll)==null||e.call(this),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let t=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),r&&W()!=E.NORMAL?(e.left!=null&&(e.right=t.scrollWidth-t.clientWidth-e.left),W()==E.INVERTED?e.left=e.right:W()==E.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let t=this.elementRef.nativeElement;Pt()?t.scrollTo(e):(e.top!=null&&(t.scrollTop=e.top),e.left!=null&&(t.scrollLeft=e.left))}measureScrollOffset(e){let t="left",r="right",s=this.elementRef.nativeElement;if(e=="top")return s.scrollTop;if(e=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let l=this.dir&&this.dir.value=="rtl";return e=="start"?e=l?r:t:e=="end"&&(e=l?t:r),l&&W()==E.INVERTED?e==t?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:l&&W()==E.NEGATED?e==t?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==t?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}};a(n,"\u0275fac",function(t){return new(t||n)}),a(n,"\u0275dir",D({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}));let i=n;return i})(),Kt=20,Jt=(()=>{let n=class n{constructor(){a(this,"_platform",d(ge));a(this,"_listeners");a(this,"_viewportSize");a(this,"_change",new y);a(this,"_document",d(ae,{optional:!0}));let e=d(k),t=d(xe).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=s=>this._change.next(s);this._listeners=[t.listen("window","resize",r),t.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){var e;(e=this._listeners)==null||e.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:t,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+t,height:r,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,t=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect(),l=-s.top||e.body.scrollTop||t.scrollY||r.scrollTop||0,u=-s.left||e.body.scrollLeft||t.scrollX||r.scrollLeft||0;return{top:l,left:u}}change(e=Kt){return e>0?this._change.pipe(ee(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}};a(n,"\u0275fac",function(t){return new(t||n)}),a(n,"\u0275prov",I({token:n,factory:n.\u0275fac,providedIn:"root"}));let i=n;return i})(),It=new z("VIRTUAL_SCROLLABLE"),ei=(()=>{let n=class n extends Bt{constructor(){super()}measureViewportSize(e){let t=this.elementRef.nativeElement;return e==="horizontal"?t.clientWidth:t.clientHeight}};a(n,"\u0275fac",function(t){return new(t||n)}),a(n,"\u0275dir",D({type:n,features:[ye]}));let i=n;return i})();function ti(i,n){return i.start==n.start&&i.end==n.end}var ii=typeof requestAnimationFrame<"u"?Le:ze,ni=(()=>{let n=class n extends ei{constructor(){super();a(this,"elementRef",d(X));a(this,"_changeDetectorRef",d(nt));a(this,"_scrollStrategy",d(Lt,{optional:!0}));a(this,"scrollable",d(It,{optional:!0}));a(this,"_platform",d(ge));a(this,"_detachedSubject",new y);a(this,"_renderedRangeSubject",new y);a(this,"_orientation","vertical");a(this,"appendOnly",!1);a(this,"scrolledIndexChange",new ve(t=>this._scrollStrategy.scrolledIndexChange.subscribe(r=>Promise.resolve().then(()=>this.ngZone.run(()=>t.next(r))))));a(this,"_contentWrapper");a(this,"renderedRangeStream",this._renderedRangeSubject);a(this,"_totalContentSize",0);a(this,"_totalContentWidth","");a(this,"_totalContentHeight","");a(this,"_renderedContentTransform");a(this,"_renderedRange",{start:0,end:0});a(this,"_dataLength",0);a(this,"_viewportSize",0);a(this,"_forOf");a(this,"_renderedContentOffset",0);a(this,"_renderedContentOffsetNeedsRewrite",!1);a(this,"_isChangeDetectionPending",!1);a(this,"_runAfterChangeDetection",[]);a(this,"_viewportChanges",Me.EMPTY);a(this,"_injector",d($e));a(this,"_isDestroyed",!1);let t=d(Jt);this._scrollStrategy,this._viewportChanges=t.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(G(null),ee(0,ii),ie(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(t){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(ie(this._detachedSubject)).subscribe(r=>{let s=r.length;s!==this._dataLength&&(this._dataLength=s,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){ti(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&r==="to-start"?0:t;let s=this.dir&&this.dir.value=="rtl",l=this.orientation=="horizontal",u=l?"X":"Y",v=`translate${u}(${Number((l&&s?-1:1)*t)}px)`;this._renderedContentOffset=t,r==="to-end"&&(v+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=v&&(this._renderedContentTransform=v,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){let s={behavior:r};this.orientation==="horizontal"?s.start=t:s.top=t,this.scrollable.scrollTo(s)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return this.scrollable==this?r=s=>super.measureScrollOffset(s):r=s=>this.scrollable.measureScrollOffset(s),Math.max(0,r(t??(this.orientation==="horizontal"?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){var B;let r,s="left",l="right",u=((B=this.dir)==null?void 0:B.value)=="rtl";t=="start"?r=u?l:s:t=="end"?r=u?s:l:t?r=t:r=this.orientation==="horizontal"?"left":"top";let m=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-m}measureRenderedContentSize(){let t=this._contentWrapper.nativeElement;return this.orientation==="horizontal"?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,Qe(()=>{this._isChangeDetectionPending=!1;let t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(let r of t)r()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight=this.orientation==="horizontal"?"":`${this._totalContentSize}px`,this._totalContentWidth=this.orientation==="horizontal"?`${this._totalContentSize}px`:""}};a(n,"\u0275fac",function(r){return new(r||n)}),a(n,"\u0275cmp",O({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(r,s){if(r&1&&se(Gt,7),r&2){let l;Y(l=j())&&(s._contentWrapper=l.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(r,s){r&2&&b("cdk-virtual-scroll-orientation-horizontal",s.orientation==="horizontal")("cdk-virtual-scroll-orientation-vertical",s.orientation!=="horizontal")},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",ot]},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[T([{provide:Bt,useFactory:(t,r)=>t||r,deps:[[new He,new Ne(It)],n]}]),Je,ye],ngContentSelectors:Xt,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(r,s){r&1&&(H(),g(0,"div",1,0),R(2),p(),C(3,"div",2)),r&2&&(c(3),x("width",s._totalContentWidth)("height",s._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}));let i=n;return i})();function zt(i,n,o){let e=o;if(!e.getBoundingClientRect)return 0;let t=e.getBoundingClientRect();return i==="horizontal"?n==="start"?t.left:t.right:n==="start"?t.top:t.bottom}var Xn=(()=>{let n=class n{constructor(){a(this,"_viewContainerRef",d(qe));a(this,"_template",d(Ze));a(this,"_differs",d(rt));a(this,"_viewRepeater",d(Pe));a(this,"_viewport",d(ni,{skipSelf:!0}));a(this,"viewChange",new y);a(this,"_dataSourceChanges",new y);a(this,"_cdkVirtualForOf");a(this,"_cdkVirtualForTrackBy");a(this,"dataStream",this._dataSourceChanges.pipe(G(null),Fe(),te(([e,t])=>this._changeDataSource(e,t)),Ae(1)));a(this,"_differ",null);a(this,"_data");a(this,"_renderedItems");a(this,"_renderedRange");a(this,"_needsUpdate",!1);a(this,"_destroyed",new y);let e=d(k);this.dataStream.subscribe(t=>{this._data=t,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(ie(this._destroyed)).subscribe(t=>{this._renderedRange=t,this.viewChange.observers.length&&e.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,Mt(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new me(K(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(t,r)=>e(t+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=Q(e)}measureRangeSize(e,t){if(e.start>=e.end)return 0;e.start<this._renderedRange.start||e.end>this._renderedRange.end;let r=e.start-this._renderedRange.start,s=e.end-e.start,l,u;for(let m=0;m<s;m++){let v=this._viewContainerRef.get(m+r);if(v&&v.rootNodes.length){l=u=v.rootNodes[0];break}}for(let m=s-1;m>-1;m--){let v=this._viewContainerRef.get(m+r);if(v&&v.rootNodes.length){u=v.rootNodes[v.rootNodes.length-1];break}}return l&&u?zt(t,"end",u)-zt(t,"start",l):0}ngDoCheck(){if(this._differ&&this._needsUpdate){let e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,t)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,t):t)),this._needsUpdate=!0)}_changeDataSource(e,t){return e&&e.disconnect(this),this._needsUpdate=!0,t?t.connect(this):M()}_updateContext(){let e=this._data.length,t=this._viewContainerRef.length;for(;t--;){let r=this._viewContainerRef.get(t);r.context.index=this._renderedRange.start+t,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(s,l,u)=>this._getEmbeddedViewArgs(s,u),s=>s.item),e.forEachIdentityChange(s=>{let l=this._viewContainerRef.get(s.currentIndex);l.context.$implicit=s.item});let t=this._data.length,r=this._viewContainerRef.length;for(;r--;){let s=this._viewContainerRef.get(r);s.context.index=this._renderedRange.start+r,s.context.count=t,this._updateComputedContextProperties(s.context)}}_updateComputedContextProperties(e){e.first=e.index===0,e.last=e.index===e.count-1,e.even=e.index%2===0,e.odd=!e.even}_getEmbeddedViewArgs(e,t){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:t}}static ngTemplateContextGuard(e,t){return!0}};a(n,"\u0275fac",function(t){return new(t||n)}),a(n,"\u0275dir",D({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[T([{provide:Pe,useClass:_e}])]}));let i=n;return i})();var ri=["*"];function oi(i,n){if(i&1&&(g(0,"div",14),w(1),p()),i&2){let o=h(2);c(),S(" ",o.axisYName," ")}}function si(i,n){if(i&1&&(g(0,"div",17),w(1),p()),i&2){let o=n.$implicit,e=h(3);c(),S(" ",e.fallback(o)," ")}}function ai(i,n){if(i&1&&(g(0,"div",15),_(1,si,2,1,"div",16),p()),i&2){let o=h(2);c(),f("ngForOf",o.axisYLabels)}}function li(i,n){if(i&1&&(g(0,"div",11),_(1,oi,2,1,"div",12)(2,ai,2,1,"div",13),p()),i&2){let o=h();b("t-side_padding",o.hasXLabels),c(),f("ngIf",o.axisYName),c(),f("ngIf",!o.axisYInset)}}function ci(i,n){if(i&1&&C(0,"div",18),i&2){let o=n.$implicit,e=h();x("border-right-style",e.verticalLinesHandler(o,e.verticalLines))}}function di(i,n){if(i&1&&C(0,"div",19),i&2){let o=n.$implicit,e=h();x("border-top-style",e.horizontalLinesHandler(o,e.horizontalLines))}}function hi(i,n){if(i&1&&(g(0,"div",17),w(1),p()),i&2){let o=n.$implicit,e=h(2);c(),S(" ",e.fallback(o)," ")}}function ui(i,n){if(i&1&&(g(0,"div",20),_(1,hi,2,1,"div",16),p()),i&2){let o=h();c(),f("ngForOf",o.axisYLabels)}}function fi(i,n){if(i&1&&(g(0,"div",23),w(1),p()),i&2){let o=n.$implicit,e=h(2);c(),S(" ",e.fallback(o)," ")}}function pi(i,n){if(i&1&&(g(0,"div",21),_(1,fi,2,1,"div",22),p()),i&2){let o=h();c(),f("ngForOf",o.axisYSecondaryLabels)}}function gi(i,n){if(i&1&&(g(0,"div",26),w(1),p()),i&2){let o=n.$implicit,e=h(2);b("t-label-x_transparent",o===null),c(),S(" ",e.fallback(o)," ")}}function mi(i,n){if(i&1&&(g(0,"div",24),_(1,gi,2,3,"div",25),p()),i&2){let o=h();c(),f("ngForOf",o.axisXLabels)}}function _i(i,n){if(i&1&&(g(0,"div",23),w(1),p()),i&2){let o=n.$implicit,e=h(3);c(),S(" ",e.fallback(o)," ")}}function vi(i,n){if(i&1&&(g(0,"div",29),_(1,_i,2,1,"div",22),p()),i&2){let o=h(2);c(),f("ngForOf",o.axisYSecondaryLabels)}}function xi(i,n){if(i&1&&(g(0,"div",30),w(1),p()),i&2){let o=h(2);c(),S(" ",o.axisYSecondaryName," ")}}function yi(i,n){if(i&1&&(g(0,"div",11),_(1,vi,2,1,"div",27)(2,xi,2,1,"div",28),p()),i&2){let o=h();b("t-side_padding",o.hasXLabels),c(),f("ngIf",!o.axisYSecondaryInset),c(),f("ngIf",o.axisYSecondaryName)}}var Ci=()=>"dashed";var bi=()=>"solid";var er=(()=>{let n=class n{constructor(){this.axisX="solid",this.axisXLabels=[],this.axisY="solid",this.axisYInset=!1,this.axisYLabels=[],this.axisYName="",this.axisYSecondaryInset=!1,this.axisYSecondaryLabels=[],this.axisYSecondaryName="",this.horizontalLines=0,this.horizontalLinesHandler=bi,this.verticalLines=0,this.verticalLinesHandler=Ci}get hasXLabels(){return!!this.axisXLabels.length}get hasYLabels(){return!!this.axisYLabels.length&&!this.axisYInset||!!this.axisYName}get hasYSecondaryLabels(){return!!this.axisYSecondaryLabels.length&&!this.axisYSecondaryInset||!!this.axisYSecondaryName}fallback(e){return e||ct}get centeredXLabels(){return this.axisY==="none"}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=O({type:n,selectors:[["tui-axes"]],hostVars:2,hostBindings:function(t,r){t&2&&b("_centered",r.centeredXLabels)},inputs:{axisX:"axisX",axisXLabels:"axisXLabels",axisY:"axisY",axisYInset:"axisYInset",axisYLabels:"axisYLabels",axisYName:"axisYName",axisYSecondaryInset:"axisYSecondaryInset",axisYSecondaryLabels:"axisYSecondaryLabels",axisYSecondaryName:"axisYSecondaryName",horizontalLines:"horizontalLines",horizontalLinesHandler:"horizontalLinesHandler",verticalLines:"verticalLines",verticalLinesHandler:"verticalLinesHandler"},ngContentSelectors:ri,decls:13,vars:11,consts:[["class","t-side",3,"t-side_padding",4,"ngIf"],[1,"t-wrapper"],[1,"t-grid"],[1,"t-vertical"],["automation-id","tui-axex__vertical-line","class","t-line t-line_vertical",3,"borderRightStyle",4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-horizontal"],["automation-id","tui-axex__horizontal-line","class","t-line",3,"borderTopStyle",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["class","t-labels-y t-labels-y_inset",4,"ngIf"],["class","t-labels-y t-labels-y_inset t-labels-y_inset_secondary",4,"ngIf"],[1,"t-content"],["class","t-labels-x",4,"ngIf"],[1,"t-side"],["automation-id","tui-axex__axis-y-name","class","t-name t-name_primary",4,"ngIf"],["class","t-labels-y t-labels-y_primary",4,"ngIf"],["automation-id","tui-axex__axis-y-name",1,"t-name","t-name_primary"],[1,"t-labels-y","t-labels-y_primary"],["automation-id","tui-axex__axis-y-label","class","t-label-y",4,"ngFor","ngForOf"],["automation-id","tui-axex__axis-y-label",1,"t-label-y"],["automation-id","tui-axex__vertical-line",1,"t-line","t-line_vertical"],["automation-id","tui-axex__horizontal-line",1,"t-line"],[1,"t-labels-y","t-labels-y_inset"],[1,"t-labels-y","t-labels-y_inset","t-labels-y_inset_secondary"],["automation-id","tui-axex__axis-y-secondary-label","class","t-label-y",4,"ngFor","ngForOf"],["automation-id","tui-axex__axis-y-secondary-label",1,"t-label-y"],[1,"t-labels-x"],["automation-id","tui-axex__axis-x-label","class","t-label-x",3,"t-label-x_transparent",4,"ngFor","ngForOf"],["automation-id","tui-axex__axis-x-label",1,"t-label-x"],["class","t-labels-y t-labels-y_secondary",4,"ngIf"],["automation-id","tui-axex__axis-y-secondary-name","class","t-name",4,"ngIf"],[1,"t-labels-y","t-labels-y_secondary"],["automation-id","tui-axex__axis-y-secondary-name",1,"t-name"]],template:function(t,r){t&1&&(H(),_(0,li,3,4,"div",0),g(1,"div",1)(2,"div",2)(3,"div",3),_(4,ci,1,2,"div",4),p(),g(5,"div",5),_(6,di,1,2,"div",6),p(),_(7,ui,2,1,"div",7)(8,pi,2,1,"div",8),g(9,"div",9),R(10),p()(),_(11,mi,2,1,"div",10),p(),_(12,yi,3,4,"div",0)),t&2&&(f("ngIf",r.hasYLabels),c(2),x("border-bottom-style",r.axisX)("border-left-style",r.axisY),c(2),f("tuiRepeatTimesOf",r.verticalLines),c(2),f("tuiRepeatTimesOf",r.horizontalLines),c(),f("ngIf",r.axisYInset),c(),f("ngIf",r.axisYSecondaryInset),c(3),f("ngIf",r.hasXLabels),c(),f("ngIf",r.hasYSecondaryLabels))},dependencies:[le,ce,vt],styles:['[_nghost-%COMP%]{display:flex}.t-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;block-size:100%;flex-direction:column}.t-grid[_ngcontent-%COMP%]{position:relative;display:flex;flex:1;justify-content:space-around;align-items:flex-end;border-width:1px;border-color:var(--tui-border-normal);isolation:isolate}.t-horizontal[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex;flex-direction:column}.t-vertical[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex}._centered[_nghost-%COMP%]   .t-vertical[_ngcontent-%COMP%]:after{content:"";display:block;flex:1 0 1px}.t-line[_ngcontent-%COMP%]{flex:2 0 1px;box-sizing:border-box;border-width:1px;border-color:var(--tui-border-normal)}._centered[_nghost-%COMP%]   .t-line_vertical[_ngcontent-%COMP%]:first-child{flex:1 0 1px;pointer-events:none}.t-side[_ngcontent-%COMP%]{display:flex;align-items:stretch}.t-side_padding[_ngcontent-%COMP%]{padding-bottom:2rem}.t-name[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);writing-mode:tb;text-align:center;padding-left:.75rem;color:var(--tui-text-secondary)}.t-name_primary[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-labels-y[_ngcontent-%COMP%]{display:flex;font:var(--tui-font-text-xs);flex-direction:column-reverse;justify-content:space-between;color:var(--tui-text-secondary)}.t-labels-y_primary[_ngcontent-%COMP%]{text-align:end;padding-right:.75rem}.t-labels-y_secondary[_ngcontent-%COMP%]{padding-left:.75rem}.t-labels-y_transparent[_ngcontent-%COMP%]{border-color:transparent}.t-labels-y_inset[_ngcontent-%COMP%]{position:absolute;top:.5625rem;left:.25rem;bottom:-.75rem;pointer-events:none}.t-labels-y_inset_secondary[_ngcontent-%COMP%]{left:auto;right:.25rem;text-align:end}.t-labels-x[_ngcontent-%COMP%]{position:relative;display:flex;font:var(--tui-font-text-xs);border-inline-end:1px solid transparent;color:var(--tui-text-secondary)}.t-label-x[_ngcontent-%COMP%]{block-size:.4375rem;border-inline-start:1px solid var(--tui-border-normal);flex:1;margin-bottom:1.5625rem}.t-label-x[_ngcontent-%COMP%]:before{content:"";display:block;block-size:.5625rem}.t-label-x_transparent[_ngcontent-%COMP%]{border-color:transparent}._centered[_nghost-%COMP%]   .t-label-x[_ngcontent-%COMP%]{block-size:2rem;text-align:center;border:none;margin:0}[_nghost-%COMP%]:not(._centered)   .t-label-x[_ngcontent-%COMP%]:last-child:not(:first-child){position:absolute;right:0;text-align:end;border-inline-start:none}.t-label-y[_ngcontent-%COMP%]:first-child{margin-bottom:-.375rem}.t-label-y[_ngcontent-%COMP%]:last-child{margin-top:-.375rem}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:-1px;right:0;bottom:-1px;display:flex;align-items:flex-end}'],changeDetection:0});let i=n;return i})();function wi(i,n){let o=n[0]-i[0],e=n[1]-i[1];return Math.atan2(e,o)}function Si(i,n){let o=n[0]-i[0],e=n[1]-i[1];return Math.sqrt(o**2+e**2)}function Ft(i,n,o,e=!1,t=.2){let r=i||[0,0],s=n||i||[0,0],l=o||i||[0,0],u=wi(s,l)+(e?Math.PI:0),m=Si(s,l)*t,v=r[0]+Math.cos(u)*m,B=r[1]+Math.sin(u)*m;return[v,B]}function Ei(i,n,o){let[e,t]=Ft(i[n-1],i[n-2],i[n],!1,o),[r,s]=Ft(i[n],i[n-1],i[n+1],!0,o),l=i[n]??[0,0];return`C ${e},${t} ${r},${s} ${l[0]},${l[1]}`}function Oi(i){return`L ${i}`}var Di=500;function At(i,n,o){let e=[...i[n]??[0,0]];return o?Ei(i,n,o/Di):Oi([e[0],e[1]])}var Ti=(i,n)=>({$implicit:i,index:n});function ki(i,n){if(i&1&&C(0,"div",10),i&2){let o=n.$implicit,e=h(3);x("bottom",e.getBottom(o[1]),"%")("left",e.getLeft(o[0]),"%")}}function Pi(i,n){if(i&1&&(V(0),_(1,ki,1,4,"div",9),N()),i&2){let o=h(2);c(),f("ngForOf",o.value)}}function Ri(i,n){if(i&1){let o=et();g(0,"div",14),we(1,"async"),Ce("mouseenter",function(){Ye(o);let t=h().index,r=h(3);return je(r.onMouseEnter(t))}),C(2,"div",15)(3,"div",16,0),p()}if(i&2){let o=tt(4),e=h(),t=e.$implicit,r=e.index,s=h(2).tuiLet,l=h();x("left",l.getLeft(l.getX(r)),"%")("width",l.getWidth(r),"%"),b("t-column_hint_hovered",Se(1,20,l.drivers.get(r)))("t-column_hovered",s===r),f("tuiHint",(l.hintDirective==null?null:l.hintDirective.hint)||l.hintContent)("tuiHintContext",it(22,Ti,l.getImplicit(t),r))("tuiHintDescribe",l.isFocusable?l.getHintId(r):null)("tuiHintHost",o),c(2),x("left",l.getOffset(r),"%"),c(),x("bottom",l.getBottom(t[1]),"%")("left",l.getOffset(r),"%"),f("id",l.getHintId(r))("tabIndex",l.isFocusable?0:-1)}}function Mi(i,n){if(i&1&&C(0,"div",17),i&2){let o=h().$implicit,e=h(3);x("bottom",e.getBottom(o[1]),"%")}}function Ii(i,n){if(i&1&&(V(0),_(1,Ri,5,25,"div",12)(2,Mi,1,2,"div",13),N()),i&2){let o=h(3);c(),f("ngIf",o.value.length>1||o.dots),c(),f("ngIf",o.isFocusable)}}function zi(i,n){if(i&1&&(V(0),_(1,Ii,3,2,"ng-container",11),N()),i&2){let o=h(2);c(),f("ngForOf",o.value)}}function Li(i,n){if(i&1&&(g(0,"div",20),w(1),p()),i&2){let o=h().ngIf,e=h(2);x("left",e.getLeft(o[0]),"%"),c(),S(" ",e.xStringify(o[0])," ")}}function Bi(i,n){if(i&1&&(g(0,"div",21),w(1),p()),i&2){let o=h().ngIf,e=h(2);x("bottom",e.getBottom(o[1]),"%"),c(),S(" ",e.yStringify(o[1])," ")}}function Fi(i,n){if(i&1&&(V(0),_(1,Li,2,3,"div",18)(2,Bi,2,3,"div",19),N()),i&2){let o=h(2);c(),f("ngIf",o.xStringify),c(),f("ngIf",o.yStringify)}}function Ai(i,n){if(i&1&&(V(0),re(),g(1,"svg",2)(2,"defs")(3,"linearGradient",3),C(4,"stop",4)(5,"stop",5),p()(),C(6,"path",6)(7,"path",7),p(),_(8,Pi,2,1,"ng-container",8)(9,zi,2,1,"ng-container",8)(10,Fi,3,2,"ng-container",8),N()),i&2){let o=n.tuiLet,e=h();c(),P("viewBox",e.viewBox()),c(2),P("id",e.fillId),c(3),P("d",e.fillD)("fill",e.fill),c(),P("d",e.d),c(),f("ngIf",e.dots),c(),f("ngIf",e.hasHints),c(),f("ngIf",e.getHovered(o))}}var Vi={dots:!1,filled:!1,smoothingFactor:0},Ni=ue(Vi);var Hi=(()=>{let n=class n{constructor(){this.charts=de,this.chartsRef=de,this.renderer=d(oe),this.destroyRef=d(We),this.zone=d(k),this.hovered$=d(Oe)}ngAfterViewInit(){U([Yi(this.charts),this.hovered$]).pipe(J(e=>!e.some(Boolean)),ft(this.zone),dt(this.destroyRef)).subscribe(()=>{this.charts.forEach(e=>e.onHovered(NaN))})}getContext(e,t){return this.computeContext(...this.charts.map(({value:r})=>r))[e]||[]}raise(e,t){let r=this.charts.map(l=>l.value[e]??[0,0]),s=[...r].sort((l,u)=>l[1]-u[1]);this.charts.forEach(l=>l.onHovered(e)),this.chartsRef.forEach(({nativeElement:l},u)=>this.renderer.setStyle(l,"z-index",s.indexOf(r[u]??[0,0])))}computeContext(...e){return(e[0]||[]).map((t,r)=>e.map(s=>s[r]??[0,0]))}};n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=D({type:n,selectors:[["","tuiLineChartHint",""]],contentQueries:function(t,r,s){if(t&1&&(be(s,Vt,4),be(s,Vt,4,X)),t&2){let l;Y(l=j())&&(r.charts=l),Y(l=j())&&(r.chartsRef=l)}},inputs:{hint:[0,"tuiLineChartHint","hint"]},features:[T([Oe])]});let i=n;return q([fe],i.prototype,"computeContext",null),i})();function Yi(i){return U(i.map(({drivers:n})=>ut(n).pipe(F(o=>o.map(e=>e.pipe(G(!1))))))).pipe(F(n=>n.reduce((o,e)=>o.concat(e),[])),te(n=>U(n)),F(n=>n.some(Boolean)),A())}var Vt=(()=>{let n=class n{constructor(){this.zone=d(k),this.options=d(Ni),this.hover$=new y,this.autoId=mt(),this.resize=he(d(De,{self:!0}).pipe(F(([e])=>(e==null?void 0:e.contentRect.height)||0)),{initialValue:0}),this.box=Ge(""),this.hintDirective=d(Hi,{optional:!0}),this.hintOptions=d(Ct,{optional:!0}),this.viewBox=st(()=>{let e=this.height/Math.max(this.resize(),1),[t=0,r=0,s=0,l=0]=this.box().split(" ").map(Number);return`${t} ${r-e} ${s} ${l+2*e}`}),this.drivers=de,this.x=0,this.y=0,this.width=0,this.height=0,this.smoothingFactor=this.options.smoothingFactor,this.xStringify=null,this.yStringify=null,this.filled=this.options.filled,this.dots=this.options.dots,this.value=[]}set valueSetter(e){this.value=e.filter(t=>!t.some(Number.isNaN))}ngOnChanges(){this.box.set(`${this.x} ${this.y} ${this.width} ${this.height}`)}onHovered(e){this.hover$.next(e)}get hovered$(){return this.hover$.pipe(A(),pt(this.zone))}get hintContent(){var e;return((e=this.hintOptions)==null?void 0:e.content)||""}get fillId(){return`tui-line-chart-${this.autoId}`}get fill(){return this.filled?`url(#${this.fillId})`:"none"}get d(){return this.getD(this.value,this.smoothingFactor)}get fillD(){var e,t;return this.value.length?`${this.d}V ${this.y} H ${(e=this.value[0])==null?void 0:e[0]} V ${(t=this.value[0])==null?void 0:t[1]}`:this.d}get isFocusable(){return!this.hintDirective&&this.hasHints}get hasHints(){var e;return!!this.xStringify||!!this.yStringify||!!((e=this.hintDirective)!=null&&e.hint)||!!this.hintContent}onMouseLeave(){this.hintDirective||this.onHovered(NaN)}getX(e){var t,r,s,l;return this.isSinglePoint?(((t=this.value[0])==null?void 0:t[0])||0)/2:e?((((r=this.value[e-1])==null?void 0:r[0])||0)+(((s=this.value[e])==null?void 0:s[0])||0))/2:2*(((l=this.value[0])==null?void 0:l[0])||0)-this.getX(1)}getWidth(e){return 100*this.computeWidth(e)/this.width}getHintId(e){return`${this.autoId}_${e}`}getImplicit(e){var t;return((t=this.hintDirective)==null?void 0:t.getContext(this.value.indexOf(e),this))??e}getHovered(e){return ht(e)&&Number.isInteger(e)?this.value[e]??null:null}getBottom(e){return 100*(e-this.y)/this.height}getLeft(e){return 100*(e-this.x)/this.width}getOffset(e){var t;return 100*((((t=this.value[e])==null?void 0:t[0])||0)-this.getX(e))/this.computeWidth(e)}onMouseEnter(e){this.hintDirective?this.hintDirective.raise(e,this):this.onHovered(e)}get isSinglePoint(){return this.value.length===1}getD(e,t){return e.reduce((r,s,l)=>l?`${r} ${At(e,l,t)}`:`M ${s}`,"")}computeWidth(e){var t;return e===this.value.length-1?2*((((t=this.value[e])==null?void 0:t[0])||0)-this.getX(e)):this.getX(e+1)-this.getX(e)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=O({type:n,selectors:[["tui-line-chart"]],viewQuery:function(t,r){if(t&1&&se(bt,5),t&2){let s;Y(s=j())&&(r.drivers=s)}},hostBindings:function(t,r){t&1&&Ce("mouseleave",function(){return r.onMouseLeave()})},inputs:{x:"x",y:"y",width:"width",height:"height",smoothingFactor:"smoothingFactor",xStringify:"xStringify",yStringify:"yStringify",filled:"filled",dots:"dots",valueSetter:[0,"value","valueSetter"]},features:[T([De],[yt({direction:"top",hideDelay:0})]),ne],decls:2,vars:3,consts:[["hintHost",""],[4,"tuiLet"],["focusable","false","height","100%","preserveAspectRatio","none","width","100%","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["x1","0","x2","0","y1","1","y2","0"],["offset","0%","stop-color","currentColor","stop-opacity","0.5"],["offset","100%","stop-color","currentColor","stop-opacity","0"],["stroke","none"],["fill","none","stroke","currentColor","stroke-width","2","vector-effect","non-scaling-stroke"],[4,"ngIf"],["class","t-dot",3,"bottom","left",4,"ngFor","ngForOf"],[1,"t-dot"],[4,"ngFor","ngForOf"],["class","t-column",3,"t-column_hint_hovered","t-column_hovered","left","width","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost","mouseenter",4,"ngIf"],["class","t-line t-line_horizontal",3,"bottom",4,"ngIf"],[1,"t-column",3,"mouseenter","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost"],[1,"t-line","t-line_vertical"],[1,"t-host",3,"id","tabIndex"],[1,"t-line","t-line_horizontal"],["class","t-hint t-hint_x",3,"left",4,"ngIf"],["class","t-hint t-hint_y",3,"bottom",4,"ngIf"],[1,"t-hint","t-hint_x"],[1,"t-hint","t-hint_y"]],template:function(t,r){t&1&&(_(0,Ai,11,8,"ng-container",1),we(1,"async")),t&2&&f("tuiLet",Se(1,1,r.hovered$))},dependencies:[at,le,ce,wt,St,Et,_t],styles:['[_nghost-%COMP%]{display:flex;inline-size:100%;block-size:100%;pointer-events:none}.t-svg[_ngcontent-%COMP%]{block-size:calc(100% + 1px);transform:scaleY(-1);margin:-.03125rem 0}.t-column[_ngcontent-%COMP%]{position:absolute;top:0;block-size:100%;pointer-events:auto}.t-dot[_ngcontent-%COMP%]{position:absolute;inline-size:.375rem;block-size:.375rem;border-radius:100%;background:currentColor;margin:-.1875rem;box-shadow:0 0 0 2px #fff}.t-host[_ngcontent-%COMP%]{position:absolute;left:50%;inline-size:.5rem;block-size:.5rem;border-radius:100%;opacity:0;background:#fff;margin:-.25rem;box-shadow:0 0 0 2px currentColor,0 .0625rem .1875rem .125rem #0000001a;outline:none;pointer-events:none}.t-host[_ngcontent-%COMP%]:focus, .t-column_hovered[_ngcontent-%COMP%]   .t-host[_ngcontent-%COMP%], .t-column[_ngcontent-%COMP%]:hover   .t-host[_ngcontent-%COMP%], .t-column_hint_hovered[_ngcontent-%COMP%]   .t-host[_ngcontent-%COMP%]{opacity:1}.t-line[_ngcontent-%COMP%]{position:absolute;opacity:0;background:var(--tui-border-normal)}.t-line_vertical[_ngcontent-%COMP%]{top:0;bottom:0;left:50%;inline-size:1px}.t-line_horizontal[_ngcontent-%COMP%]{z-index:-1;inline-size:100%;block-size:1px}[style^="z-index: 0"][_nghost-%COMP%]   .t-column_hovered[_ngcontent-%COMP%]   .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column[_ngcontent-%COMP%]:hover   .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column_hint_hovered[_ngcontent-%COMP%]   .t-line[_ngcontent-%COMP%], [style^="z-index: 0"][_nghost-%COMP%]   .t-column_hovered[_ngcontent-%COMP%] + .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column[_ngcontent-%COMP%]:hover + .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column_hint_hovered[_ngcontent-%COMP%] + .t-line[_ngcontent-%COMP%]{opacity:1}.t-hint[_ngcontent-%COMP%]{position:absolute;box-shadow:var(--tui-shadow-small);font:var(--tui-font-text-xs);block-size:1.25rem;line-height:1.25rem;margin-bottom:-.625rem;padding:0 .375rem;white-space:nowrap;color:var(--tui-text-primary);background:var(--tui-background-base);transform:translate3d(-50%,0,0)}.t-hint_x[_ngcontent-%COMP%]{bottom:0}.t-hint_y[_ngcontent-%COMP%]{left:0}'],changeDetection:0});let i=n;return q([fe],i.prototype,"hovered$",null),q([fe],i.prototype,"getD",null),i})();export{$i as a,rn as b,on as c,sn as d,Gn as e,ni as f,Xn as g,er as h,Ni as i,Hi as j,Yi as k,Vt as l};
