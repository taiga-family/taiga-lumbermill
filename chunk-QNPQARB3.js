import{Za as B,ba as a,c as M,d as x,j as N,p as k}from"./chunk-HKEBS2H4.js";import{$b as A,Da as d,Db as w,Dc as j,Ec as g,Ed as E,Ie as F,Ka as y,Na as _,Ra as h,Ta as u,Te as H,ab as I,bb as O,c as f,ca as s,db as C,eb as T,jb as S,kb as D,m,pd as R,q as l,s as v,sb as P,ub as b,ud as c}from"./chunk-AWAERE4K.js";var J=()=>({});function Y(i,e){if(i&1&&(C(0),P(1),T()),i&2){let n=e.polymorpheusOutlet;d(),b(" ",n," ")}}function q(i,e){if(i&1&&(I(0,"div",1),h(1,Y,2,1,"ng-container",2),O()),i&2){let n=D();u("@tuiFadeIn",n.options)("@tuiHeightCollapse",n.options),d(),u("polymorpheusOutlet",n.error.message||n.default())("polymorpheusOutletContext",n.error.context||w(4,J))}}var st=(()=>{let e=class e{constructor(){this.options=N(s(F)),this.error=null,this.visible=!0,this.default=R(s(H))}set errorSetter(t){this.error=c(t)?new a(t):t}onAnimation(t){this.visible=t}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=y({type:e,selectors:[["tui-error"]],hostBindings:function(r,o){r&1&&S("animationcancel.self",function(){return o.onAnimation(!1)})("animationstart.self",function(){return o.onAnimation(!0)})},inputs:{errorSetter:[0,"error","errorSetter"]},decls:1,vars:1,consts:[["automation-id","tui-error__text","class","t-message-text",4,"ngIf"],["automation-id","tui-error__text",1,"t-message-text"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(r,o){r&1&&h(0,q,2,5,"div",0),r&2&&u("ngIf",o.error&&o.visible)},dependencies:[A,k],styles:['[_nghost-%COMP%]{display:block;font:var(--tui-font-text-s);color:var(--tui-text-negative);overflow-wrap:break-word;animation:tuiPresent 1s infinite}.t-message-text[_ngcontent-%COMP%]{white-space:pre-line}.t-message-text[_ngcontent-%COMP%]:before{content:"";line-height:1.5rem;vertical-align:bottom}'],data:{animation:[M,x]},changeDetection:0});let i=e;return i})();var z={};function U(i,e){return i.pipe(v(n=>new a(n||"",e)))}function V(i,e){return l(new a(i||"",e))}var vt=(()=>{let e=class e{constructor(){this.order=[],this.parent=s(g,{skipSelf:!0,optional:!0}),this.self=s(g,{self:!0,optional:!0}),this.container=s(j,{optional:!0}),this.validationErrors=s(B),this.self&&!this.self.valueAccessor&&(this.self.valueAccessor=this)}transform(t){return this.order=t,this.computedError}registerOnChange(){}registerOnTouched(){}setDisabledState(){}writeValue(){}get computedError(){return this.invalid&&this.touched&&this.error||l(null)}get error(){let{errorId:t}=this;if(!t)return null;let r=this.controlErrors[t],o=this.validationErrors[t];return this.getError(r,o)}get invalid(){var t;return!!((t=this.control)!=null&&t.invalid)}get touched(){var t;return!!((t=this.control)!=null&&t.touched)}get control(){var t,r,o;return((t=this.self)==null?void 0:t.control)||((r=this.parent)==null?void 0:r.control)||((o=this.container)==null?void 0:o.control)}get errorId(){return this.getErrorId(this.order,this.controlErrors)}get controlErrors(){var t;return((t=this.control)==null?void 0:t.errors)||z}getError(t,r){if(t instanceof a)return l(t);if(r===void 0&&c(t))return l(new a(t));if(r instanceof f)return U(r,t);if(r instanceof Function){let o=r(t);return o instanceof f?U(o,t):V(o,t)}return V(r,t)}getErrorId(t,r){let o=t==null?void 0:t.find(L=>r[L]),p=Object.keys(r)[0];return o||p||""}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=_({name:"tuiFieldError",type:e,pure:!1});let i=e;return m([E],i.prototype,"getError",null),m([E],i.prototype,"getErrorId",null),i})();export{st as a,vt as b};
