import{V as N,da as a,db as V,h as b,n as F}from"./chunk-FTG5GHKP.js";import{Fb as x,Ga as f,Hc as M,Ic as h,Jd as g,Na as E,Qa as y,Ta as m,Wa as d,Ya as _,Ye as j,c,da as n,db as O,dc as D,eb as I,gb as C,hb as w,jf as R,m as p,mb as P,q as u,s as v,td as A,ub as T,wb as S,yd as l}from"./chunk-JZ55HZLP.js";var H=()=>({});function J(o,e){if(o&1&&(C(0),T(1),w()),o&2){let s=e.polymorpheusOutlet;f(),S(" ",s," ")}}function Y(o,e){if(o&1&&(O(0,"div",1),m(1,J,2,1,"ng-container",2),I()),o&2){let s=P();f(),d("polymorpheusOutlet",s.error.message||s.default())("polymorpheusOutletContext",s.error.context||x(2,H))}}var nt=(()=>{let e=class e{constructor(){this.options=N(n(j)),this.error=null,this.visible=!0,this.default=A(n(R))}set errorSetter(t){this.error=l(t)?new a(t):t}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=E({type:e,selectors:[["tui-error"]],hostVars:2,hostBindings:function(r,i){r&2&&_("_error",i.error)},inputs:{errorSetter:[0,"error","errorSetter"]},decls:1,vars:1,consts:[["automation-id","tui-error__text","tuiAnimated","","class","t-message-text",4,"ngIf"],["automation-id","tui-error__text","tuiAnimated","",1,"t-message-text"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(r,i){r&1&&m(0,Y,2,3,"div",0),r&2&&d("ngIf",i.error)},dependencies:[D,F,b],styles:['[_nghost-%COMP%]{transition-property:grid-template-rows;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:grid;font:var(--tui-font-text-s);color:var(--tui-text-negative);overflow-wrap:break-word;grid-template-rows:0fr}._error[_nghost-%COMP%]{grid-template-rows:1fr}.t-message-text[_ngcontent-%COMP%]{white-space:pre-line;grid-row:1 / span 2;overflow:hidden}.t-message-text.tui-enter[_ngcontent-%COMP%], .t-message-text.tui-leave[_ngcontent-%COMP%]{animation-name:tuiFade}.t-message-text[_ngcontent-%COMP%]:before{content:"";line-height:1.5rem;vertical-align:bottom}'],changeDetection:0});let o=e;return o})();var q={};function k(o,e){return o.pipe(v(s=>new a(s||"",e)))}function U(o,e){return u(new a(o||"",e))}var vt=(()=>{let e=class e{constructor(){this.order=[],this.parent=n(h,{skipSelf:!0,optional:!0}),this.self=n(h,{self:!0,optional:!0}),this.container=n(M,{optional:!0}),this.validationErrors=n(V),this.self&&!this.self.valueAccessor&&(this.self.valueAccessor=this)}transform(t){return this.order=t,this.computedError}registerOnChange(){}registerOnTouched(){}setDisabledState(){}writeValue(){}get computedError(){return this.invalid&&this.touched&&this.error||u(null)}get error(){let{errorId:t}=this;if(!t)return null;let r=this.controlErrors[t],i=this.validationErrors[t];return this.getError(r,i)}get invalid(){var t;return!!((t=this.control)!=null&&t.invalid)}get touched(){var t;return!!((t=this.control)!=null&&t.touched)}get control(){var t,r,i;return((t=this.self)==null?void 0:t.control)||((r=this.parent)==null?void 0:r.control)||((i=this.container)==null?void 0:i.control)}get errorId(){return this.getErrorId(this.order,this.controlErrors)}get controlErrors(){var t;return((t=this.control)==null?void 0:t.errors)||q}getError(t,r){if(t instanceof a)return u(t);if(r===void 0&&l(t))return u(new a(t));if(r instanceof c)return k(r,t);if(r instanceof Function){let i=r(t);return i instanceof c?k(i,t):U(i,t)}return U(r,t)}getErrorId(t,r){let i=t==null?void 0:t.find(L=>r[L]),[B]=Object.keys(r);return i||B||""}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=y({name:"tuiFieldError",type:e,pure:!1});let o=e;return p([g],o.prototype,"getError",null),p([g],o.prototype,"getErrorId",null),o})();export{nt as a,vt as b};
