import{b as J,c as we}from"./chunk-2B4QJMII.js";import{b as xe,c as Ce,d as be}from"./chunk-YB47W25I.js";import{a as ye}from"./chunk-FJMUGEEG.js";import{Q as Tt,ta as Se,ua as Ee,va as Oe,wa as De,ya as Ie,za as Te}from"./chunk-574PB4GQ.js";import{Aa as B,Ba as Kt,D as st,F as ot,Gb as P,Hb as k,Ia as l,Ja as g,Kb as ae,L as Vt,La as Jt,M as V,Na as te,Oa as ee,Ob as Et,P as jt,Pb as Ot,Qa as ie,Qd as mt,Ra as bt,S as Ht,Ta as ne,Ua as _,V as Q,Va as re,W as at,Wa as R,X as q,Xa as u,Xb as Dt,Ya as x,Yb as le,Yd as ge,Za as w,Zb as ce,_b as de,ac as K,ba as Yt,ca as L,dc as ht,dd as fe,df as Pt,ea as F,eb as p,ec as ut,f as Ft,fa as b,fb as f,fd as ft,ga as v,gb as y,gc as he,h as it,ha as $t,hb as j,ia as Wt,ib as H,id as pt,j as Bt,k as C,kb as se,lc as ue,ma as I,n as At,nb as wt,o as Nt,oa as T,ob as h,od as pe,pa as Ut,pb as Y,qa as lt,qb as M,r as nt,ra as Xt,rb as St,sa as Gt,sb as dt,sd as It,ta as ct,tb as $,td as gt,u as z,ub as W,ue as me,v as rt,va as Zt,vb as oe,w as N,wa as Qt,wb as S,x as Z,xa as qt,ya as D,yb as E,ye as _e,z as Ct,ze as ve}from"./chunk-NM5VJQED.js";var Zi=(()=>{let i=class i{transform(t){return xe(t)}};i.\u0275fac=function(n){return new(n||i)},i.\u0275pipe=Ut({name:"tuiAutoColor",type:i,pure:!0,standalone:!0});let e=i;return e})();var $e=["tuiProgressLabel",""],We=[[["progress"]],[["tui-progress-circle"]],"*"],Ue=["progress","tui-progress-circle","*"],Pe={color:null,size:"m"},ke=pt(Pe);function cn(e){return It(ke,e,Pe)}var dn=(()=>{let i=class i{constructor(){this.options=v(ke),this.animationDelay=ft(z(!0).pipe(Vt(0))),this.value=0,this.max=1,this.color=this.options.color,this.size=this.options.size}get progressRatio(){let t=this.value/this.max;return Number.isFinite(t)?t:0}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=I({type:i,selectors:[["tui-progress-circle"]],hostVars:5,hostBindings:function(n,r){n&2&&(R("data-size",r.size),x("--tui-progress-color",r.color)("--t-progress-ratio",r.progressRatio))},inputs:{value:"value",max:"max",color:"color",size:"size"},standalone:!0,features:[k],decls:4,vars:4,consts:[[1,"t-hidden-progress",3,"max","value"],["aria-hidden","true","height","100%","width","100%",1,"t-svg"],["cx","50%","cy","50%",1,"t-track"],["cx","50%","cy","50%",1,"t-progress"]],template:function(n,r){n&1&&(y(0,"progress",0),ct(),p(1,"svg",1),y(2,"circle",2)(3,"circle",3),f()),n&2&&(u("max",r.max)("value",r.value),l(3),w("t-progress_filled",r.animationDelay()))},styles:["[_nghost-%COMP%]{--t-track-stroke: var(--tui-thickness, .375em);--t-progress-stroke: var(--tui-thickness, .375em);position:relative;display:block;color:var(--tui-background-accent-1);transform:rotate(-90deg);transform-origin:center;font-size:1rem;inline-size:var(--t-diameter);block-size:var(--t-diameter)}[data-size=xxs][_nghost-%COMP%]{--t-diameter: 2em}[data-size=xs][_nghost-%COMP%]{--t-diameter: 2.5em}[data-size=s][_nghost-%COMP%]{--t-diameter: 3.5em}[data-size=m][_nghost-%COMP%]{--t-diameter: 4em}[data-size=l][_nghost-%COMP%]{--t-diameter: 5em}[data-size=xl][_nghost-%COMP%]{--t-diameter: 6em}[data-size=xxl][_nghost-%COMP%]{--t-diameter: 8em}.t-track[_ngcontent-%COMP%]{fill:transparent;stroke:var(--tui-background-neutral-1);stroke-width:var(--t-track-stroke);r:calc((var(--t-diameter) - var(--t-track-stroke)) / 2)}.t-progress[_ngcontent-%COMP%]{fill:transparent;stroke:var(--tui-progress-color, currentColor);stroke-linecap:round;stroke-width:var(--t-progress-stroke);stroke-dasharray:calc(2 * 3.14159265 * calc((var(--t-diameter) - var(--t-progress-stroke)) / 2));stroke-dashoffset:calc(2 * 3.14159265 * calc((var(--t-diameter) - var(--t-progress-stroke)) / 2));r:calc((var(--t-diameter) - var(--t-progress-stroke)) / 2)}.t-progress_filled[_ngcontent-%COMP%]{transition:stroke-dashoffset var(--tui-duration) linear;stroke-dashoffset:calc(calc(2 * 3.14159265 * calc((var(--t-diameter) - var(--t-progress-stroke)) / 2)) - var(--t-progress-ratio) * calc(2 * 3.14159265 * calc((var(--t-diameter) - var(--t-progress-stroke)) / 2)))}.t-hidden-progress[_ngcontent-%COMP%]{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(50%);block-size:1px;inline-size:1px;margin:-1px;overflow:hidden;padding:0}.t-svg[_ngcontent-%COMP%]{overflow:unset}"],changeDetection:0});let e=i;return e})(),hn=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=I({type:i,selectors:[["label","tuiProgressLabel",""]],standalone:!0,features:[k],attrs:$e,ngContentSelectors:Ue,decls:4,vars:0,consts:[[1,"t-label"]],template:function(n,r){n&1&&(Y(We),M(0),M(1,1),p(2,"span",0),M(3,2),f())},styles:["[_nghost-%COMP%]{position:relative;display:inline-block;color:var(--tui-text-primary)}.t-label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex;font:var(--tui-font-text-s);flex-direction:column;justify-content:center;align-items:center}"],changeDetection:0});let e=i;return e})();var kt;try{kt=typeof Intl<"u"&&Intl.v8BreakIterator}catch{kt=!1}var tt=(()=>{let i=class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?ue(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||kt)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};i.\u0275fac=function(n){return new(n||i)(b(Kt))},i.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var O=function(e){return e[e.NORMAL=0]="NORMAL",e[e.NEGATED=1]="NEGATED",e[e.INVERTED=2]="INVERTED",e}(O||{}),_t,A;function ze(){if(A==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return A=!1,A;if("scrollBehavior"in document.documentElement.style)A=!0;else{let e=Element.prototype.scrollTo;e?A=!/\{\s*\[native code\]\s*\}/.test(e.toString()):A=!1}}return A}function X(){if(typeof document!="object"||!document)return O.NORMAL;if(_t==null){let e=document.createElement("div"),i=e.style;e.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";let s=document.createElement("div"),t=s.style;t.width="2px",t.height="1px",e.appendChild(s),document.body.appendChild(e),_t=O.NORMAL,e.scrollLeft===0&&(e.scrollLeft=1,_t=e.scrollLeft===0?O.NEGATED:O.INVERTED),e.remove()}return _t}var Ge=new F("cdk-dir-doc",{providedIn:"root",factory:Ze});function Ze(){return v(K)}var Qe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function qe(e){let i=(e==null?void 0:e.toLowerCase())||"";return i==="auto"&&typeof navigator<"u"&&(navigator!=null&&navigator.language)?Qe.test(navigator.language)?"rtl":"ltr":i==="rtl"?"rtl":"ltr"}var vt=(()=>{let i=class i{constructor(t){if(this.value="ltr",this.change=new qt,t){let n=t.body?t.body.dir:null,r=t.documentElement?t.documentElement.dir:null;this.value=qe(n||r||"ltr")}}ngOnDestroy(){this.change.complete()}};i.\u0275fac=function(n){return new(n||i)(b(Ge,8))},i.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var Rt=class{};function Le(e){return e&&typeof e.connect=="function"&&!(e instanceof Bt)}var xt=class extends Rt{constructor(i){super(),this._data=i}connect(){return rt(this._data)?this._data:z(this._data)}disconnect(){}},et=function(e){return e[e.REPLACED=0]="REPLACED",e[e.INSERTED=1]="INSERTED",e[e.MOVED=2]="MOVED",e[e.REMOVED=3]="REMOVED",e}(et||{}),Mt=new F("_ViewRepeater");var yt=class{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(i,s,t,n,r){i.forEachOperation((o,a,d)=>{let c,m;if(o.previousIndex==null){let G=()=>t(o,a,d);c=this._insertView(G,d,s,n(o)),m=c?et.INSERTED:et.REPLACED}else d==null?(this._detachAndCacheView(a,s),m=et.REMOVED):(c=this._moveView(a,d,s,n(o)),m=et.MOVED);r&&r({context:c==null?void 0:c.context,operation:m,record:o})})}detach(){for(let i of this._viewCache)i.destroy();this._viewCache=[]}_insertView(i,s,t,n){let r=this._insertViewFromCache(s,t);if(r){r.context.$implicit=n;return}let o=i();return t.createEmbeddedView(o.templateRef,o.context,o.index)}_detachAndCacheView(i,s){let t=s.detach(i);this._maybeCacheView(t,s)}_moveView(i,s,t,n){let r=t.get(i);return t.move(r,s),r.context.$implicit=n,r}_maybeCacheView(i,s){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(i);else{let t=s.indexOf(i);t===-1?i.destroy():s.remove(t)}}_insertViewFromCache(i,s){let t=this._viewCache.pop();return t&&s.insert(t,i),t||null}};var Je=["contentWrapper"],ti=["*"],Ae=new F("VIRTUAL_SCROLL_STRATEGY"),zt=class{constructor(i,s,t){this._scrolledIndexChange=new C,this.scrolledIndexChange=this._scrolledIndexChange.pipe(V()),this._viewport=null,this._itemSize=i,this._minBufferPx=s,this._maxBufferPx=t}attach(i){this._viewport=i,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(i,s,t){t<s,this._itemSize=i,this._minBufferPx=s,this._maxBufferPx=t,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(i,s){this._viewport&&this._viewport.scrollToOffset(i*this._itemSize,s)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;let i=this._viewport.getRenderedRange(),s={start:i.start,end:i.end},t=this._viewport.getViewportSize(),n=this._viewport.getDataLength(),r=this._viewport.measureScrollOffset(),o=this._itemSize>0?r/this._itemSize:0;if(s.end>n){let d=Math.ceil(t/this._itemSize),c=Math.max(0,Math.min(o,n-d));o!=c&&(o=c,r=c*this._itemSize,s.start=Math.floor(o)),s.end=Math.max(0,Math.min(n,s.start+d))}let a=r-s.start*this._itemSize;if(a<this._minBufferPx&&s.start!=0){let d=Math.ceil((this._maxBufferPx-a)/this._itemSize);s.start=Math.max(0,s.start-d),s.end=Math.min(n,Math.ceil(o+(t+this._minBufferPx)/this._itemSize))}else{let d=s.end*this._itemSize-(r+t);if(d<this._minBufferPx&&s.end!=n){let c=Math.ceil((this._maxBufferPx-d)/this._itemSize);c>0&&(s.end=Math.min(n,s.end+c),s.start=Math.max(0,Math.floor(o-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(s),this._viewport.setRenderedContentOffset(this._itemSize*s.start),this._scrolledIndexChange.next(Math.floor(o))}};function ei(e){return e._scrollStrategy}var Gn=(()=>{let i=class i{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new zt(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=J(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=J(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=J(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}};i.\u0275fac=function(n){return new(n||i)},i.\u0275dir=T({type:i,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[P([{provide:Ae,useFactory:ei,deps:[Yt(()=>i)]}]),lt]});let e=i;return e})(),ii=20,Lt=(()=>{let i=class i{constructor(t,n,r){this._ngZone=t,this._platform=n,this._scrolled=new C,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=ii){return this._platform.isBrowser?new it(n=>{this._globalSubscription||this._addGlobalListener();let r=t>0?this._scrolled.pipe(ot(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):z()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){let r=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe(st(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){let n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,n){let r=we(n),o=t.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return Ct(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};i.\u0275fac=function(n){return new(n||i)(b(D),b(tt),b(K,8))},i.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),Ne=(()=>{let i=class i{constructor(t,n,r,o){this.elementRef=t,this.scrollDispatcher=n,this.ngZone=r,this.dir=o,this._destroyed=new C,this._elementScrolled=new it(a=>this.ngZone.runOutsideAngular(()=>Ct(this.elementRef.nativeElement,"scroll").pipe(q(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let n=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=r?t.end:t.start),t.right==null&&(t.right=r?t.start:t.end),t.bottom!=null&&(t.top=n.scrollHeight-n.clientHeight-t.bottom),r&&X()!=O.NORMAL?(t.left!=null&&(t.right=n.scrollWidth-n.clientWidth-t.left),X()==O.INVERTED?t.left=t.right:X()==O.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=n.scrollWidth-n.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let n=this.elementRef.nativeElement;ze()?n.scrollTo(t):(t.top!=null&&(n.scrollTop=t.top),t.left!=null&&(n.scrollLeft=t.left))}measureScrollOffset(t){let n="left",r="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let a=this.dir&&this.dir.value=="rtl";return t=="start"?t=a?r:n:t=="end"&&(t=a?n:r),a&&X()==O.INVERTED?t==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&X()==O.NEGATED?t==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}};i.\u0275fac=function(n){return new(n||i)(g(B),g(Lt),g(D),g(vt,8))},i.\u0275dir=T({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let e=i;return e})(),ni=20,ri=(()=>{let i=class i{constructor(t,n,r){this._platform=t,this._change=new C,this._changeListener=o=>{this._change.next(o)},this._document=r,n.runOutsideAngular(()=>{if(t.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,n=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect(),a=-o.top||t.body.scrollTop||n.scrollY||r.scrollTop||0,d=-o.left||t.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:a,left:d}}change(t=ni){return t>0?this._change.pipe(ot(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}};i.\u0275fac=function(n){return new(n||i)(b(tt),b(D),b(K,8))},i.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),Fe=new F("VIRTUAL_SCROLLABLE"),si=(()=>{let i=class i extends Ne{constructor(t,n,r,o){super(t,n,r,o)}measureViewportSize(t){let n=this.elementRef.nativeElement;return t==="horizontal"?n.clientWidth:n.clientHeight}};i.\u0275fac=function(n){return new(n||i)(g(B),g(Lt),g(D),g(vt,8))},i.\u0275dir=T({type:i,features:[bt]});let e=i;return e})();function oi(e,i){return e.start==i.start&&e.end==i.end}var ai=typeof requestAnimationFrame<"u"?Nt:At,li=(()=>{let i=class i extends si{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}constructor(t,n,r,o,a,d,c,m){super(t,d,r,a),this.elementRef=t,this._changeDetectorRef=n,this._scrollStrategy=o,this.scrollable=m,this._platform=v(tt),this._detachedSubject=new C,this._renderedRangeSubject=new C,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new it(G=>this._scrollStrategy.scrolledIndexChange.subscribe(Ye=>Promise.resolve().then(()=>this.ngZone.run(()=>G.next(Ye))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ft.EMPTY,this._injector=v(Zt),this._isDestroyed=!1,this._viewportChanges=c.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Q(null),ot(0,ai),q(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(t){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(q(this._detachedSubject)).subscribe(n=>{let r=n.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){oi(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,n="to-start"){t=this.appendOnly&&n==="to-start"?0:t;let r=this.dir&&this.dir.value=="rtl",o=this.orientation=="horizontal",a=o?"X":"Y",c=`translate${a}(${Number((o&&r?-1:1)*t)}px)`;this._renderedContentOffset=t,n==="to-end"&&(c+=` translate${a}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=c&&(this._renderedContentTransform=c,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,n="auto"){let r={behavior:n};this.orientation==="horizontal"?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,n="auto"){this._scrollStrategy.scrollToIndex(t,n)}measureScrollOffset(t){let n;return this.scrollable==this?n=r=>super.measureScrollOffset(r):n=r=>this.scrollable.measureScrollOffset(r),Math.max(0,n(t??(this.orientation==="horizontal"?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){var m;let n,r="left",o="right",a=((m=this.dir)==null?void 0:m.value)=="rtl";t=="start"?n=a?o:r:t=="end"?n=a?r:o:t?n=t:n=this.orientation==="horizontal"?"left":"top";let d=this.scrollable.measureBoundingClientRectWithScrollOffset(n);return this.elementRef.nativeElement.getBoundingClientRect()[n]-d}measureRenderedContentSize(){let t=this._contentWrapper.nativeElement;return this.orientation==="horizontal"?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,re(()=>{this._isChangeDetectionPending=!1;let t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(let n of t)n()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight=this.orientation==="horizontal"?"":`${this._totalContentSize}px`,this._totalContentWidth=this.orientation==="horizontal"?`${this._totalContentSize}px`:""}};i.\u0275fac=function(n){return new(n||i)(g(B),g(Dt),g(D),g(Ae,8),g(vt,8),g(Lt),g(ri),g(Fe,8))},i.\u0275cmp=I({type:i,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(n,r){if(n&1&&dt(Je,7),n&2){let o;$(o=W())&&(r._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(n,r){n&2&&w("cdk-virtual-scroll-orientation-horizontal",r.orientation==="horizontal")("cdk-virtual-scroll-orientation-vertical",r.orientation!=="horizontal")},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",ce]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[P([{provide:Ne,useFactory:(t,n)=>t||n,deps:[[new Wt,new $t(Fe)],i]}]),ne,bt,k],ngContentSelectors:ti,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(n,r){n&1&&(Y(),p(0,"div",1,0),M(2),f(),y(3,"div",2)),n&2&&(l(3),x("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0});let e=i;return e})();function Be(e,i,s){let t=s;if(!t.getBoundingClientRect)return 0;let n=t.getBoundingClientRect();return e==="horizontal"?i==="start"?n.left:n.right:i==="start"?n.top:n.bottom}var Zn=(()=>{let i=class i{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,Le(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new xt(rt(t)?t:Array.from(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(n,r)=>t(n+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=J(t)}constructor(t,n,r,o,a,d){this._viewContainerRef=t,this._template=n,this._differs=r,this._viewRepeater=o,this._viewport=a,this.viewChange=new C,this._dataSourceChanges=new C,this.dataStream=this._dataSourceChanges.pipe(Q(null),jt(),at(([c,m])=>this._changeDataSource(c,m)),Ht(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new C,this.dataStream.subscribe(c=>{this._data=c,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(q(this._destroyed)).subscribe(c=>{this._renderedRange=c,this.viewChange.observers.length&&d.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(t,n){if(t.start>=t.end)return 0;t.start<this._renderedRange.start||t.end>this._renderedRange.end;let r=t.start-this._renderedRange.start,o=t.end-t.start,a,d;for(let c=0;c<o;c++){let m=this._viewContainerRef.get(c+r);if(m&&m.rootNodes.length){a=d=m.rootNodes[0];break}}for(let c=o-1;c>-1;c--){let m=this._viewContainerRef.get(c+r);if(m&&m.rootNodes.length){d=m.rootNodes[m.rootNodes.length-1];break}}return a&&d?Be(n,"end",d)-Be(n,"start",a):0}ngDoCheck(){if(this._differ&&this._needsUpdate){let t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,n)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,n):n)),this._needsUpdate=!0)}_changeDataSource(t,n){return t&&t.disconnect(this),this._needsUpdate=!0,n?n.connect(this):z()}_updateContext(){let t=this._data.length,n=this._viewContainerRef.length;for(;n--;){let r=this._viewContainerRef.get(n);r.context.index=this._renderedRange.start+n,r.context.count=t,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(o,a,d)=>this._getEmbeddedViewArgs(o,d),o=>o.item),t.forEachIdentityChange(o=>{let a=this._viewContainerRef.get(o.currentIndex);a.context.$implicit=o.item});let n=this._data.length,r=this._viewContainerRef.length;for(;r--;){let o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=n,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(t){t.first=t.index===0,t.last=t.index===t.count-1,t.even=t.index%2===0,t.odd=!t.even}_getEmbeddedViewArgs(t,n){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:n}}};i.\u0275fac=function(n){return new(n||i)(g(ee),g(Jt),g(le),g(Mt),g(li,4),g(D))},i.\u0275dir=T({type:i,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[P([{provide:Mt,useClass:yt}])]});let e=i;return e})();var ci=["*"];function di(e,i){if(e&1&&(p(0,"div",14),S(1),f()),e&2){let s=h(2);l(),E(" ",s.axisYName," ")}}function hi(e,i){if(e&1&&(p(0,"div",17),S(1),f()),e&2){let s=i.$implicit,t=h(3);l(),E(" ",t.fallback(s)," ")}}function ui(e,i){if(e&1&&(p(0,"div",15),_(1,hi,2,1,"div",16),f()),e&2){let s=h(2);l(),u("ngForOf",s.axisYLabels)}}function fi(e,i){if(e&1&&(p(0,"div",11),_(1,di,2,1,"div",12)(2,ui,2,1,"div",13),f()),e&2){let s=h();w("t-side_padding",s.hasXLabels),l(),u("ngIf",s.axisYName),l(),u("ngIf",!s.axisYInset)}}function pi(e,i){if(e&1&&y(0,"div",18),e&2){let s=i.$implicit,t=h();x("border-right-style",t.verticalLinesHandler(s,t.verticalLines))}}function gi(e,i){if(e&1&&y(0,"div",19),e&2){let s=i.$implicit,t=h();x("border-top-style",t.horizontalLinesHandler(s,t.horizontalLines))}}function mi(e,i){if(e&1&&(p(0,"div",17),S(1),f()),e&2){let s=i.$implicit,t=h(2);l(),E(" ",t.fallback(s)," ")}}function _i(e,i){if(e&1&&(p(0,"div",20),_(1,mi,2,1,"div",16),f()),e&2){let s=h();l(),u("ngForOf",s.axisYLabels)}}function vi(e,i){if(e&1&&(p(0,"div",23),S(1),f()),e&2){let s=i.$implicit,t=h(2);l(),E(" ",t.fallback(s)," ")}}function xi(e,i){if(e&1&&(p(0,"div",21),_(1,vi,2,1,"div",22),f()),e&2){let s=h();l(),u("ngForOf",s.axisYSecondaryLabels)}}function yi(e,i){if(e&1&&(p(0,"div",26),S(1),f()),e&2){let s=i.$implicit,t=h(2);w("t-label-x_transparent",s===null),l(),E(" ",t.fallback(s)," ")}}function Ci(e,i){if(e&1&&(p(0,"div",24),_(1,yi,2,3,"div",25),f()),e&2){let s=h();l(),u("ngForOf",s.axisXLabels)}}function bi(e,i){if(e&1&&(p(0,"div",23),S(1),f()),e&2){let s=i.$implicit,t=h(3);l(),E(" ",t.fallback(s)," ")}}function wi(e,i){if(e&1&&(p(0,"div",29),_(1,bi,2,1,"div",22),f()),e&2){let s=h(2);l(),u("ngForOf",s.axisYSecondaryLabels)}}function Si(e,i){if(e&1&&(p(0,"div",30),S(1),f()),e&2){let s=h(2);l(),E(" ",s.axisYSecondaryName," ")}}function Ei(e,i){if(e&1&&(p(0,"div",11),_(1,wi,2,1,"div",27)(2,Si,2,1,"div",28),f()),e&2){let s=h();w("t-side_padding",s.hasXLabels),l(),u("ngIf",!s.axisYSecondaryInset),l(),u("ngIf",s.axisYSecondaryName)}}var Oi=()=>"dashed";var Di=()=>"solid";var tr=(()=>{let i=class i{constructor(){this.axisX="solid",this.axisXLabels=[],this.axisY="solid",this.axisYInset=!1,this.axisYLabels=[],this.axisYName="",this.axisYSecondaryInset=!1,this.axisYSecondaryLabels=[],this.axisYSecondaryName="",this.horizontalLines=0,this.horizontalLinesHandler=Di,this.verticalLines=0,this.verticalLinesHandler=Oi}get hasXLabels(){return!!this.axisXLabels.length}get hasYLabels(){return!!this.axisYLabels.length&&!this.axisYInset||!!this.axisYName}get hasYSecondaryLabels(){return!!this.axisYSecondaryLabels.length&&!this.axisYSecondaryInset||!!this.axisYSecondaryName}fallback(t){return t||ge}get centeredXLabels(){return this.axisY==="none"}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=I({type:i,selectors:[["tui-axes"]],hostVars:2,hostBindings:function(n,r){n&2&&w("_centered",r.centeredXLabels)},inputs:{axisX:"axisX",axisXLabels:"axisXLabels",axisY:"axisY",axisYInset:"axisYInset",axisYLabels:"axisYLabels",axisYName:"axisYName",axisYSecondaryInset:"axisYSecondaryInset",axisYSecondaryLabels:"axisYSecondaryLabels",axisYSecondaryName:"axisYSecondaryName",horizontalLines:"horizontalLines",horizontalLinesHandler:"horizontalLinesHandler",verticalLines:"verticalLines",verticalLinesHandler:"verticalLinesHandler"},standalone:!0,features:[k],ngContentSelectors:ci,decls:13,vars:11,consts:[["class","t-side",3,"t-side_padding",4,"ngIf"],[1,"t-wrapper"],[1,"t-grid"],[1,"t-vertical"],["automation-id","tui-axex__vertical-line","class","t-line t-line_vertical",3,"borderRightStyle",4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-horizontal"],["automation-id","tui-axex__horizontal-line","class","t-line",3,"borderTopStyle",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["class","t-labels-y t-labels-y_inset",4,"ngIf"],["class","t-labels-y t-labels-y_inset t-labels-y_inset_secondary",4,"ngIf"],[1,"t-content"],["class","t-labels-x",4,"ngIf"],[1,"t-side"],["automation-id","tui-axex__axis-y-name","class","t-name t-name_primary",4,"ngIf"],["class","t-labels-y t-labels-y_primary",4,"ngIf"],["automation-id","tui-axex__axis-y-name",1,"t-name","t-name_primary"],[1,"t-labels-y","t-labels-y_primary"],["automation-id","tui-axex__axis-y-label","class","t-label-y",4,"ngFor","ngForOf"],["automation-id","tui-axex__axis-y-label",1,"t-label-y"],["automation-id","tui-axex__vertical-line",1,"t-line","t-line_vertical"],["automation-id","tui-axex__horizontal-line",1,"t-line"],[1,"t-labels-y","t-labels-y_inset"],[1,"t-labels-y","t-labels-y_inset","t-labels-y_inset_secondary"],["automation-id","tui-axex__axis-y-secondary-label","class","t-label-y",4,"ngFor","ngForOf"],["automation-id","tui-axex__axis-y-secondary-label",1,"t-label-y"],[1,"t-labels-x"],["automation-id","tui-axex__axis-x-label","class","t-label-x",3,"t-label-x_transparent",4,"ngFor","ngForOf"],["automation-id","tui-axex__axis-x-label",1,"t-label-x"],["class","t-labels-y t-labels-y_secondary",4,"ngIf"],["automation-id","tui-axex__axis-y-secondary-name","class","t-name",4,"ngIf"],[1,"t-labels-y","t-labels-y_secondary"],["automation-id","tui-axex__axis-y-secondary-name",1,"t-name"]],template:function(n,r){n&1&&(Y(),_(0,fi,3,4,"div",0),p(1,"div",1)(2,"div",2)(3,"div",3),_(4,pi,1,2,"div",4),f(),p(5,"div",5),_(6,gi,1,2,"div",6),f(),_(7,_i,2,1,"div",7)(8,xi,2,1,"div",8),p(9,"div",9),M(10),f()(),_(11,Ci,2,1,"div",10),f(),_(12,Ei,3,4,"div",0)),n&2&&(u("ngIf",r.hasYLabels),l(2),x("border-bottom-style",r.axisX)("border-left-style",r.axisY),l(2),u("tuiRepeatTimesOf",r.verticalLines),l(2),u("tuiRepeatTimesOf",r.horizontalLines),l(),u("ngIf",r.axisYInset),l(),u("ngIf",r.axisYSecondaryInset),l(3),u("ngIf",r.hasXLabels),l(),u("ngIf",r.hasYSecondaryLabels))},dependencies:[ht,ut,be],styles:['[_nghost-%COMP%]{display:flex}.t-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;block-size:100%;flex-direction:column}.t-grid[_ngcontent-%COMP%]{position:relative;display:flex;flex:1;justify-content:space-around;align-items:flex-end;border-width:1px;border-color:var(--tui-border-normal);isolation:isolate}.t-horizontal[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex;flex-direction:column}.t-vertical[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex}._centered[_nghost-%COMP%]   .t-vertical[_ngcontent-%COMP%]:after{content:"";display:block;flex:1 0 1px}.t-line[_ngcontent-%COMP%]{flex:2 0 1px;box-sizing:border-box;border-width:1px;border-color:var(--tui-border-normal)}._centered[_nghost-%COMP%]   .t-line_vertical[_ngcontent-%COMP%]:first-child{flex:1 0 1px;pointer-events:none}.t-side[_ngcontent-%COMP%]{display:flex;align-items:stretch}.t-side_padding[_ngcontent-%COMP%]{padding-bottom:2rem}.t-name[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);writing-mode:tb;text-align:center;padding-left:.75rem;color:var(--tui-text-secondary)}.t-name_primary[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-labels-y[_ngcontent-%COMP%]{display:flex;font:var(--tui-font-text-xs);flex-direction:column-reverse;justify-content:space-between;color:var(--tui-text-secondary)}.t-labels-y_primary[_ngcontent-%COMP%]{text-align:end;padding-right:.75rem}.t-labels-y_secondary[_ngcontent-%COMP%]{padding-left:.75rem}.t-labels-y_transparent[_ngcontent-%COMP%]{border-color:transparent}.t-labels-y_inset[_ngcontent-%COMP%]{position:absolute;top:.5625rem;left:.25rem;bottom:-.75rem;pointer-events:none}.t-labels-y_inset_secondary[_ngcontent-%COMP%]{left:auto;right:.25rem;text-align:end}.t-labels-x[_ngcontent-%COMP%]{position:relative;display:flex;font:var(--tui-font-text-xs);border-inline-end:1px solid transparent;color:var(--tui-text-secondary)}.t-label-x[_ngcontent-%COMP%]{block-size:.4375rem;border-inline-start:1px solid var(--tui-border-normal);flex:1;margin-bottom:1.5625rem}.t-label-x[_ngcontent-%COMP%]:before{content:"";display:block;block-size:.5625rem}.t-label-x_transparent[_ngcontent-%COMP%]{border-color:transparent}._centered[_nghost-%COMP%]   .t-label-x[_ngcontent-%COMP%]{block-size:2rem;text-align:center;border:none;margin:0}[_nghost-%COMP%]:not(._centered)   .t-label-x[_ngcontent-%COMP%]:last-child:not(:first-child){position:absolute;right:0;text-align:end;border-inline-start:none}.t-label-y[_ngcontent-%COMP%]:first-child{margin-bottom:-.375rem}.t-label-y[_ngcontent-%COMP%]:last-child{margin-top:-.375rem}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:-1px;right:0;bottom:-1px;display:flex;align-items:flex-end}'],changeDetection:0});let e=i;return e})();function Ii(e,i){let s=i[0]-e[0],t=i[1]-e[1];return Math.atan2(t,s)}function Ti(e,i){let s=i[0]-e[0],t=i[1]-e[1];return Math.sqrt(s**2+t**2)}function Ve(e,i,s,t=!1,n=.2){let r=e||[0,0],o=i||e||[0,0],a=s||e||[0,0],d=Ii(o,a)+(t?Math.PI:0),c=Ti(o,a)*n,m=r[0]+Math.cos(d)*c,G=r[1]+Math.sin(d)*c;return[m,G]}function Pi(e,i,s){let[t,n]=Ve(e[i-1],e[i-2],e[i],!1,s),[r,o]=Ve(e[i],e[i-1],e[i+1],!0,s),a=e[i]??[0,0];return`C ${t},${n} ${r},${o} ${a[0]},${a[1]}`}function ki(e){return`L ${e}`}var Ri=500;function je(e,i,s){let t=[...e[i]??[0,0]];return s?Pi(e,i,s/Ri):ki([t[0],t[1]])}var Mi=(e,i)=>({$implicit:e,index:i});function zi(e,i){if(e&1&&y(0,"div",10),e&2){let s=i.$implicit,t=h(3);x("bottom",t.getBottom(s[1]),"%")("left",t.getLeft(s[0]),"%")}}function Li(e,i){if(e&1&&(j(0),_(1,zi,1,4,"div",9),H()),e&2){let s=h(2);l(),u("ngForOf",s.value)}}function Fi(e,i){if(e&1){let s=se();p(0,"div",14),Et(1,"async"),wt("mouseenter",function(){Xt(s);let n=h().index,r=h(3);return Gt(r.onMouseEnter(n))}),y(2,"div",15)(3,"div",16,0),f()}if(e&2){let s=oe(4),t=h(),n=t.$implicit,r=t.index,o=h(2).tuiLet,a=h();x("left",a.getLeft(a.getX(r)),"%")("width",a.getWidth(r),"%"),w("t-column_hint_hovered",Ot(1,20,a.drivers.get(r)))("t-column_hovered",o===r),u("tuiHint",(a.hintDirective==null?null:a.hintDirective.hint)||a.hintContent)("tuiHintContext",ae(22,Mi,a.getImplicit(n),r))("tuiHintDescribe",a.isFocusable?a.getHintId(r):null)("tuiHintHost",s),l(2),x("left",a.getOffset(r),"%"),l(),x("bottom",a.getBottom(n[1]),"%")("left",a.getOffset(r),"%"),u("id",a.getHintId(r))("tabIndex",a.isFocusable?0:-1)}}function Bi(e,i){if(e&1&&y(0,"div",17),e&2){let s=h().$implicit,t=h(3);x("bottom",t.getBottom(s[1]),"%")}}function Ai(e,i){if(e&1&&(j(0),_(1,Fi,5,25,"div",12)(2,Bi,1,2,"div",13),H()),e&2){let s=h(3);l(),u("ngIf",s.value.length>1||s.dots),l(),u("ngIf",s.isFocusable)}}function Ni(e,i){if(e&1&&(j(0),_(1,Ai,3,2,"ng-container",11),H()),e&2){let s=h(2);l(),u("ngForOf",s.value)}}function Vi(e,i){if(e&1&&(p(0,"div",20),S(1),f()),e&2){let s=h().ngIf,t=h(2);x("left",t.getLeft(s[0]),"%"),l(),E(" ",t.xStringify(s[0])," ")}}function ji(e,i){if(e&1&&(p(0,"div",21),S(1),f()),e&2){let s=h().ngIf,t=h(2);x("bottom",t.getBottom(s[1]),"%"),l(),E(" ",t.yStringify(s[1])," ")}}function Hi(e,i){if(e&1&&(j(0),_(1,Vi,2,3,"div",18)(2,ji,2,3,"div",19),H()),e&2){let s=h(2);l(),u("ngIf",s.xStringify),l(),u("ngIf",s.yStringify)}}function Yi(e,i){if(e&1&&(j(0),ct(),p(1,"svg",2)(2,"defs")(3,"linearGradient",3),y(4,"stop",4)(5,"stop",5),f()(),y(6,"path",6)(7,"path",7),f(),_(8,Li,2,1,"ng-container",8)(9,Ni,2,1,"ng-container",8)(10,Hi,3,2,"ng-container",8),H()),e&2){let s=i.tuiLet,t=h();l(),R("viewBox",t.viewBox()),l(2),R("id",t.fillId),l(3),R("d",t.fillD)("fill",t.fill),l(),R("d",t.d),l(),u("ngIf",t.dots),l(),u("ngIf",t.hasHints),l(),u("ngIf",t.getHovered(s))}}var $i={dots:!1,filled:!1,smoothingFactor:0},Wi=pt($i);var Ui=(()=>{let i=class i{constructor(){this.charts=mt,this.chartsRef=mt,this.renderer=v(te),this.destroyRef=v(Qt),this.zone=v(D),this.hovered$=v(Tt)}ngAfterViewInit(){Z([Xi(this.charts),this.hovered$]).pipe(st(t=>!t.some(Boolean)),_e(this.zone),fe(this.destroyRef)).subscribe(()=>{this.charts.forEach(t=>t.onHovered(NaN))})}getContext(t,n){return this.computeContext(...this.charts.map(({value:r})=>r))[t]||[]}raise(t,n){let r=this.charts.map(a=>a.value[t]??[0,0]),o=[...r].sort((a,d)=>a[1]-d[1]);this.charts.forEach(a=>a.onHovered(t)),this.chartsRef.forEach(({nativeElement:a},d)=>this.renderer.setStyle(a,"z-index",o.indexOf(r[d]??[0,0])))}computeContext(...t){return(t[0]||[]).map((n,r)=>t.map(o=>o[r]??[0,0]))}};i.\u0275fac=function(n){return new(n||i)},i.\u0275dir=T({type:i,selectors:[["","tuiLineChartHint",""]],contentQueries:function(n,r,o){if(n&1&&(St(o,He,4),St(o,He,4,B)),n&2){let a;$(a=W())&&(r.charts=a),$(a=W())&&(r.chartsRef=a)}},inputs:{hint:[0,"tuiLineChartHint","hint"]},standalone:!0,features:[P([Tt])]});let e=i;return nt([gt],e.prototype,"computeContext",null),e})();function Xi(e){return Z(e.map(({drivers:i})=>me(i).pipe(N(s=>s.map(t=>t.pipe(Q(!1))))))).pipe(N(i=>i.reduce((s,t)=>s.concat(t),[])),at(i=>Z(i)),N(i=>i.some(Boolean)),V())}var He=(()=>{let i=class i{constructor(){this.zone=v(D),this.options=v(Wi),this.hover$=new C,this.autoId=ye(),this.resize=ft(v(Pt,{self:!0}).pipe(N(([t])=>(t==null?void 0:t.contentRect.height)||0)),{initialValue:0}),this.box=ie(""),this.hintDirective=v(Ui,{optional:!0}),this.hintOptions=v(Ee,{optional:!0}),this.viewBox=de(()=>{let t=this.height/this.resize(),[n=0,r=0,o=0,a=0]=this.box().split(" ").map(Number);return`${n} ${r-t} ${o} ${a+2*t}`}),this.drivers=mt,this.x=0,this.y=0,this.width=0,this.height=0,this.smoothingFactor=this.options.smoothingFactor,this.xStringify=null,this.yStringify=null,this.filled=this.options.filled,this.dots=this.options.dots,this.value=[]}set valueSetter(t){this.value=t.filter(n=>!n.some(Number.isNaN))}ngOnChanges(){this.box.set(`${this.x} ${this.y} ${this.width} ${this.height}`)}onHovered(t){this.hover$.next(t)}get hovered$(){return this.hover$.pipe(V(),ve(this.zone))}get hintContent(){var t;return((t=this.hintOptions)==null?void 0:t.content)||""}get fillId(){return`tui-line-chart-${this.autoId}`}get fill(){return this.filled?`url(#${this.fillId})`:"none"}get d(){return this.getD(this.value,this.smoothingFactor)}get fillD(){var t,n;return this.value.length?`${this.d}V ${this.y} H ${(t=this.value[0])==null?void 0:t[0]} V ${(n=this.value[0])==null?void 0:n[1]}`:this.d}get isFocusable(){return!this.hintDirective&&this.hasHints}get hasHints(){var t;return!!this.xStringify||!!this.yStringify||!!((t=this.hintDirective)!=null&&t.hint)||!!this.hintContent}onMouseLeave(){this.hintDirective||this.onHovered(NaN)}getX(t){var n,r,o,a;return this.isSinglePoint?(((n=this.value[0])==null?void 0:n[0])||0)/2:t?((((r=this.value[t-1])==null?void 0:r[0])||0)+(((o=this.value[t])==null?void 0:o[0])||0))/2:2*(((a=this.value[0])==null?void 0:a[0])||0)-this.getX(1)}getWidth(t){return 100*this.computeWidth(t)/this.width}getHintId(t){return`${this.autoId}_${t}`}getImplicit(t){var n;return((n=this.hintDirective)==null?void 0:n.getContext(this.value.indexOf(t),this))??t}getHovered(t){return pe(t)&&Number.isInteger(t)?this.value[t]??null:null}getBottom(t){return 100*(t-this.y)/this.height}getLeft(t){return 100*(t-this.x)/this.width}getOffset(t){var n;return 100*((((n=this.value[t])==null?void 0:n[0])||0)-this.getX(t))/this.computeWidth(t)}onMouseEnter(t){this.hintDirective?this.hintDirective.raise(t,this):this.onHovered(t)}get isSinglePoint(){return this.value.length===1}getD(t,n){return t.reduce((r,o,a)=>a?`${r} ${je(t,a,n)}`:`M ${o}`,"")}computeWidth(t){var n;return t===this.value.length-1?2*((((n=this.value[t])==null?void 0:n[0])||0)-this.getX(t)):this.getX(t+1)-this.getX(t)}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=I({type:i,selectors:[["tui-line-chart"]],viewQuery:function(n,r){if(n&1&&dt(Oe,5),n&2){let o;$(o=W())&&(r.drivers=o)}},hostBindings:function(n,r){n&1&&wt("mouseleave",function(){return r.onMouseLeave()})},inputs:{x:"x",y:"y",width:"width",height:"height",smoothingFactor:"smoothingFactor",xStringify:"xStringify",yStringify:"yStringify",filled:"filled",dots:"dots",valueSetter:[0,"value","valueSetter"]},standalone:!0,features:[P([Pt],[Se({direction:"top",hideDelay:0})]),lt,k],decls:2,vars:3,consts:[["hintHost",""],[4,"tuiLet"],["focusable","false","height","100%","preserveAspectRatio","none","width","100%","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["x1","0","x2","0","y1","1","y2","0"],["offset","0%","stop-color","currentColor","stop-opacity","0.5"],["offset","100%","stop-color","currentColor","stop-opacity","0"],["stroke","none"],["fill","none","stroke","currentColor","stroke-width","2","vector-effect","non-scaling-stroke"],[4,"ngIf"],["class","t-dot",3,"bottom","left",4,"ngFor","ngForOf"],[1,"t-dot"],[4,"ngFor","ngForOf"],["class","t-column",3,"t-column_hint_hovered","t-column_hovered","left","width","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost","mouseenter",4,"ngIf"],["class","t-line t-line_horizontal",3,"bottom",4,"ngIf"],[1,"t-column",3,"mouseenter","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost"],[1,"t-line","t-line_vertical"],[1,"t-host",3,"id","tabIndex"],[1,"t-line","t-line_horizontal"],["class","t-hint t-hint_x",3,"left",4,"ngIf"],["class","t-hint t-hint_y",3,"bottom",4,"ngIf"],[1,"t-hint","t-hint_x"],[1,"t-hint","t-hint_y"]],template:function(n,r){n&1&&(_(0,Yi,11,8,"ng-container",1),Et(1,"async")),n&2&&u("tuiLet",Ot(1,1,r.hovered$))},dependencies:[he,ht,ut,De,Ie,Te,Ce],styles:['[_nghost-%COMP%]{display:flex;inline-size:100%;block-size:100%;pointer-events:none}.t-svg[_ngcontent-%COMP%]{block-size:calc(100% + 1px);transform:scaleY(-1);margin:-.03125rem 0}.t-column[_ngcontent-%COMP%]{position:absolute;top:0;block-size:100%;pointer-events:auto}.t-dot[_ngcontent-%COMP%]{position:absolute;inline-size:.375rem;block-size:.375rem;border-radius:100%;background:currentColor;margin:-.1875rem;box-shadow:0 0 0 2px #fff}.t-host[_ngcontent-%COMP%]{position:absolute;left:50%;inline-size:.5rem;block-size:.5rem;border-radius:100%;opacity:0;background:#fff;margin:-.25rem;box-shadow:0 0 0 2px currentColor,0 .0625rem .1875rem .125rem #0000001a;outline:none;pointer-events:none}.t-host[_ngcontent-%COMP%]:focus, .t-column_hovered[_ngcontent-%COMP%]   .t-host[_ngcontent-%COMP%], .t-column[_ngcontent-%COMP%]:hover   .t-host[_ngcontent-%COMP%], .t-column_hint_hovered[_ngcontent-%COMP%]   .t-host[_ngcontent-%COMP%]{opacity:1}.t-line[_ngcontent-%COMP%]{position:absolute;opacity:0;background:var(--tui-border-normal)}.t-line_vertical[_ngcontent-%COMP%]{top:0;bottom:0;left:50%;inline-size:1px}.t-line_horizontal[_ngcontent-%COMP%]{z-index:-1;inline-size:100%;block-size:1px}[style^="z-index: 0"][_nghost-%COMP%]   .t-column_hovered[_ngcontent-%COMP%]   .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column[_ngcontent-%COMP%]:hover   .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column_hint_hovered[_ngcontent-%COMP%]   .t-line[_ngcontent-%COMP%], [style^="z-index: 0"][_nghost-%COMP%]   .t-column_hovered[_ngcontent-%COMP%] + .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column[_ngcontent-%COMP%]:hover + .t-line[_ngcontent-%COMP%], [_nghost-%COMP%]:not([style])   .t-column_hint_hovered[_ngcontent-%COMP%] + .t-line[_ngcontent-%COMP%]{opacity:1}.t-hint[_ngcontent-%COMP%]{position:absolute;box-shadow:var(--tui-shadow-small);font:var(--tui-font-text-xs);block-size:1.25rem;line-height:1.25rem;margin-bottom:-.625rem;padding:0 .375rem;white-space:nowrap;color:var(--tui-text-primary);background:var(--tui-background-base);transform:translate3d(-50%,0,0)}.t-hint_x[_ngcontent-%COMP%]{bottom:0}.t-hint_y[_ngcontent-%COMP%]{left:0}'],changeDetection:0});let e=i;return nt([gt],e.prototype,"hovered$",null),nt([gt],e.prototype,"getD",null),e})();export{Zi as a,cn as b,dn as c,hn as d,Gn as e,li as f,Zn as g,tr as h,Wi as i,Ui as j,Xi as k,He as l};
