<div
    tuiAppearance="whiteblock"
    tuiCardLarge="normal"
    class="card"
>
    <tui-tabs tuiFade>
        <button
            tuiTab
            (click)="updateFades(true)"
        >
            <header tuiHeader>
                <h2
                    tuiTitle
                    [style.text-align]="'center'"
                >
                    Contacts
                </h2>
            </header>
        </button>
        <button
            tuiTab
            (click)="updateFades(false)"
        >
            <header tuiHeader>
                <h2
                    tuiTitle
                    [style.text-align]="'center'"
                >
                    Recent
                </h2>
            </header>
        </button>
    </tui-tabs>
    <tui-scrollbar>
        <cdk-virtual-scroll-viewport
            itemSize="100"
            tuiScrollable
            class="contacts-list viewport tui-zero-scrollbar"
            [ngClass]="{hidden: !contacts}"
        >
            @for (person of contactsService.contacts; track $index) {
                <div class="person">
                    <div class="info">
                        <tui-avatar [src]="person.img" />
                        <div class="text">
                            <h4 class="tui-space_top-0 tui-space_bottom-0">{{ person.name }}</h4>
                            <p class="tui-space_top-0 tui-space_bottom-0">{{ person.status }}</p>
                        </div>
                    </div>
                    <tui-icon icon="@tui.phone" />
                </div>
                <hr />
            }
        </cdk-virtual-scroll-viewport>
        <cdk-virtual-scroll-viewport
            itemSize="100"
            tuiScrollable
            class="contacts-list viewport tui-zero-scrollbar"
            [ngClass]="{hidden: contacts}"
        >
            @for (person of contactsService.recent; track $index) {
                <div class="person">
                    <div class="info">
                        <tui-badged-content>
                            <tui-icon
                                size="m"
                                tuiBadge
                                tuiSlot="top"
                                [appearance]="person.took ? 'error' : 'success'"
                                [icon]="person.took ? '@tui.arrow-down-left' : '@tui.arrow-up-right'"
                            />
                            <tui-avatar
                                sizes="s"
                                [src]="person.img"
                            />
                        </tui-badged-content>
                        <div class="text">
                            <h4 class="tui-space_top-0 tui-space_bottom-0">{{ person.name }}</h4>
                            <p class="tui-space_top-0 tui-space_bottom-0">{{ person.status }}</p>
                        </div>
                    </div>
                    <p
                        class="tui-space_top-0 tui-space_bottom-0"
                        [style.color]="'var(--tui-text-secondary)'"
                    >
                        {{ person.last }}
                    </p>
                </div>
                <hr />
            }
        </cdk-virtual-scroll-viewport>
    </tui-scrollbar>
</div>
