<div
    tuiAppearance="whiteblock"
    tuiCardLarge="normal"
    class="card"
>
    <header tuiHeader>
        <h2
            tuiTitle
            [style.text-align]="'center'"
        >
            Music
        </h2>
    </header>
    <div class="info">
        <img
            class="logo"
            [src]="musicService.musicData[musicService.curMusic].logo"
        />
        <h2 class="tui-space_top-4 tui-space_bottom-2">
            {{ musicService.musicData[musicService.curMusic].name }}
        </h2>
        <p
            class="tui-space_top-0 tui-space_bottom-0"
            [style.color]="'var(--tui-text-primary)'"
        >
            {{ musicService.musicData[musicService.curMusic].performer }}
        </p>
    </div>
    <audio
        #audio
        tuiMedia
        [src]="musicService.musicData[musicService.curMusic].src"
        [(currentTime)]="musicService.curTime"
        [(paused)]="musicService.paused"
        [(volume)]="musicService.volume"
    ></audio>
    <div>
        <input
            size="m"
            tuiSlider
            type="range"
            [max]="audio.duration"
            [(ngModel)]="musicService.curTime"
        />
        <div class="numbers">
            <p class="tui-space_top-0 tui-space_bottom-0">
                {{ musicService.getMinutes(musicService.curTime) }}:{{ musicService.getSeconds(musicService.curTime) }}
            </p>
            <p class="tui-space_top-0 tui-space_bottom-0">
                {{ musicService.getMinutes(musicService.musicData[musicService.curMusic].length) }}:{{
                    musicService.getSeconds(musicService.musicData[musicService.curMusic].length)
                }}
            </p>
        </div>
    </div>
    <div class="buttons">
        <tui-icon
            icon="@tui.shuffle"
            [ngClass]="{checked: musicService.shuffle}"
            (click)="musicService.shuffleButton()"
        />
        <tui-icon
            icon="@tui.skip-back"
            (click)="musicService.previousMusic()"
        />
        <tui-icon
            [icon]="musicService.logoPlay"
            (click)="musicService.playButton()"
        />
        <tui-icon
            icon="@tui.skip-forward"
            (click)="musicService.nextMusic()"
        />
        <tui-icon
            icon="@tui.repeat"
            [ngClass]="{checked: musicService.repeat}"
            (click)="musicService.repeatButton()"
        />
    </div>
    <hr />
    <div class="volume">
        <tui-icon icon="@tui.volume-1" />
        <input
            max="1"
            size="m"
            step="0.01"
            tuiSlider
            type="range"
            [style.color]="'var(--tui-status-info)'"
            [(ngModel)]="musicService.volume"
        />
        <tui-icon icon="@tui.volume-2" />
    </div>
</div>
