import{a as Yn,c as Ke,d as jt}from"./chunk-DWUJBSUF.js";import{a as Un,c as co,d as uo,e as Mo,f as wo,g as Do,h as di,i as Io,j as ko,k as Zi,l as vt}from"./chunk-IRYMGXNB.js";import"./chunk-V2BSE2YH.js";import"./chunk-4YTDUYGB.js";import{a as no}from"./chunk-YJWHY3CX.js";import{a as F}from"./chunk-TPUYJQZP.js";import{a as mo,b as po,g as fo,i as _o}from"./chunk-AU33KPII.js";import"./chunk-YY6XEXR4.js";import{a as go}from"./chunk-SAXBMSTH.js";import{a as Kt,b as qt,c as so,d as lo,f as yo,g as Co,h as bo,i as xo}from"./chunk-AGE6QUMC.js";import{a as Zt}from"./chunk-QLAHO24J.js";import{g as To}from"./chunk-WAJQ4A5Z.js";import{a as Rn,c as Lt}from"./chunk-UJCUYCM2.js";import{A as li,B as ci,E as ui,N as Te,O as mi,P as vo,Q as pi,b as Xt,c as Jt,f as _t,h as ei,j as ti,k as ii,l as ni,o as oi,p as ri,u as ai,w as si}from"./chunk-NHHNL256.js";import{a as Qe}from"./chunk-DXLMT7TK.js";import{a as Hn}from"./chunk-EQF6IGG3.js";import{b as ho}from"./chunk-GYDVZBVI.js";import"./chunk-JS4VJG5V.js";import{Ca as Xn,Da as Ge,Ea as qn,F as Vt,Fa as Jn,Ha as eo,I as Bn,Ia as to,J as jn,P as Wn,Pa as oo,Qa as Wt,Ra as Ki,S as $n,Sa as Gi,T as ft,Ta as ro,Ua as $t,Wa as Ut,Y as Qn,Ya as Yt,Z as Ht,Za as Qt,ga as Rt,ha as Nt,ia as Bt,o as Nn,p as Ye,sa as Kn,ta as Gn,va as Zn,za as E}from"./chunk-QARK76TJ.js";import{$ as xt,$a as ie,$b as K,$c as Ot,Aa as mn,Ab as ji,Ac as xn,Ad as At,Bb as Wi,Ca as pn,Cb as H,Cd as Ie,Da as s,Eb as Q,Ec as Tn,Ee as xe,F as on,Fb as $i,Fc as G,Fd as L,Fe as Qi,Gb as dt,Gc as kt,Ib as gn,Ic as Mn,Jb as M,Jc as De,Ka as x,Kb as V,Kc as me,Ke as Fn,La as Mt,Lc as St,Ma as $,Mb as Ce,Me as Ft,Na as dn,Nb as hn,Ne as zt,Oa as ge,Ob as Ne,Oc as wn,Pb as N,Pc as Be,Qe as zn,R as rn,Ra as C,Rd as Et,Sa as ee,Sb as fn,Ta as u,U as an,Ua as _,Uc as je,Va as he,Vc as Z,Wc as be,Wd as O,Xa as wt,Xc as Dn,Ya as fe,Yb as _n,Yc as In,Z as sn,Za as Ri,_ as A,_a as te,_b as R,aa as ln,ab as l,ac as vn,ad as gt,bb as c,bc as W,bd as kn,bf as Vn,ca as g,cb as v,db as _e,eb as ve,ed as We,fb as Dt,fc as S,gb as I,ge as Pn,ha as cn,hb as Re,hc as yn,ia as un,ic as Cn,ja as h,jb as b,ka as f,kb as m,ke as Yi,kf as Ue,lb as ce,le as $e,m as z,ma as de,mb as B,me as An,mf as Ln,nb as Ni,nd as pe,oa as Li,ob as ye,oe as X,of as io,pa as we,pb as ne,pe as D,q as mt,qa as Hi,qb as oe,rb as k,rd as Pt,re as q,s as J,sb as p,sd as Sn,se as ke,t as Ct,tb as ue,te as ht,tf as Gt,ua as Tt,ub as T,uc as bn,ud as Ui,ue as En,vb as pt,w as nn,wb as U,wf as ao,xb as j,yb as Y,z as bt,zb as Bi,zc as It,zd as On}from"./chunk-2AXOXTX2.js";import{e as Vi}from"./chunk-HFDGAYQF.js";var So=(()=>{let t=class t{constructor(){this.el=Et(),this.playbackRate=1,this.volume=1,this.currentTimeChange=new we,this.pausedChange=new we,this.volumeChange=new we}set playbackRateSetter(e){this.updatePlaybackRate(e)}set currentTime(e){Math.abs(e-this.currentTime)>.05&&(this.el.currentTime=e)}set paused(e){var i,o,a,d;e?(o=(i=this.el).pause)==null||o.call(i):((d=(a=this.el).play)==null||d.call(a),this.updatePlaybackRate(this.playbackRate))}get currentTime(){return this.el.currentTime??0}get paused(){return!!this.el.paused}onPausedChange(e){this.pausedChange.emit(e),this.updatePlaybackRate(this.playbackRate)}onVolumeChange(){this.volume=this.el.volume,this.volumeChange.emit(this.volume)}onCurrentTimeChange(){this.currentTimeChange.emit(this.currentTime)}updatePlaybackRate(e){this.playbackRate=e,this.el.playbackRate=this.playbackRate}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=$({type:t,selectors:[["video","tuiMedia",""],["audio","tuiMedia",""]],hostVars:1,hostBindings:function(i,o){i&1&&b("durationchange",function(){return 0})("ended",function(){return o.onPausedChange(!0)})("pause",function(){return o.onPausedChange(!0)})("play",function(){return o.onPausedChange(!1)})("volumechange",function(){return o.onVolumeChange()})("timeupdate",function(){return o.onCurrentTimeChange()})("seeking",function(){return o.onCurrentTimeChange()})("seeked",function(){return o.onCurrentTimeChange()}),i&2&&Re("volume",o.volume)},inputs:{volume:"volume",playbackRateSetter:[0,"playbackRate","playbackRateSetter"],currentTime:"currentTime",paused:"paused"},outputs:{currentTimeChange:"currentTimeChange",pausedChange:"pausedChange",volumeChange:"volumeChange"},exportAs:["tuiMedia"]});let r=t;return r})();var Oo=(()=>{let t=class t{transform(e,i,...o){return e.filter(a=>i(a,...o))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275pipe=dn({name:"tuiFilter",type:t,pure:!0});let r=t;return r})();var er=["*",[["tui-badge-notification","tuiSlot","top"]],[["","tuiSlot","top"]],[["tui-badge-notification","tuiSlot","bottom"]],[["","tuiSlot","bottom"]]],tr=["*","tui-badge-notification[tuiSlot='top']","[tuiSlot='top']","tui-badge-notification[tuiSlot='bottom']","[tuiSlot='bottom']"],Po=(()=>{let t=class t{constructor(){this.tuiSlot="top"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=$({type:t,selectors:[["","tuiSlot",""]],inputs:{tuiSlot:"tuiSlot"}});let r=t;return r})(),Ao=(()=>{let t=class t{constructor(){this.cdr=g(fn)}onResize(){this.cdr.detectChanges()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=x({type:t,selectors:[["tui-badged-content"]],ngContentSelectors:tr,decls:11,vars:4,consts:[["badgeTop",""],["badgeBottom",""],[1,"t-badge","t-badge_top",3,"waResizeObserver"],[1,"t-border"],[1,"t-badge","t-badge_bottom",3,"waResizeObserver"]],template:function(i,o){if(i&1){let a=I();ce(er),B(0),l(1,"div",2,0),b("waResizeObserver",function(){return h(a),f(o.onResize())}),B(3,1),l(4,"div",3),B(5,2),c()(),l(6,"div",4,1),b("waResizeObserver",function(){return h(a),f(o.onResize())}),B(8,3),l(9,"div",3),B(10,4),c()()}if(i&2){let a=k(2),d=k(7);s(),_("--t-badge-height",a.offsetHeight,"px"),s(5),_("--t-badge-height",d.offsetHeight,"px")}},dependencies:[io],styles:["[_nghost-%COMP%]{--tui-radius: var(--tui-radius-l);--t-badge-height: 0;--t-corner-offset: calc((var(--tui-radius) * 1.4142 - var(--tui-radius)) * 1 / 1.4142);position:relative;display:inline-block;block-size:-webkit-fit-content;block-size:-moz-fit-content;block-size:fit-content;inline-size:-webkit-max-content;inline-size:max-content;color:var(--tui-background-base)}.t-badge[_ngcontent-%COMP%]{--t-offset: calc(var(--t-badge-height) * -.5 + var(--t-corner-offset));position:absolute;display:flex}.t-badge_top[_ngcontent-%COMP%]{top:var(--t-offset);right:var(--t-offset)}.t-badge_bottom[_ngcontent-%COMP%]{bottom:var(--t-offset);right:var(--t-offset)}.t-border[_ngcontent-%COMP%]:not(:empty){display:flex;border-radius:6rem;box-shadow:0 0 0 1px currentColor;background:currentColor}"],changeDetection:0});let r=t;return r})();var Eo=(r,t,n,e)=>[r,t,n,e,!1],Fo=(r,t,n,e)=>[r,t,n,e,!0],ir=(r,t,n,e,i,o)=>[r,t,n,e,i,o];function nr(r,t){if(r&1){let n=I();l(0,"tui-calendar",3),M(1,"tuiMapper"),M(2,"tuiMapper"),M(3,"tuiMapper"),M(4,"tuiMapper"),Y("hoveredItemChange",function(i){h(n);let o=m();return j(o.hoveredItem,i)||(o.hoveredItem=i),f(i)}),b("dayClick",function(i){h(n);let o=m();return f(o.onDayClick(i))})("monthChange",function(i){h(n);let o=m();return f(o.onMonthChange(i.append({month:-1})))})("mousedown.prevent.zoneless",function(){return h(n),f(0)}),c()}if(r&2){let n=m();u("disabledItemHandler",n.calculatedDisabledItemHandler)("markerHandler",n.markerHandler)("max",Ne(1,9,dt(29,Eo,n.max,n.capsMapper,n.value,n.maxLength)))("min",Ne(2,15,dt(34,Fo,n.min,n.capsMapper,n.value,n.maxLength)))("minViewedMonth",Ce(3,21,n.defaultViewedMonth,n.monthOffset,1))("month",Ce(4,25,n.defaultViewedMonth,n.monthOffset,1))("showAdjacent",!1)("value",n.value),U("hoveredItem",n.hoveredItem)}}function or(r,t){if(r&1&&v(0,"tui-icon",8),r&2){let n=m(3);_("font-size",1,"rem"),u("icon",n.icons.check)}}function rr(r,t){if(r&1){let n=I();l(0,"button",6),b("click",function(){let i=h(n).$implicit,o=m(2);return f(o.onItemSelect(i))})("mousedown.prevent.zoneless",function(){return h(n),f(0)}),p(1),C(2,or,1,3,"tui-icon",7),c()}if(r&2){let n=t.$implicit,e=m(2);ee("aria-checked",e.isItemActive(n)),s(),T(" ",n," "),s(),u("ngIf",e.isItemActive(n))}}function ar(r,t){if(r&1&&(l(0,"tui-data-list",4),C(1,rr,3,3,"button",5),M(2,"async"),M(3,"tuiMapper"),c()),r&2){let n=m();_("flex",1),s(),u("ngForOf",Ne(3,5,gn(12,ir,n.items,n.mapper,n.min,n.max,n.minLength,V(2,3,n.otherDateText$))))}}var sr=(r,t,n)=>e=>{if(!t||t instanceof q||!n)return r(e);let i=Object.fromEntries(Object.entries(n).map(([y,P])=>[y,-P])),o=t.append(i).append({day:1}),a=t.append(n).append({day:-1});return o.dayBefore(e)&&a.dayAfter(e)||r(e)},lr=(r,t,n,e)=>{if(t instanceof D||!(t!=null&&t.isSingleDay)||!n)return e?r||ke:r||ht;let i=Object.fromEntries(Object.entries(n).map(([a,d])=>[a,-d])),o=t.from.append(e?i:n).append({day:e?1:-1});return e?o.dayBefore(r||ke)?r||ke:o:r&&o.dayAfter(r)?r:o},gi=(()=>{let t=class t{constructor(){var e;this.selectedPeriod=null,this.value=null,this.previousValue=null,this.hoveredItem=null,this.month=X.currentLocal(),this.otherDateText$=g(ro),this.icons=g(Fn),this.capsMapper=lr,this.disabledItemHandler=We,this.markerHandler=null,this.items=[],this.min=ke,this.max=ht,this.minLength=null,this.maxLength=null,this.item=null,this.valueChange=new we,this.itemChange=new we,this.monthOffset=(i,o)=>i.append({month:o}),this.mapper=(i,o,a,d,y)=>[...i.filter(P=>(d===null||P.range.from.append(d).append({day:-1}).daySameOrBefore(P.range.to))&&(o===null||P.range.to.daySameOrAfter(o))&&(a===null||P.range.from.daySameOrBefore(a))),y||""],(e=g(oo,{optional:!0}))==null||e.pipe(xe(),pe()).subscribe(i=>{this.value=i,this.initDefaultViewedMonth()})}set valueSetter(e){this.value=e}set defaultViewedMonth(e){this.value||(this.month=e)}get defaultViewedMonth(){return this.month}get selectedActivePeriod(){return this.selectedPeriod}set selectedActivePeriod(e){this.selectedPeriod=e}ngOnChanges(){this.value||this.initDefaultViewedMonth()}ngOnInit(){this.initDefaultViewedMonth()}get calculatedDisabledItemHandler(){return this.calculateDisabledItemHandler(this.disabledItemHandler,this.value,this.minLength)}onEsc(e){e.key!=="Escape"||!(this.value instanceof D)||(e.stopPropagation(),this.value=this.previousValue)}isItemActive(e){let{activePeriod:i}=this;return Ui(e)&&i===null||i===e||(i==null?void 0:i.toString())===e.toString()}onItemSelect(e){Ui(e)?this.activePeriod!==null&&(this.selectedActivePeriod=null,this.updateValue(null),this.itemChange.emit(null)):(this.selectedActivePeriod=e,this.updateValue(e.range.dayLimit(this.min,this.max)),this.itemChange.emit(e)),this.initDefaultViewedMonth()}onMonthChange(e){this.month=e}onDayClick(e){if(this.previousValue=this.value,this.selectedActivePeriod=null,this.value instanceof D){let i=q.sort(this.value,e);this.value=i,this.updateValue(i),this.itemChange.emit(this.findItemByDayRange(i))}else this.value=e}updateValue(e){this.value=e,this.valueChange.emit(e)}get activePeriod(){return this.item??this.selectedActivePeriod??(this.items.find(e=>Ie(this.value instanceof D?new q(this.value,this.value):this.value,e.range,(i,o)=>i.from.daySame(o.from.dayLimit(this.min,this.max))&&i.to.daySame(o.to.dayLimit(this.min,this.max))))||null)}calculateDisabledItemHandler(e,i,o){return sr(e,i,o)}initDefaultViewedMonth(){this.value instanceof D?this.month=this.value:this.value?this.month=this.items.length?this.value.to:this.value.from:this.max&&this.month.monthSameOrAfter(this.max)?this.month=this.items.length?this.max:this.max.append({month:-1}):this.min&&this.month.monthSameOrBefore(this.min)&&(this.month=this.min)}findItemByDayRange(e){return this.items.find(i=>e.daySame(i.range))??null}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=x({type:t,selectors:[["tui-calendar-range"]],hostBindings:function(i,o){i&1&&b("keydown.capture",function(d){return o.onEsc(d)},!1,pn)},inputs:{disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",items:"items",min:"min",max:"max",minLength:"minLength",maxLength:"maxLength",item:"item",valueSetter:[0,"value","valueSetter"],defaultViewedMonth:"defaultViewedMonth"},outputs:{valueChange:"valueChange",itemChange:"itemChange"},features:[H([Yn({rangeMode:!0})]),un],decls:7,vars:37,consts:[["presets",""],["automation-id","tui-calendar-range__calendar",1,"t-calendar",3,"hoveredItemChange","dayClick","monthChange","mousedown.prevent.zoneless","disabledItemHandler","markerHandler","max","maxViewedMonth","min","month","showAdjacent","value","hoveredItem"],[3,"disabledItemHandler","markerHandler","max","min","minViewedMonth","month","showAdjacent","value","hoveredItem","hoveredItemChange","dayClick","monthChange","mousedown.prevent.zoneless",4,"ngIf","ngIfElse"],[3,"hoveredItemChange","dayClick","monthChange","mousedown.prevent.zoneless","disabledItemHandler","markerHandler","max","min","minViewedMonth","month","showAdjacent","value","hoveredItem"],["automation-id","tui-calendar-range__menu","role","menu"],["automation-id","tui-calendar-range__menu__item","role","menuitemradio","tuiOption","","type","button",3,"click","mousedown.prevent.zoneless",4,"ngFor","ngForOf"],["automation-id","tui-calendar-range__menu__item","role","menuitemradio","tuiOption","","type","button",3,"click","mousedown.prevent.zoneless"],["automation-id","tui-calendar-range__checkmark",3,"icon","font-size",4,"ngIf"],["automation-id","tui-calendar-range__checkmark",3,"icon"]],template:function(i,o){if(i&1){let a=I();l(0,"tui-calendar",1),M(1,"tuiMapper"),M(2,"tuiMapper"),M(3,"tuiMapper"),Y("hoveredItemChange",function(y){return h(a),j(o.hoveredItem,y)||(o.hoveredItem=y),f(y)}),b("dayClick",function(y){return h(a),f(o.onDayClick(y))})("monthChange",function(y){return h(a),f(o.onMonthChange(y))})("mousedown.prevent.zoneless",function(){return h(a),f(0)}),c(),C(4,nr,5,39,"tui-calendar",2)(5,ar,4,19,"ng-template",null,0,N)}if(i&2){let a=k(6);u("disabledItemHandler",o.calculatedDisabledItemHandler)("markerHandler",o.markerHandler)("max",Ne(1,11,dt(27,Eo,o.max,o.capsMapper,o.value,o.maxLength)))("maxViewedMonth",o.items.length?null:Ce(2,17,o.defaultViewedMonth,o.monthOffset,-1))("min",Ne(3,21,dt(32,Fo,o.min,o.capsMapper,o.value,o.maxLength)))("month",o.defaultViewedMonth)("showAdjacent",!!o.items.length)("value",o.value),U("hoveredItem",o.hoveredItem),s(4),u("ngIf",!o.items.length)("ngIfElse",a)}},dependencies:[W,R,K,Ke,Zn,Gn,E,Qe],styles:["[_nghost-%COMP%]{display:flex;min-inline-size:30rem}.t-calendar[_ngcontent-%COMP%]{border-inline-end:1px solid var(--tui-border-normal)}"],changeDetection:0});let r=t;return z([L],r.prototype,"calculateDisabledItemHandler",null),r})();var ur=["type","range","tuiSlider",""];var mr=7;function zo(r,t){let n=r.findIndex((o,a)=>a&&t(o)),e=r[n-1]||r[0],i=r[n]||r[r.length-1]||[0,0];return[e,i]}function pr(r,t){let[[n,e],[i,o]]=zo(t,([y,P])=>r<=y),a=(r-n)/(i-n),d=(o-e)*a+e;return In(d,mr)}function dr(r,t){let[[n,e],[i,o]]=zo(t,([d,y])=>r<=y),a=(r-e)/(o-e)||0;return(i-n)*a+n}var gr={size:"m",trackColor:"var(--tui-background-neutral-2)"},hr=Sn(gr);var Xi=(()=>{let t=class t{constructor(){var e;this.injector=g(cn),this.control=g(Tn,{self:!0,optional:!0}),this.options=g(hr),this.size=this.options.size,this.segments=1,this.el=Et(),this.control instanceof me&&((e=this.control.valueChanges)==null||e.pipe(xe(),on(1)).subscribe())}get valueRatio(){return(this.value-this.min)/(this.max-this.min)||0}get min(){return Number(this.el.min)}get max(){return Number(this.el.max||100)}get value(){return!this.hasKeySteps&&this.control instanceof me?this.control.viewModel:Number(this.el.value)||0}set value(e){this.el.value=`${e}`}get hasKeySteps(){return!!this.injector.get(fr,null)}get segmentWidth(){return 100/Math.max(1,this.segments)}get step(){return Number(this.el.step)||1}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=x({type:t,selectors:[["input","type","range","tuiSlider",""]],hostVars:7,hostBindings:function(i,o){i&1&&b("input",function(){return 0}),i&2&&(ee("data-size",o.size),_("--tui-slider-track-color",o.options.trackColor)("--tui-slider-segment-width",o.segmentWidth,"%")("--tui-slider-fill-ratio",o.valueRatio))},inputs:{size:"size",segments:"segments"},attrs:ur,decls:0,vars:0,template:function(i,o){},styles:['[_nghost-%COMP%]{position:relative;display:block;inline-size:100%;color:var(--tui-background-accent-1);cursor:pointer;-webkit-appearance:none;appearance:none;block-size:.125rem;padding:.4375rem 0;background-color:transparent;background-clip:content-box;outline:none;border-radius:var(--tui-radius-m)}[_nghost-%COMP%]:active{cursor:ew-resize}[_nghost-%COMP%]:disabled{opacity:var(--tui-disabled-opacity);cursor:auto}[data-size=s][_nghost-%COMP%]:not(:disabled):before{transition-property:transform,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.25rem;left:calc(var(--tui-slider-fill-ratio) * 100% - var(--tui-slider-fill-ratio) * .5rem);inline-size:.5rem;block-size:.5rem;border-radius:50%;transform:var(--tui-slider-thumb-transform, scale(1));content:"";cursor:ew-resize;background:currentColor;opacity:0}[data-size=s][_nghost-%COMP%]:active:before{opacity:.2;transform:var(--tui-slider-thumb-transform, scale(1)) scale(2.33)}[data-size=m][_nghost-%COMP%]:not(:disabled):before{transition-property:transform,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.125rem;left:calc(var(--tui-slider-fill-ratio) * 100% - var(--tui-slider-fill-ratio) * .75rem);inline-size:.75rem;block-size:.75rem;border-radius:50%;transform:var(--tui-slider-thumb-transform, scale(1));content:"";cursor:ew-resize;background:currentColor;opacity:0}[data-size=m][_nghost-%COMP%]:active:before{opacity:.2;transform:var(--tui-slider-thumb-transform, scale(1)) scale(2.33)}[_nghost-%COMP%]::-webkit-slider-container{border-radius:inherit}[data-size=m][_nghost-%COMP%]::-webkit-slider-runnable-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .5rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-text-tertiary) 0 .25rem,transparent 0 var(--tui-slider-segment-width)),linear-gradient(to right,currentColor calc(100% * var(--tui-slider-fill-ratio)),transparent calc(100% * var(--tui-slider-fill-ratio)));background-position-x:0,.25rem,0;background-size:calc(100% - .75rem),calc(100% - .75rem),auto}[data-size=s][_nghost-%COMP%]::-webkit-slider-runnable-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .375rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-text-tertiary) 0 .25rem,transparent 0 var(--tui-slider-segment-width)),linear-gradient(to right,currentColor calc(100% * var(--tui-slider-fill-ratio)),transparent calc(100% * var(--tui-slider-fill-ratio)));background-position-x:0,.125rem,0;background-size:calc(100% - .5rem),calc(100% - .5rem),auto}[data-size=m][_nghost-%COMP%]::-moz-range-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .5rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-text-tertiary) 0 .25rem,transparent 0 var(--tui-slider-segment-width));background-position-x:0,.25rem;background-size:calc(100% - .75rem)}[data-size=s][_nghost-%COMP%]::-moz-range-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .375rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-text-tertiary) 0 .25rem,transparent 0 var(--tui-slider-segment-width));background-position-x:0,.125rem;background-size:calc(100% - .5rem)}[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{-webkit-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.75rem;inline-size:.75rem;box-sizing:content-box;background-clip:content-box;border:.125rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1));margin-top:-.4375rem}:not(:disabled)[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{cursor:ew-resize}:not(:disabled)[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb:hover, :active:not(:disabled)[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.333)}:focus-visible[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{-webkit-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.5rem;inline-size:.5rem;box-sizing:content-box;background-clip:content-box;border:.25rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1));margin-top:-.4375rem}:not(:disabled)[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{cursor:ew-resize}:not(:disabled)[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb:hover, :active:not(:disabled)[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.5)}:focus-visible[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[data-size=m][_nghost-%COMP%]::-moz-range-thumb{-moz-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.75rem;inline-size:.75rem;box-sizing:content-box;background-clip:content-box;border:.125rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1))}:not(:disabled)[data-size=m][_nghost-%COMP%]::-moz-range-thumb{cursor:ew-resize}:not(:disabled)[data-size=m][_nghost-%COMP%]::-moz-range-thumb:hover, :active:not(:disabled)[data-size=m][_nghost-%COMP%]::-moz-range-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.333)}:focus-visible[data-size=m][_nghost-%COMP%]::-moz-range-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[data-size=s][_nghost-%COMP%]::-moz-range-thumb{-moz-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.5rem;inline-size:.5rem;box-sizing:content-box;background-clip:content-box;border:.25rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1))}:not(:disabled)[data-size=s][_nghost-%COMP%]::-moz-range-thumb{cursor:ew-resize}:not(:disabled)[data-size=s][_nghost-%COMP%]::-moz-range-thumb:hover, :active:not(:disabled)[data-size=s][_nghost-%COMP%]::-moz-range-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.5)}:focus-visible[data-size=s][_nghost-%COMP%]::-moz-range-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[_nghost-%COMP%]::-moz-range-progress{border-radius:inherit}[_nghost-%COMP%]::-moz-range-progress{block-size:.125rem;background:currentColor;border-top-right-radius:0;border-bottom-right-radius:0}'],changeDetection:0});let r=t;return z([L],r.prototype,"hasKeySteps",null),r})(),fr=(()=>{let t=class t extends Qn{constructor(){super(...arguments),this.slider=g(sn(()=>Xi))}writeValue(e){if(e===null)return;let i=Dn(e,this.min,this.max);this.slider.value=this.transformToNativeValue(i)}get min(){return this.keySteps[0][1]}get max(){var e;return((e=this.keySteps[this.keySteps.length-1])==null?void 0:e[1])??0}updateControlValue(){this.onChange(pr(this.slider.valueRatio*100,this.keySteps))}transformToNativeValue(e){let{min:i,max:o}=this.slider;return dr(e,this.keySteps)*(o-i)/100+i}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})(),t.\u0275dir=$({type:t,selectors:[["input","tuiSlider","","keySteps",""]],hostVars:4,hostBindings:function(i,o){i&1&&b("blur",function(){return o.onTouched()})("input",function(){return o.updateControlValue()})("change",function(){return o.updateControlValue()}),i&2&&(Re("disabled",o.disabled()),ee("aria-valuenow",o.value())("aria-valuemin",o.min)("aria-valuemax",o.max))},inputs:{keySteps:"keySteps"},features:[H([Bn(0)]),ge]});let r=t;return r})();var Mr=["*",[["input"]]],wr=["*","input"],Dr=r=>({$implicit:r});function Ir(r,t){if(r&1){let n=I();l(0,"tui-primitive-textfield",5),b("focusedChange",function(i){h(n);let o=m();return f(o.onFocused(i))})("valueChange",function(i){h(n);let o=m();return f(o.onValueChange(i))}),B(1),B(2,1,["ngProjectAs","input",5,["input"]]),c()}if(r&2){let n=t.tuiLet,e=m(),i=k(4);u("disabled",e.computedDisabled)("focusable",e.computedFocusable)("invalid",e.computedInvalid)("maskito",e.computedMask)("nativeId",e.nativeId)("pseudoFocus",e.pseudoFocus)("pseudoHover",e.pseudoHover)("readOnly",e.readOnly)("tuiTextfieldFiller",e.getComputedFiller(n||""))("tuiTextfieldIcon",e.calendarIcon&&i)("value",e.computedValue)}}function kr(r,t){if(r&1){let n=I();l(0,"tui-icon",8),b("click",function(){h(n);let i=m(2);return f(i.onIconClick())}),c()}if(r&2){let n=t.polymorpheusOutlet,e=m(2);he("t-icon_small",e.size==="s")("t-icon",!e.computedDisabled),u("icon",n.toString())}}function Sr(r,t){r&1&&v(0,"input",9)}function Or(r,t){if(r&1&&C(0,kr,1,5,"tui-icon",6)(1,Sr,1,0,"input",7),r&2){let n=m();u("polymorpheusOutlet",n.calendarIcon)("polymorpheusOutletContext",Q(3,Dr,n.size)),s(),u("ngIf",n.nativePicker)}}function Pr(r,t){if(r&1){let n=I();l(0,"div",12),b("mousedown.prevent.zoneless",function(){return h(n),f(0)}),l(1,"button",13),b("click",function(){h(n);let i=m(2);return f(i.items[0]&&i.onDayClick(i.items[0].day))}),p(2),c()()}if(r&2){let n=m(2);s(2),T(" ",n.items[0]," ")}}function Ar(r,t){if(r&1){let n=I();l(0,"tui-calendar",10),b("dayClick",function(i){h(n);let o=m();return f(o.onDayClick(i))})("monthChange",function(i){h(n);let o=m();return f(o.onMonthChange(i))})("mousedown.prevent.zoneless",function(){return h(n),f(0)}),c(),C(1,Pr,3,1,"div",11)}if(r&2){let n=m();u("disabledItemHandler",n.disabledItemHandler)("markerHandler",n.markerHandler)("max",n.computedMax)("min",n.computedMin)("month",n.computedActiveYearMonth)("value",n.value),s(),u("ngIf",n.items.length===1)}}var hi=(()=>{let t=class t extends ti{get value(){return this.host.computedValue}get max(){return this.host.computedMax}get min(){return this.host.computedMin}get format(){return this.host.dateFormat}onValueChange(e){this.host.onValueChange(e)}process(e){e.inputMode="numeric"}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})(),t.\u0275dir=$({type:t,selectors:[["tui-input-date",3,"multiple",""]],standalone:!1,features:[H([_t(t)]),ge]});let r=t;return r})(),Er=(()=>{let t=class t{constructor(){this.host=g(hi)}get value(){return this.host.value.length===$e?D.normalizeParse(this.host.value,this.host.format.mode).toString("YMD","-"):""}get max(){return this.host.max.toJSON()}get min(){return this.host.min.toJSON()}onChange(e){this.host.onValueChange(e?D.normalizeParse(e,"YMD").toString(this.host.format.mode):"")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=$({type:t,selectors:[["input","tuiDate",""]],hostAttrs:["type","date"],hostVars:4,hostBindings:function(i,o){i&1&&b("change",function(d){return o.onChange(d.target.value)})("click.stop.zoneless",function(){return 0})("input.stop.zoneless",function(){return 0})("mousedown.stop.zoneless",function(){return 0}),i&2&&Re("tabIndex",-1)("value",o.value)("max",o.max)("min",o.min)},standalone:!1,features:[H([_t(hi)])]});let r=t;return r})(),Lo=(()=>{let t=class t extends ii{constructor(){super(...arguments),this.options=g(Ut),this.textfieldSize=g(ai),this.mobileCalendar=g(Yt,{optional:!0}),this.month=null,this.nativeValue=Tt(""),this.min=this.options.min,this.max=this.options.max,this.disabledItemHandler=We,this.markerHandler=null,this.items=[],this.defaultActiveYearMonth=X.currentLocal(),this.dateFormat=Ft,this.open=!1,this.dateTexts$=g($t),this.valueTransformer=g(Ki,{optional:!0}),this.isMobile=g(Vt),this.filler$=this.dateTexts$.pipe(J(e=>Pt(e[this.dateFormat.mode],this.dateFormat.separator))),this.dateFormat$=g(zt).pipe(xe(this.cdr),pe()).subscribe(e=>{this.dateFormat=e})}get computedMin(){return this.min??this.options.min}get computedMax(){return this.max??this.options.max}get nativeFocusableElement(){var e;return((e=this.textfield)==null?void 0:e.nativeFocusableElement)??null}get focused(){var e;return!!((e=this.textfield)!=null&&e.focused)}get computedValue(){let{value:e,nativeValue:i,activeItem:o}=this;return o?String(o):e?e.toString(this.dateFormat.mode,this.dateFormat.separator):i()}onValueChange(e){this.nativeValue.set(e),this.control&&this.control.updateValueAndValidity({emitEvent:!1}),!e&&!this.mobileCalendar&&this.onOpenChange(!0),this.activeItem&&this.nativeValue.set(""),this.value=e.length!==$e||this.activeItem?null:D.normalizeParse(e,this.dateFormat.mode)}setDisabledState(){super.setDisabledState(),this.open=!1}writeValue(e){this.value===null&&e===this.value||(super.writeValue(e),this.nativeValue.set(this.value?this.computedValue:""))}get size(){return this.textfieldSize.size}get nativePicker(){return this.options.nativePicker&&this.isMobile}get calendarIcon(){return this.options.icon}get computedActiveYearMonth(){var i,o;let e=Pn(this.defaultActiveYearMonth,this.computedMin,this.computedMax);return(i=this.value)!=null&&i.dayAfter(En)?this.month||e:this.items[0]&&((o=this.value)!=null&&o.daySame(this.items[0].day))?this.items[0].displayDay:this.month||this.value||e}get computedMask(){return this.activeItem?Kt:this.computeMaskOptions(this.dateFormat.mode,this.dateFormat.separator,this.computedMin,this.computedMax)}get activeItem(){let{value:e}=this;return e&&this.items.find(i=>i.day.daySame(e))||null}onClick(){!this.isMobile&&this.interactive&&(this.open=!this.open)}getComputedFiller(e){return this.activeItem?"":e}onIconClick(){this.isMobile&&this.interactive&&(this.open=!0)}onDayClick(e){this.value=e,this.open=!1}onMonthChange(e){this.month=e}onOpenChange(e){this.open=e}onFocused(e){this.updateFocused(e)}valueIdenticalComparator(e,i){return Ie(e,i,(o,a)=>o.daySame(a))}computeMaskOptions(e,i,o,a){return so({separator:i,mode:ui[e],min:o.toLocalNativeDate(),max:a.toLocalNativeDate()})}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})(),t.\u0275cmp=x({type:t,selectors:[["tui-input-date",3,"multiple",""]],viewQuery:function(i,o){if(i&1&&ye(Te,5),i&2){let a;ne(a=oe())&&(o.textfield=a.first)}},hostVars:1,hostBindings:function(i,o){i&1&&b("click",function(){return o.onClick()}),i&2&&ee("data-size",o.size)},inputs:{min:"min",max:"max",disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",items:"items",defaultActiveYearMonth:"defaultActiveYearMonth"},standalone:!1,features:[H([Jt(t),Ht(t),ei(t),Wt(Ki),Qt]),ge],ngContentSelectors:wr,decls:7,vars:7,consts:[["iconContent",""],["dropdown","polymorpheus"],["tuiDropdownOpenMonitor","",1,"t-hosted",3,"tuiDropdownOpenChange","tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen"],["automation-id","tui-input-date-range__textfield","tuiValueAccessor","","class","t-textfield",3,"disabled","focusable","invalid","maskito","nativeId","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value","focusedChange","valueChange",4,"tuiLet"],[3,"polymorpheus"],["automation-id","tui-input-date-range__textfield","tuiValueAccessor","",1,"t-textfield",3,"focusedChange","valueChange","disabled","focusable","invalid","maskito","nativeId","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value"],["automation-id","tui-input-date-range__icon","tuiAppearance","icon",3,"t-icon_small","t-icon","icon","click",4,"polymorpheusOutlet","polymorpheusOutletContext"],["tuiDate","","class","t-native-input",4,"ngIf"],["automation-id","tui-input-date-range__icon","tuiAppearance","icon",3,"click","icon"],["tuiDate","",1,"t-native-input"],["automation-id","tui-input-date__calendar",3,"dayClick","monthChange","mousedown.prevent.zoneless","disabledItemHandler","markerHandler","max","min","month","value"],["class","t-button",3,"mousedown.prevent.zoneless",4,"ngIf"],[1,"t-button",3,"mousedown.prevent.zoneless"],["tuiLink","","type","button",3,"click"]],template:function(i,o){if(i&1){let a=I();ce(Mr),l(0,"div",2),b("tuiDropdownOpenChange",function(y){return h(a),f(o.onOpenChange(y))}),C(1,Ir,3,11,"tui-primitive-textfield",3),M(2,"async"),C(3,Or,2,5,"ng-template",null,0,N)(5,Ar,2,7,"ng-template",4,1,N),c()}if(i&2){let a=k(6);u("tuiDropdown",a)("tuiDropdownEnabled",o.interactive&&!o.nativePicker)("tuiDropdownOpen",o.open),s(),u("tuiLet",V(2,5,o.filler$)),s(4),u("polymorpheus",o.type)}},dependencies:[K,qt,Ye,Nn,Ke,Ln,Te,mi,li,Lt,ri,oi,ni,O,E,Rt,Bt,Er,W],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:start}[_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}.t-icon[_ngcontent-%COMP%]{pointer-events:auto}.t-icon_small[_ngcontent-%COMP%]{border-width:.25rem}.t-button[_ngcontent-%COMP%]{display:flex;block-size:2.75rem;justify-content:center;box-shadow:inset 0 1px var(--tui-border-normal)}.t-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;text-align:center}.t-native-input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;opacity:0;pointer-events:auto;font-size:2rem}"],changeDetection:0});let r=t;return z([L],r.prototype,"computeMaskOptions",null),r})(),Ho=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=xt({imports:[S,Ke,pi,ci,si,E,Nt]});let r=t;return r})();var Fr=["*",[["input"]]],zr=["*","input"],Ro=r=>({$implicit:r});function Vr(r,t){if(r&1&&(_e(0),p(1),ve()),r&2){let n=t.polymorpheusOutlet;s(),T(" ",n," ")}}function Lr(r,t){if(r&1&&(l(0,"div",6),C(1,Vr,2,1,"ng-container",7),c()),r&2){let n=m(2);s(),u("polymorpheusOutlet",n.computedContent)("polymorpheusOutletContext",Q(2,Ro,n.value))}}function Hr(r,t){if(r&1){let n=I();l(0,"tui-primitive-textfield",4),b("valueChange",function(i){h(n);let o=m();return f(o.onValueChange(i))}),B(1),B(2,1,["ngProjectAs","input",5,["input"]]),C(3,Lr,2,4,"div",5),c()}if(r&2){let n=t.tuiLet,e=m(),i=k(4);u("disabled",e.computedDisabled)("invalid",e.computedInvalid)("maskito",e.computedMask)("nativeId",e.nativeId)("pseudoActive",e.pseudoActive)("pseudoFocus",e.innerPseudoFocused)("pseudoHover",e.pseudoHover)("readOnly",e.readOnly)("tuiTextfieldFiller",e.getComputedRangeFiller(n||""))("tuiTextfieldIcon",e.calendarIcon&&i)("value",e.computedValue),s(3),u("ngIf",e.showValueTemplate)}}function Rr(r,t){if(r&1){let n=I();l(0,"tui-icon",9),b("click",function(){h(n);let i=m(2);return f(i.onIconClick())}),c()}if(r&2){let n=t.polymorpheusOutlet,e=m(2);he("t-icon_small",e.size==="s")("t-icon",!e.computedDisabled),u("icon",n.toString())}}function Nr(r,t){if(r&1&&C(0,Rr,1,5,"tui-icon",8),r&2){let n=m();u("polymorpheusOutlet",n.calendarIcon)("polymorpheusOutletContext",Q(2,Ro,n.size))}}function Br(r,t){if(r&1){let n=I();l(0,"tui-calendar-range",10),Y("itemChange",function(i){h(n);let o=m();return j(o.selectedActivePeriod,i)||(o.selectedActivePeriod=i),f(i)}),b("valueChange",function(i){h(n);let o=m();return f(o.onRangeChange(i))}),c()}if(r&2){let n=m();u("defaultViewedMonth",n.defaultViewedMonth)("disabledItemHandler",n.disabledItemHandler)("items",n.items)("markerHandler",n.markerHandler)("max",n.max)("maxLength",n.maxLength)("min",n.min)("minLength",n.minLength)("value",n.value),U("item",n.selectedActivePeriod)}}var No=(()=>{let t=class t extends ii{constructor(){super(...arguments),this.isMobile=g(Vt),this.mobileCalendar=g(Yt,{optional:!0}),this.options=g(Ut),this.textfieldSize=g(ai),this.nativeValue=Tt(""),this.dateTexts$=g($t),this.valueTransformer=g(Gi,{optional:!0}),this.dateFiller$=this.dateTexts$.pipe(J(e=>Pt(e[this.dateFormat.mode],this.dateFormat.separator))),this.dateFormat=Ft,this.dateFormat$=g(zt).pipe(xe(this.cdr),pe()).subscribe(e=>{this.dateFormat=e}),this.selectedActivePeriod=null,this.disabledItemHandler=We,this.markerHandler=null,this.defaultViewedMonth=X.currentLocal(),this.items=[],this.min=this.options.min,this.max=this.options.max,this.minLength=null,this.maxLength=null,this.open=!1}get nativeFocusableElement(){var e;return((e=this.textfield)==null?void 0:e.nativeFocusableElement)??null}get focused(){var e;return!!((e=this.textfield)!=null&&e.focused)}get computedExampleText(){var e,i;return this.items.length&&((i=(e=this.textfield)==null?void 0:e.nativeFocusableElement)==null?void 0:i.placeholder)||""}get computedValue(){let{value:e,nativeValue:i,activePeriod:o}=this;return o?String(o):e?e.getFormattedDayRange(this.dateFormat.mode,this.dateFormat.separator):i()}get size(){return this.textfieldSize.size}onClick(){!this.isMobile&&this.interactive&&this.toggle()}onValueChange(e){this.nativeValue.set(e),this.control&&this.control.updateValueAndValidity({emitEvent:!1}),!e&&!this.mobileCalendar&&this.onOpenChange(!0),this.activePeriod&&this.nativeValue.set(""),this.value=e.length===An&&!this.activePeriod?q.normalizeParse(e,this.dateFormat.mode):null,this.value||(this.selectedActivePeriod=null)}onRangeChange(e){this.toggle(),this.focusInput(),e||this.nativeValue.set(""),this.value=e}writeValue(e){this.value===null&&e===this.value||(super.writeValue(e),this.nativeValue.set(this.value?this.computedValue:""),this.selectedActivePeriod=this.findActivePeriodBy(this.value))}get computedMobile(){return this.isMobile&&!!this.mobileCalendar}get calendarIcon(){return this.options.icon}get computedMask(){return this.activePeriod?Kt:this.calculateMask(this.dateFormat.mode,this.dateFormat.separator,this.min,this.max,this.minLength,this.maxLength)}get activePeriod(){return this.selectedActivePeriod??this.findActivePeriodBy(this.value)}get showValueTemplate(){return At(this.value)&&!this.focused}get computedContent(){var e;return((e=this.activePeriod)==null?void 0:e.content)||this.computedValue}get innerPseudoFocused(){return this.pseudoFocus===!1?!1:this.open||this.computedFocused?!0:null}getComputedRangeFiller(e){return this.activePeriod?"":this.getDateRangeFiller(e)}onIconClick(){this.isMobile&&this.interactive&&this.onOpenChange(!0)}onOpenChange(e){this.open=e}onActiveZone(e){this.updateFocused(e),!e&&!this.itemSelected&&(this.nativeValue().length===$e||this.nativeValue().length===$e+Yi.length)&&(this.value=q.normalizeParse(this.nativeValue(),this.dateFormat.mode))}valueIdenticalComparator(e,i){return Ie(e,i,(o,a)=>o.daySame(a))}get itemSelected(){return this.items.findIndex(e=>String(e)===this.nativeValue())!==-1}calculateMask(e,i,o,a,d,y){return lo({dateSeparator:i,mode:ui[e],min:(o||ke).toLocalNativeDate(),max:(a||ht).toLocalNativeDate(),minLength:d||{},maxLength:y||{}})}toggle(){this.open=!this.open}focusInput(e=!1){this.nativeFocusableElement&&this.nativeFocusableElement.focus({preventScroll:e})}getDateRangeFiller(e){return`${e}${Yi}${e}`}findActivePeriodBy(e){return this.items.find(i=>Ie(e,i.range,(o,a)=>o.from.daySame(a.from.dayLimit(this.min,this.max))&&o.to.daySame(a.to.dayLimit(this.min,this.max))))??null}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})(),t.\u0275cmp=x({type:t,selectors:[["tui-input-date-range"]],viewQuery:function(i,o){if(i&1&&ye(Te,5),i&2){let a;ne(a=oe())&&(o.textfield=a.first)}},hostVars:1,hostBindings:function(i,o){i&1&&b("click",function(){return o.onClick()}),i&2&&ee("data-size",o.size)},inputs:{disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",defaultViewedMonth:"defaultViewedMonth",items:"items",min:"min",max:"max",minLength:"minLength",maxLength:"maxLength"},standalone:!1,features:[H([Jt(t),Ht(t),ei(t),Wt(Gi),Kn(t),Qt]),ge],ngContentSelectors:zr,decls:7,vars:6,consts:[["iconContent",""],["dropdown",""],["tuiDropdownOpenMonitor","",1,"t-hosted",3,"tuiActiveZoneChange","tuiDropdownOpenChange","tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen"],["automation-id","tui-input-date-range__textfield","tuiValueAccessor","","class","t-textfield",3,"disabled","invalid","maskito","nativeId","pseudoActive","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value","valueChange",4,"tuiLet"],["automation-id","tui-input-date-range__textfield","tuiValueAccessor","",1,"t-textfield",3,"valueChange","disabled","invalid","maskito","nativeId","pseudoActive","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value"],["ngProjectAs","tuiContent","class","t-value",5,["tuiContent"],4,"ngIf"],["ngProjectAs","tuiContent",5,["tuiContent"],1,"t-value"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["automation-id","tui-input-date-range__icon","tuiAppearance","icon",3,"t-icon_small","t-icon","icon","click",4,"polymorpheusOutlet","polymorpheusOutletContext"],["automation-id","tui-input-date-range__icon","tuiAppearance","icon",3,"click","icon"],[3,"itemChange","valueChange","defaultViewedMonth","disabledItemHandler","items","markerHandler","max","maxLength","min","minLength","value","item"]],template:function(i,o){if(i&1){let a=I();ce(Fr),l(0,"div",2),b("tuiActiveZoneChange",function(y){return h(a),f(o.onActiveZone(y))})("tuiDropdownOpenChange",function(y){return h(a),f(o.onOpenChange(y))}),C(1,Hr,4,12,"tui-primitive-textfield",3),M(2,"async"),C(3,Nr,1,4,"ng-template",null,0,N)(5,Br,1,10,"ng-template",null,1,N),c()}if(i&2){let a=k(6);u("tuiDropdown",a)("tuiDropdownEnabled",o.interactive)("tuiDropdownOpen",o.open&&o.interactive),s(),u("tuiLet",V(2,4,o.dateFiller$))}},dependencies:[K,qt,Lt,Ye,Te,mi,ri,oi,gi,li,ni,E,O,Rt,Bt,W],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:start}._disabled[_nghost-%COMP%], [_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}.t-icon[_ngcontent-%COMP%]{pointer-events:auto}.t-icon_small[_ngcontent-%COMP%]{border-width:.25rem}.t-value[_ngcontent-%COMP%]{display:flex;inline-size:100%;align-items:center}"],changeDetection:0});let r=t;return z([L],r.prototype,"calculateMask",null),r})(),Bo=(()=>{let t=class t extends ti{get value(){return this.host.computedValue}onValueChange(e){this.host.onValueChange(e)}process(e){e.inputMode="numeric"}ngDoCheck(){this.host.nativeFocusableElement&&(this.host.nativeFocusableElement.placeholder=this.host.computedExampleText)}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=de(t)))(o||t)}})(),t.\u0275dir=$({type:t,selectors:[["tui-input-date-range"]],standalone:!1,features:[H([_t(t)]),ge]});let r=t;return r})(),jo=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=xt({imports:[S,pi,si,gi,ci,E,Nt]});let r=t;return r})();var jr=[{id:"1",date:"17.07.2024"}],Se=class Se{constructor(){this.progress$=nn(300,200).pipe(J(t=>t+30),rn(30),an(t=>t<=100));this.schedule=jr}};Se.\u0275fac=function(n){return new(n||Se)},Se.\u0275prov=A({token:Se,factory:Se.\u0275fac,providedIn:"root"});var fi=Se;function $r(r,t){if(r&1&&(l(0,"tui-input-date",5),p(1," cleaning time "),v(2,"input",8),c()),r&2){let n=t.$implicit,e=t.$index,i=m();u("formControl",n)("min",i.now)("readOnly",e===0)}}function Ur(r,t){if(r&1&&(l(0,"label",9)(1,"span",10),p(2),c(),v(3,"tui-progress-circle",11),M(4,"async"),c()),r&2){let n=t.ngIf,e=m();_("margin-bottom","auto"),s(2),T("",n,"%"),s(),_("color",V(4,7,e.color$)),u("max",100)("value",n)}}var Xe=class Xe{constructor(){this.cleaningService=g(fi);this.now=D.currentLocal();this.forms=new je(this.cleaningService.schedule.map(t=>new De(new D(D.parseRawDateString(t.date).year,D.parseRawDateString(t.date).month,D.parseRawDateString(t.date).day))));this.color$=this.cleaningService.progress$.pipe(J(t=>t<33?"var(--tui-status-negative)":t<66?"var(--tui-status-warning)":"var(--tui-background-accent-1)"))}addNew(){this.forms.push(new De)}};Xe.\u0275fac=function(n){return new(n||Xe)},Xe.\u0275cmp=x({type:Xe,selectors:[["lmb-cleaning"]],decls:12,vars:5,consts:[["tuiAppearance","whiteblock","tuiCardLarge","normal",1,"card"],["tuiHeader",""],["tuiTitle",""],[1,"timetable"],[1,"list"],[1,"input-date",3,"formControl","min","readOnly"],["tuiProgressLabel","",3,"margin-bottom",4,"ngIf"],["appearance","primary","tuiButton","","type","button",1,"add-button",3,"click"],["tuiTextfieldLegacy",""],["tuiProgressLabel",""],[1,"percent"],["size","s",3,"max","value"]],template:function(n,e){n&1&&(l(0,"div",0)(1,"header",1)(2,"h2",2),p(3," Cleaning schedule "),c()(),l(4,"div",3)(5,"div",4),te(6,$r,3,3,"tui-input-date",5,fe),c(),C(8,Ur,5,9,"label",6),M(9,"async"),c(),l(10,"button",7),b("click",function(){return e.addNew()}),p(11," Add "),c()()),n&2&&(s(2),_("text-align","center"),s(4),ie(e.forms.controls),s(2),u("ngIf",V(9,3,e.cleaningService.progress$)))},dependencies:[W,S,K,Z,G,be,Be,O,Ue,F,Ho,Lo,hi,vo,co,uo],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;block-size:100%;background-color:var(--tui-background-base)}.add-button[_ngcontent-%COMP%]{max-inline-size:7rem}.list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.625rem}.percent[_ngcontent-%COMP%]{font:var(--tui-font-text-m)}tui-progress-circle[_ngcontent-%COMP%]{transition:color 2s}.input-date[_ngcontent-%COMP%]{inline-size:10rem}.timetable[_ngcontent-%COMP%]{display:flex;gap:.625rem}"],changeDetection:0});var _i=Xe;var Yr=[{name:"Room temperature C\xB0",value:32},{name:"Water temperature",value:0},{name:"Air humidity, %",value:10}],Oe=class Oe{constructor(){this.climateControlData=Yr}};Oe.\u0275fac=function(n){return new(n||Oe)},Oe.\u0275prov=A({token:Oe,factory:Oe.\u0275fac,providedIn:"root"});var vi=Oe;function Qr(r,t){if(r&1){let n=I();l(0,"tui-input-number",5),Y("ngModelChange",function(i){let o=h(n).$implicit;return j(o.value,i)||(o.value=i),f(i)}),p(1),c()}if(r&2){let n=t.$implicit;U("ngModel",n.value),s(),T(" ",n.name," ")}}var qe=class qe{constructor(){this.climateControlService=g(vi).climateControlData}};qe.\u0275fac=function(n){return new(n||qe)},qe.\u0275cmp=x({type:qe,selectors:[["lmb-climate-control"]],features:[H([Vn({precision:0}),yo({step:1})])],decls:6,vars:3,consts:[["tuiAppearance","whiteblock","tuiCardLarge","normal",1,"card"],["tuiHeader",""],["tuiTitle",""],[1,"group"],[3,"ngModel","ngModelChange",4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel"]],template:function(n,e){n&1&&(l(0,"div",0)(1,"header",1)(2,"h2",2),p(3," Climate control "),c()(),l(4,"div",3),C(5,Qr,2,2,"tui-input-number",4),c()()),n&2&&(s(2),_("text-align","center"),s(3),u("ngForOf",e.climateControlService))},dependencies:[S,R,Z,G,me,O,F,xo,Co,bo],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-shrink:0;background-color:var(--tui-background-base);block-size:100%}.card[tuiCardLarge][_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]:last-child{display:flex;margin-top:0;flex-direction:column;gap:.625rem}"],changeDetection:0});var yi=qe;var Je=[{name:"Misha Zhem",img:"./example.png",status:"online"},{name:"Oleg B.",img:"OB",status:"online"},{name:"Andrey M.",img:"AM",status:"online"},{name:"Misha Zhem3",img:"./example.png",status:"online"},{name:"Vladimir D.",img:"VD",status:"online"},{name:"Gleb H.",img:"GH",status:"online"},{name:"Misha Zhem2",img:"./example.png",status:"online"},{name:"Misha Zhem4",img:"./example.png",status:"online"},{name:"Gleb H.",img:"GH",status:"online"},{name:"Andrey M.",img:"AM",status:"online"}],et=[{name:"Misha Zhem4",img:"./example.png",status:"online",last:"9:12 PM",took:!0},{name:"Oleg B.",img:"OB",status:"online",last:"11:35 AM",took:!0},{name:"Andrey M.",img:"AM",status:"online",last:"12:15 AM",took:!1},{name:"Misha Zhem2",img:"./example.png",status:"online",last:"8:45 PM",took:!1},{name:"Misha Zhem",img:"./example.png",status:"online",last:"1:10 PM",took:!1},{name:"Misha Zhem3",img:"./example.png",status:"online",last:"11:05 AM",took:!0},{name:"Gleb H.",img:"GH",status:"online",last:"1:15 AM",took:!1},{name:"Vladimir D.",img:"VD",status:"online",last:"3:15 PM",took:!0},{name:"Oleg B.",img:"OB",status:"online",last:"11:35 AM",took:!0},{name:"Andrey M.",img:"AM",status:"online",last:"12:15 AM",took:!1}],Kr={contacts:Je.concat(Je,Je,Je,Je,Je),recent:et.concat(et,et,et,et,et)},Pe=class Pe{constructor(){this.contactsData=Kr}};Pe.\u0275fac=function(n){return new(n||Pe)},Pe.\u0275prov=A({token:Pe,factory:Pe.\u0275fac,providedIn:"root"});var Ci=Pe;function Gr(r,t){if(r&1){let n=I();l(0,"button",3),b("click",function(){let i=h(n).$index,o=m();return f(o.activeTab=i)}),l(1,"header",4)(2,"h2",5),p(3),c()()()}if(r&2){let n=t.$implicit;s(2),_("text-align","center"),s(),T(" ",n," ")}}function Zr(r,t){if(r&1&&(l(0,"div",8),v(1,"tui-avatar",9),M(2,"tuiAutoColor"),l(3,"div",5),p(4),l(5,"div",10),p(6),c()(),l(7,"button",11),p(8," Call "),c()()),r&2){let n=t.$implicit;s(),_("background",V(2,5,n.img)),u("src",n.img),s(3),T(" ",n.name," "),s(2),ue(n.status)}}function Xr(r,t){if(r&1&&(l(0,"tui-scrollbar")(1,"cdk-virtual-scroll-viewport",6),C(2,Zr,9,7,"div",7),c()()),r&2){let n=m();s(2),u("cdkVirtualForOf",n.contactsService.contacts)}}function qr(r,t){if(r&1&&(l(0,"div",8)(1,"tui-badged-content"),v(2,"tui-avatar",12),M(3,"tuiAutoColor"),v(4,"tui-icon",13),c(),l(5,"div",5),p(6),l(7,"div",10),p(8),c()(),l(9,"div",10),p(10),c()()),r&2){let n=t.$implicit;s(2),_("background",V(3,8,n.img)),u("src",n.img),s(2),u("appearance",n.took?"error":"success")("icon",n.took?"@tui.arrow-down-left":"@tui.arrow-up-right"),s(2),T(" ",n.name," "),s(2),ue(n.status),s(2),ue(n.last)}}function Jr(r,t){if(r&1&&(l(0,"tui-scrollbar")(1,"cdk-virtual-scroll-viewport",6),C(2,qr,11,10,"div",7),c()()),r&2){let n=m();s(2),u("cdkVirtualForOf",n.contactsService.recent)}}var tt=class tt{constructor(){this.contactsService=g(Ci).contactsData;this.tabs=["Contacts","Recent"];this.activeTab=0}};tt.\u0275fac=function(n){return new(n||tt)},tt.\u0275cmp=x({type:tt,selectors:[["lmb-contacts"]],decls:6,vars:4,consts:[["tuiAppearance","whiteblock","tuiCardLarge","normal"],[3,"activeItemIndex"],["tuiTab","","type","button"],["tuiTab","","type","button",3,"click"],["tuiHeader",""],["tuiTitle",""],["itemSize","57","tuiScrollable","",1,"contacts-list","viewport","tui-zero-scrollbar"],["tuiCell","l",4,"cdkVirtualFor","cdkVirtualForOf"],["tuiCell","l"],[3,"src"],["tuiSubtitle",""],["appearance","icon","iconStart","@tui.phone","tuiIconButton","","type","button"],[1,"avatar",3,"src"],["size","s","tuiBadge","","tuiSlot","top",3,"appearance","icon"]],template:function(n,e){n&1&&(l(0,"div",0)(1,"tui-tabs",1),te(2,Gr,4,3,"button",2,fe),c(),C(4,Xr,3,1,"tui-scrollbar")(5,Jr,3,1,"tui-scrollbar"),c()),n&2&&(_("height","100%"),s(),u("activeItemIndex",e.activeTab),s(),ie(e.tabs),s(2),wt(e.activeTab===0?4:5))},dependencies:[Mo,Do,wo,S,O,Un,Gt,ao,Po,Ao,Ue,F,go,E,$n,Wn,mo,po],styles:["tui-tabs[_ngcontent-%COMP%]{display:flex;justify-content:space-around}[tuiCardLarge][_ngcontent-%COMP%]   [tuiCell][data-size=l][_ngcontent-%COMP%]{margin:0;border-radius:0;box-shadow:0 1px var(--tui-border-normal)}tui-scrollbar[_ngcontent-%COMP%], .viewport[_ngcontent-%COMP%]{block-size:100%;min-block-size:12rem}tui-badged-content[_ngcontent-%COMP%]   tui-avatar[_ngcontent-%COMP%]{--t-size: 2.5rem;font:var(--tui-font-text-m);font-weight:700}"],changeDetection:0});var bi=tt;var ea=[{name:"Open the door",img:"@tui.door-open",clickedName:"Close the door",clickedImg:"@tui.door-closed"},{name:"Call security",img:"@tui.shield-alert",clickedName:"Call off security",clickedImg:"@tui.octagon-x"},{name:"Turn up the heat",img:"@tui.heater",clickedName:"Turn off the heat",clickedImg:"@tui.refrigerator"},{name:"Turn on the kettle",img:"@tui.coffee",clickedName:"Turn off the kettle",clickedImg:"@tui.cup-soda"}],Ae=class Ae{constructor(){this.controlPanelData=ea}};Ae.\u0275fac=function(n){return new(n||Ae)},Ae.\u0275prov=A({token:Ae,factory:Ae.\u0275fac,providedIn:"root"});var xi=Ae;function ta(r,t){if(r&1){let n=I();l(0,"button",1),b("click",function(){let i=h(n).$index,o=m();return f(o.states[i]=!o.states[i])}),l(1,"aside",2),v(2,"tui-avatar",3),c(),l(3,"h2",4),p(4),c()()}if(r&2){let n=t.$implicit,e=t.$index,i=m();s(2),_("color","var(--tui-background-accent-opposite)"),u("src",i.states[e]?n.clickedImg:n.img),s(2),T(" ",i.states[e]?n.clickedName:n.name," ")}}var it=class it{constructor(){this.controlPanelService=g(xi).controlPanelData;this.states=new Array(this.controlPanelService.length).fill(!1)}};it.\u0275fac=function(n){return new(n||it)},it.\u0275cmp=x({type:it,selectors:[["lmb-small-card"]],decls:2,vars:0,consts:[["tuiCardLarge","","tuiHeader","","tuiSurface","elevated","type","button",1,"button-card"],["tuiCardLarge","","tuiHeader","","tuiSurface","elevated","type","button",1,"button-card",3,"click"],["tuiAccessories",""],["appearance","","size","l",3,"src"],[1,"text"]],template:function(n,e){n&1&&te(0,ta,5,4,"button",0,fe),n&2&&ie(e.controlPanelService)},dependencies:[S,Gt,F,ho,no],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-wrap:wrap;gap:.625rem;align-items:center;justify-content:space-around}@media (max-width: 50rem) and (min-width: 31.35rem){[_nghost-%COMP%]{display:grid;grid-template-columns:1fr 1fr}}.text[_ngcontent-%COMP%]{font:var(--tui-font-heading-6);margin-top:1rem;margin-bottom:1rem}[tuiHeader][_ngcontent-%COMP%]   [tuiAccessories][_ngcontent-%COMP%]{gap:0}.button-card[_ngcontent-%COMP%]{display:flex;max-inline-size:max-content;align-items:center;padding-right:1.75rem;gap:1rem}@media (max-width: 50rem){.button-card[_ngcontent-%COMP%]{inline-size:100%;block-size:100%;max-inline-size:100%}}@media (max-width: 31.25rem){.button-card[_ngcontent-%COMP%]{inline-size:calc(100vw - 5.5rem);max-inline-size:calc(100vw - 5.5rem);flex-shrink:0}}.button-card[_ngcontent-%COMP%]:last-child{grid-column:1 / 3}"],changeDetection:0});var Ti=it;function ia(r,t){if(r&1&&v(0,"div",1),r&2){let n=t.$implicit,e=t.index,i=m();_("background","var(--tui-chart-categorical-0"+e+")")("height",i.getHeight(n),"%")}}var $o=(()=>{let t=class t{constructor(){this.value=[],this.size="m"}getHeight(e){return 100*e/this.getSum(this.value)}getSum(e){return Ot(...e)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=x({type:t,selectors:[["tui-bar"]],hostVars:1,hostBindings:function(i,o){i&2&&ee("data-size",o.size)},inputs:{value:"value",size:"size"},decls:1,vars:1,consts:[["automation-id","tui-bar__bar",3,"background","height",4,"ngFor","ngForOf"],["automation-id","tui-bar__bar"]],template:function(i,o){i&1&&C(0,ia,1,4,"div",0),i&2&&u("ngForOf",o.value)},dependencies:[R],styles:["[_nghost-%COMP%]{display:flex;min-inline-size:.125rem;flex-direction:column-reverse;border-top-left-radius:var(--tui-radius-l);border-top-right-radius:var(--tui-radius-l);overflow:hidden}[data-size=l][_nghost-%COMP%]{inline-size:1rem;max-inline-size:1rem;margin:0 .1875rem}[data-size=m][_nghost-%COMP%]{inline-size:.5rem;max-inline-size:.5rem;margin:0 .1875rem}[data-size=s][_nghost-%COMP%]{inline-size:.25rem;max-inline-size:.5rem;margin:0 .125rem}"],changeDetection:0});let r=t;return z([L],r.prototype,"getSum",null),r})();var na=["*"],oa=(r,t)=>({$implicit:r,index:t,flexible:!1}),ra=(r,t)=>({$implicit:r,index:t,flexible:!0});function aa(r,t){if(r&1&&Dt(0,5),r&2){let n=t.$implicit,e=t.index;m(2);let i=k(4);u("ngTemplateOutlet",i)("ngTemplateOutletContext",$i(2,oa,n,e))}}function sa(r,t){if(r&1&&(_e(0),C(1,aa,1,5,"ng-container",4),ve()),r&2){let n=m();s(),u("ngForOf",n.computedValue)}}function la(r,t){if(r&1&&(l(0,"div",7),Dt(1,5),c()),r&2){let n=t.$implicit,e=t.index;m(2);let i=k(4);s(),u("ngTemplateOutlet",i)("ngTemplateOutletContext",$i(2,ra,n,e))}}function ca(r,t){if(r&1&&C(0,la,2,5,"div",6),r&2){let n=m();u("ngForOf",n.computedValue)}}function ua(r,t){if(r&1&&v(0,"tui-bar",8),r&2){let n=t.flexible,e=t.index,i=t.$implicit,o=m();_("background","var(--tui-chart-categorical-0"+e+")")("height",o.getHeight(i),"%"),he("t-bar_flexible",n)("t-bar_negative",i<0),u("size",o.computedSize)("value",o.computedSegments)}}var ma=100,pa=[],da=[1],Uo=(()=>{let t=class t{constructor(){this.value=[],this.size="m",this.collapsed=!1}get computedValue(){return this.collapsed?da:this.value}get computedSegments(){return this.collapsed?this.value:pa}get computedSize(){return this.size||"m"}getHeight(e){return Math.abs(ma*e/this.getLargest(this.computedValue))}getLargest(e){return e.some(i=>i>0)?e.reduce((i,o)=>i>o?i:o,0):Math.abs(e.reduce((i,o)=>i<o?i:o,0))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=x({type:t,selectors:[["tui-bar-set"]],inputs:{value:"value",size:"size",collapsed:"collapsed"},ngContentSelectors:na,decls:7,vars:2,consts:[["flexible",""],["bar",""],[4,"ngIf","ngIfElse"],[1,"t-label"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","t-wrapper",4,"ngFor","ngForOf"],[1,"t-wrapper"],["automation-id","tui-bar-set__bar",1,"t-bar",3,"size","value"]],template:function(i,o){if(i&1&&(ce(),C(0,sa,2,1,"ng-container",2)(1,ca,1,1,"ng-template",null,0,N)(3,ua,1,10,"ng-template",null,1,N),l(5,"span",3),B(6),c()),i&2){let a=k(2);u("ngIf",o.size)("ngIfElse",a)}},dependencies:[R,K,vn,$o],styles:["[_nghost-%COMP%]{position:relative;display:flex;block-size:100%;align-items:flex-end;justify-content:center}.t-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;block-size:100%;align-items:flex-end}.t-wrapper[_ngcontent-%COMP%]:first-of-type{margin-left:25%}.t-wrapper[_ngcontent-%COMP%]:last-of-type{margin-right:25%}.t-bar[_ngcontent-%COMP%]{transform-origin:bottom center}.t-bar_negative[_ngcontent-%COMP%]{transform:rotate(180deg);opacity:var(--tui-disabled-opacity)}.t-bar.t-bar_flexible[_ngcontent-%COMP%]{max-inline-size:none;inline-size:75%;margin:0 auto}.t-label[_ngcontent-%COMP%]{position:absolute;top:-1.5rem;font:var(--tui-font-text-xs);color:var(--tui-text-secondary)}"],changeDetection:0});let r=t;return z([L],r.prototype,"getLargest",null),r})();var ha=r=>({$implicit:r});function fa(r,t){if(r&1){let n=I();l(0,"div",2),M(1,"async"),b("mouseenter.once",function(){return h(n),f(0)}),l(2,"div",3),M(3,"tuiMapper"),v(4,"div",4,0)(6,"tui-bar-set",5),c()()}if(r&2){let n=t.$implicit,e=t.index,i=k(5),o=m();he("t-wrapper_hoverable",!!o.hintContent)("t-wrapper_hovered",V(1,15,o.drivers.get(e))),u("tuiHint",o.hintContent)("tuiHintContext",Q(22,ha,e))("tuiHintDescribe",o.getHintId(e))("tuiHintHost",i),s(2),_("height",hn(3,17,n,o.percentMapper,o.collapsed,o.computedMax),"%"),s(4),u("collapsed",o.collapsed)("id",o.getHintId(e))("size",o.size)("tabIndex",o.hintContent?0:-1)("value",n)}}var Yo=(()=>{let t=class t{constructor(){this.hintOptions=g(Ge,{optional:!0}),this.autoId=jn(),this.drivers=gt,this.value=[],this.max=NaN,this.size="m",this.collapsed=!1,this.percentMapper=(e,i,o)=>100*(i?Ot(...e):Math.max(...e))/o}get transposed(){return this.transpose(this.value)}get computedMax(){return this.max||this.getMax(this.value,this.collapsed)}get hintContent(){var e;return((e=this.hintOptions)==null?void 0:e.content)||""}getHintId(e){return`${this.autoId}_${e}`}transpose(e){return e.reduce((i,o)=>o.map((a,d)=>[...i[d]||[],o[d]||0]),[])}getMax(e,i){return i?Math.max(...e.reduce((o,a)=>o.map((d,y)=>d+(a[y]||0)))):e.reduce((o,a)=>Math.max(...a,o),0)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=x({type:t,selectors:[["tui-bar-chart"]],viewQuery:function(i,o){if(i&1&&ye(qn,5),i&2){let a;ne(a=oe())&&(o.drivers=a)}},inputs:{value:"value",max:"max",size:"size",collapsed:"collapsed"},features:[H([],[Xn({direction:"top"})])],decls:1,vars:1,consts:[["hintHost",""],["class","t-wrapper",3,"t-wrapper_hoverable","t-wrapper_hovered","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost","mouseenter.once",4,"ngFor","ngForOf"],[1,"t-wrapper",3,"mouseenter.once","tuiHint","tuiHintContext","tuiHintDescribe","tuiHintHost"],[1,"t-container"],[1,"t-host"],[1,"t-set",3,"collapsed","id","size","tabIndex","value"]],template:function(i,o){i&1&&C(0,fa,7,24,"div",1),i&2&&u("ngForOf",o.transposed)},dependencies:[W,R,Uo,Jn,eo,to,Qe],styles:["[_nghost-%COMP%]{display:flex;flex:1;block-size:100%}.t-wrapper[_ngcontent-%COMP%]{transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;display:flex;flex:1;align-items:flex-end;justify-content:center;block-size:100%}.t-wrapper_hoverable[_ngcontent-%COMP%]{cursor:pointer}.t-wrapper_hoverable[_ngcontent-%COMP%]:hover, .t-wrapper_hoverable.t-wrapper_hovered[_ngcontent-%COMP%]{background-color:#0000000d}.t-container[_ngcontent-%COMP%]{flex:1}.t-host[_ngcontent-%COMP%]{position:absolute;left:50%;right:50%}.t-set[_ngcontent-%COMP%]{border-radius:var(--tui-radius-m);pointer-events:none;outline:none}.t-set[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px var(--tui-border-focus)}"],changeDetection:0});let r=t;return z([L],r.prototype,"transpose",null),z([L],r.prototype,"getMax",null),r})();var _a=r=>({$implicit:r});function va(r,t){if(r&1&&v(0,"tui-line-chart",2),r&2){let n,e,i=t.$implicit,o=t.first,a=m(),d=k(2);_("z-index",a.zIndex),u("dots",a.dots)("height",a.height)("smoothingFactor",a.smoothingFactor)("tuiHintContent",a.hintContent?d:"")("value",i)("width",o?a.firstWidth:a.getWidth((n=i[0]==null?null:i[0][0])!==null&&n!==void 0?n:0))("x",o?0:a.getX((e=i[0]==null?null:i[0][0])!==null&&e!==void 0?e:0))("xStringify",a.xStringify?a.daysStringify:null)("y",a.y)("yStringify",a.yStringify)}}function ya(r,t){if(r&1&&(_e(0),p(1),ve()),r&2){let n=t.polymorpheusOutlet;s(),T(" ",n," ")}}function Ca(r,t){if(r&1&&C(0,ya,2,1,"ng-container",3),r&2){let n=t.$implicit,e=m();u("polymorpheusOutlet",e.hintContent)("polymorpheusOutletContext",Q(2,_a,e.getHintContext(n[0],e.value)))}}function Qo(r,t){return r.find(([n])=>n.daySame(t))||[t,NaN]}var qi=(()=>{let t=class t{constructor(){this.charts=gt,this.destroyRef=g(Li),this.zone=g(Hi),this.hovered$=g(ft)}ngAfterContentInit(){Ct([...this.charts.map(({charts:e})=>Zi(e)),this.hovered$]).pipe(bt(e=>!e.some(Boolean)),Qi(this.zone),pe(this.destroyRef)).subscribe(()=>{this.charts.forEach(e=>e.onHovered(NaN))})}getContext(e){return this.getMap(...this.charts.map(({value:i})=>i)).get(String(e))||[]}raise(e){let i=this.charts.map(({value:a})=>e?Qo(a,e):[]).filter(([a,d])=>!Number.isNaN(d)),o=[...i].sort((a,d)=>a[1]-d[1]);this.charts.forEach((a,d)=>{let y=i[d];a.onHovered(e),a.zIndex=Math.max(y?o.indexOf(y):0,0)})}getMap(...e){return(e[0]||[]).reduce((i,[o])=>i.set(String(o),e.map(a=>Qo(a,o))),new Map)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=$({type:t,selectors:[["","tuiLineChartHint",""]],contentQueries:function(i,o,a){if(i&1&&Ni(a,Ji,4),i&2){let d;ne(d=oe())&&(o.charts=d)}},inputs:{hint:[0,"tuiLineChartHint","hint"]},features:[H([ft])]});let r=t;return z([L],r.prototype,"getMap",null),r})(),ba=[NaN,NaN],Ji=(()=>{let t=class t{constructor(){this.destroyRef=g(Li),this.zone=g(Hi),this.hovered$=g(ft),this.options=g(Io),this.hintDirective=g(qi,{optional:!0}),this.charts=gt,this.y=0,this.height=0,this.smoothingFactor=this.options.smoothingFactor,this.xStringify=null,this.yStringify=null,this.dots=this.options.dots,this.zIndex=0,this.value=[],this.daysStringify=e=>{let i=this.getDay(e);return this.xStringify&&i?this.xStringify(i):""}}set valueSetter(e){var y;if(!e.length){this.value=[];return}let i=(y=e[0])==null?void 0:y[0],o=e[e.length-1],a=[...e],d=i&&o?D.lengthBetween(i,o[0])+1:0;this.value=Array.from({length:d},(P,ae)=>{var tn;let se=(tn=a[0])==null?void 0:tn[0],le=i==null?void 0:i.append({day:ae}),Me=se&&(le!=null&&le.daySame(se))?a.shift():null,ut=Me?Me[1]:NaN;return[le,ut]})}get hint(){var e;return((e=this.hintDirective)==null?void 0:e.hint)??this.hintContent}ngAfterViewInit(){Ct([Zi(this.charts),this.hovered$]).pipe(bt(e=>!e.some(Boolean)),Qi(this.zone),pe(this.destroyRef)).subscribe(()=>{this.onHovered(NaN)})}onHovered(e){var y;if(On(e)){this.charts.forEach(P=>P.onHovered(NaN));return}let i=(y=this.value[0])==null?void 0:y[0],o=i&&e?X.lengthBetween(i,e):0,a=i&&e?D.lengthBetween(i,e)+i.day-1:0,d=this.charts.get(o);this.charts.forEach(P=>{P===d?d.onHovered(d.value.findIndex(ae=>ae[0]===a)):P.onHovered(NaN)})}raise(e,{value:i}){var d;let o=((d=i[e])==null?void 0:d[0])||0,a=this.getDay(o);a&&(this.hintDirective?this.hintDirective.raise(a):this.onHovered(a))}getContext(e,{value:i}){var d;let o=((d=i[e])==null?void 0:d[0])||0,a=this.getDay(o);return this.hintDirective&&a?this.hintDirective.getContext(a):this.getHintContext(o,this.value)}get months(){return this.value.length?this.breakMonths(this.value):kn}get firstWidth(){var e;return this.months.length*(((e=this.value[0])==null?void 0:e[0].daysCount)||0)}getHintContext(e,i){var o,a;return i[e-(((a=(o=i[0])==null?void 0:o[0])==null?void 0:a.day)||0)+1]??null}getX(e){var y;let i=(y=this.value[0])==null?void 0:y[0],o=this.getDay(e),d=(i&&o?X.lengthBetween(i,o):0)*((o==null?void 0:o.daysCount)||0);return e-d}getWidth(e){var i;return(((i=this.getDay(e))==null?void 0:i.daysCount)||0)*this.months.length}breakMonths(e){var d,y,P;let i=(((d=e[0])==null?void 0:d[0].day)||1)-1,o=(y=e[0])==null?void 0:y[0],a=(P=e[e.length-1])==null?void 0:P[0];return Array.from({length:o&&a?X.lengthBetween(o,a)+1:0},(ae,se)=>se+((o==null?void 0:o.month)||0)+((o==null?void 0:o.year)||0)*12).map(ae=>e.map(([{month:se,year:le},Me],ut)=>se+le*12===ae?[ut+i,Me]:null).filter(At)).map((ae,se,le)=>{var Me;return se===le.length-1?ae:[...ae,((Me=le[se+1])==null?void 0:Me.find(ut=>!Number.isNaN(ut[1])))||ba]})}getDay(e){var o,a;let i=(o=this.value[0])==null?void 0:o[0];return(a=this.value[e-((i==null?void 0:i.day)||0)+1])==null?void 0:a[0]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=x({type:t,selectors:[["tui-line-days-chart"]],viewQuery:function(i,o){if(i&1&&ye(vt,5),i&2){let a;ne(a=oe())&&(o.charts=a)}},hostVars:2,hostBindings:function(i,o){i&2&&_("z-index",o.zIndex)},inputs:{y:"y",height:"height",smoothingFactor:"smoothingFactor",hintContent:"hintContent",xStringify:"xStringify",yStringify:"yStringify",dots:"dots",valueSetter:[0,"value","valueSetter"]},features:[H([ft,{provide:ko,useExisting:t}])],decls:3,vars:1,consts:[["hint",""],["class","t-chart",3,"dots","height","smoothingFactor","zIndex","tuiHintContent","value","width","x","xStringify","y","yStringify",4,"ngFor","ngForOf"],[1,"t-chart",3,"dots","height","smoothingFactor","tuiHintContent","value","width","x","xStringify","y","yStringify"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(i,o){i&1&&C(0,va,1,12,"tui-line-chart",1)(1,Ca,1,4,"ng-template",null,0,N),i&2&&u("ngForOf",o.months)},dependencies:[R,Ye,Ge,vt],styles:["[_nghost-%COMP%]{display:block}.t-chart[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%}"],changeDetection:0});let r=t;return z([L],r.prototype,"getHintContext",null),z([L],r.prototype,"breakMonths",null),r})();var xa={value:[[1e3,8e3,4e3,3e3,4e3],[6e3,2e3,4500,7e3,5e3]],labelsX:["Jan 2021","Feb","Mar"],labelsY:["0","10 000"]},Ee=class Ee{constructor(){this.costData=xa}};Ee.\u0275fac=function(n){return new(n||Ee)},Ee.\u0275prov=A({token:Ee,factory:Ee.\u0275fac,providedIn:"root"});var Mi=Ee;var nt=class nt{constructor(){this.costService=g(Mi).costData;this.hint=({$implicit:t})=>this.costService.value.reduce((n,e)=>`${n}$${Rn(e[t])}
`,"").trim()}};nt.\u0275fac=function(n){return new(n||nt)},nt.\u0275cmp=x({type:nt,selectors:[["lmb-cost"]],decls:15,vars:7,consts:[["tuiAppearance","whiteblock","tuiCardLarge","normal",1,"card"],["tuiHeader","s"],["tuiTitle","s"],[1,"legend"],[1,"item"],[1,"name"],[1,"flex"],[1,"axes",3,"axisXLabels","axisYLabels"],[3,"max","tuiHintContent","value"]],template:function(n,e){n&1&&(l(0,"div",0)(1,"div")(2,"header",1)(3,"h2",2),p(4," Utility costs "),c()(),l(5,"p",3)(6,"span",4)(7,"small",5),p(8,"Electricity bills"),c()(),l(9,"span",4)(10,"small",5),p(11,"Light bills"),c()()(),l(12,"div",6)(13,"tui-axes",7),v(14,"tui-bar-chart",8),c()()()()),n&2&&(s(3),_("text-align","center"),s(10),u("axisXLabels",e.costService.labelsX)("axisYLabels",e.costService.labelsY),s(),u("max",1e4)("tuiHintContent",e.hint)("value",e.costService.value))},dependencies:[S,Z,O,di,Yo,F,Ge,To],styles:['.axes[_ngcontent-%COMP%]{min-block-size:18.75rem;inline-size:100%;--tui-chart-categorical-00: var(--tui-background-accent-1);--tui-chart-categorical-01: var(--tui-chart-categorical-12)}.flex[_ngcontent-%COMP%]{display:flex;inline-size:100%}.select[_ngcontent-%COMP%]{max-inline-size:20rem}.card[_ngcontent-%COMP%]{inline-size:100%;block-size:100%;background-color:var(--tui-background-base)}.legend[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.item[_ngcontent-%COMP%]{color:var(--tui-background-accent-1);display:flex;align-items:center;margin:0 .75rem}.item[_ngcontent-%COMP%]:last-child{color:var(--tui-chart-categorical-12)}.item[_ngcontent-%COMP%]:before{content:"";border-bottom:.125rem solid;inline-size:1rem;margin-right:.5rem}.name[_ngcontent-%COMP%]{color:var(--tui-text-primary)}'],changeDetection:0});var wi=nt;var Fe=class Fe{generateRandomData({from:t,to:n},e){return new Array(D.lengthBetween(t,n)+1).fill(0).reduce((i,o,a)=>[...i,[t.append({day:a}),Math.max((a?i[a-1][1]:e)+Math.random()*10-5,0)]],[]).filter(([i])=>i.dayOfWeek()<5)}random(t){return[this.generateRandomData(t,100)]}onlyMondays(t){return t.filter(n=>!n.dayOfWeek()).map(String)}even(t){return t.filter((n,e)=>!(e%2))}};Fe.\u0275fac=function(n){return new(n||Fe)},Fe.\u0275prov=A({token:Fe,factory:Fe.\u0275fac,providedIn:"root"});var Di=Fe;function Ta(r,t){r&1&&(l(0,"span",8)(1,"small",9),p(2,"Electricity bills"),c()())}function Ma(r,t){if(r&1&&(v(0,"tui-line-days-chart",13),M(1,"tuiFilter")),r&2){let n=t.$implicit,e=m(3);u("height",200)("value",Ce(1,2,n,e.filter,e.range))}}function wa(r,t){if(r&1&&(_e(0),C(1,Ma,2,6,"tui-line-days-chart",12),ve()),r&2){let n=m(2);s(),u("ngForOf",n.days)}}function Da(r,t){if(r&1&&(v(0,"tui-line-chart",14),M(1,"tuiFilter"),M(2,"tuiMapper")),r&2){let n=t.$implicit,e=m(3);u("height",200)("value",Ce(2,7,Ce(1,3,n,e.filter,e.range),e.toNumbers,e.range))("width",e.getWidth(e.range))}}function Ia(r,t){if(r&1&&te(0,Da,3,11,"tui-line-chart",14,Ri),r&2){let n=m(2);ie(n.days)}}function ka(r,t){if(r&1&&(l(0,"tui-axes",10),C(1,wa,2,1,"ng-container",11)(2,Ia,2,0,"ng-template",null,1,N),c()),r&2){let n=t.ngIf,e=k(3),i=m(),o=k(10);u("axisXLabels",n)("horizontalLines",4)("tuiLineChartHint",o)("verticalLines",n.length),s(),u("ngIf",i.getWidth(i.show)>90)("ngIfElse",e)}}function Sa(r,t){if(r&1&&(l(0,"div",8)(1,"span",16),p(2),c()()),r&2){let n=t.$implicit;s(2),T("$",n[1].toFixed(0),"")}}function Oa(r,t){if(r&1&&(l(0,"div",15)(1,"strong"),p(2),c()(),l(3,"div"),te(4,Sa,3,1,"div",8,Ri),c()),r&2){let n=t.$implicit,e=m();s(2),ue(e.getDate(n[0][0],e.range.from)),s(2),ie(n)}}var ot=class ot{constructor(){this.electricityService=g(Di);this.months$=g(zn);this.show=new q(D.currentLocal(),D.currentLocal().append({month:4}));this.days=this.electricityService.random(this.show);this.maxLength={month:4};this.filter=([t],{from:n,to:e})=>t.daySameOrAfter(n)&&t.daySameOrBefore(e);this.toNumbers=(t,{from:n})=>t.map(([e,i])=>[D.lengthBetween(n,e),i])}get range(){return this.computeRange(this.show)}getWidth({from:t,to:n}){return D.lengthBetween(t,n)}getDate(t,n){return t instanceof D?t:n.append({day:t})}labels({from:t,to:n}){let e=D.lengthBetween(t,n);if(e>90)return this.months$.pipe(J(d=>Array.from({length:X.lengthBetween(t,n)+1},(y,P)=>d[t.append({month:P}).month])));let i=Array.from({length:e},(d,y)=>t.append({day:y})),o=this.electricityService.onlyMondays(i),a=i.map(String);return e>60?mt(this.electricityService.even(o)):e>14?mt(o):e>7?mt(this.electricityService.even(a)):mt(a)}onDataChange(t){this.days=this.electricityService.random(t)}computeRange(t){let{from:n,to:e}=t,i=D.lengthBetween(n,e),o=n.dayOfWeek(),a=e.dayOfWeek(),d=o?n.append({day:7-o}):n,y=a?e.append({day:7-a}):e,P=D.lengthBetween(d,y);return i>90?t:i>60?new q(d,y.append({day:P%14})):i>14?new q(d,y):new q(n,e.append({day:i%2}))}};ot.\u0275fac=function(n){return new(n||ot)},ot.\u0275cmp=x({type:ot,selectors:[["lmb-electricity"]],decls:11,vars:6,consts:[["hint",""],["line",""],["tuiAppearance","whiteblock","tuiCardLarge","normal",1,"card"],[1,"controls"],[3,"ngModelChange","maxLength","ngModel"],[1,"legend","tui-space_top-0"],["class","item",4,"ngFor","ngForOf"],["class","axes",3,"axisXLabels","horizontalLines","tuiLineChartHint","verticalLines",4,"ngIf"],[1,"item"],[1,"name"],[1,"axes",3,"axisXLabels","horizontalLines","tuiLineChartHint","verticalLines"],[4,"ngIf","ngIfElse"],["class","chart",3,"height","value",4,"ngFor","ngForOf"],[1,"chart",3,"height","value"],[1,"chart",3,"height","value","width"],[1,"tui-space_bottom-2"],[1,"value"]],template:function(n,e){if(n&1){let i=I();l(0,"div",2)(1,"p",3)(2,"tui-input-date-range",4),Y("ngModelChange",function(a){return h(i),j(e.show,a)||(e.show=a),f(a)}),b("ngModelChange",function(a){return h(i),f(e.onDataChange(a))}),p(3," Data "),c()(),l(4,"div")(5,"p",5),C(6,Ta,3,0,"span",6),c(),C(7,ka,4,6,"tui-axes",7),M(8,"async"),c(),C(9,Oa,6,1,"ng-template",null,0,N),c()}n&2&&(s(2),u("maxLength",e.maxLength),U("ngModel",e.show),s(4),u("ngForOf",e.days),s(),u("ngIf",V(8,4,e.labels(e.show))))},dependencies:[W,S,R,K,Z,G,me,O,di,F,Oo,jo,No,Bo,vt,Ji,qi,Qe],styles:['.card[_ngcontent-%COMP%]{background-color:var(--tui-background-base);block-size:100%}.axes[_ngcontent-%COMP%]{block-size:12.5rem}.controls[_ngcontent-%COMP%]{display:flex}.controls[_ngcontent-%COMP%]   tui-input-date-range[_ngcontent-%COMP%]{flex:1}.legend[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.item[_ngcontent-%COMP%]{color:var(--tui-background-accent-1);display:flex;align-items:center;margin:0 .75rem}.item[_ngcontent-%COMP%]:before{content:"";border-bottom:.125rem solid;inline-size:1rem;margin-right:.5rem}.name[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.value[_ngcontent-%COMP%]{color:var(--tui-background-base)}.chart[_ngcontent-%COMP%]{color:var(--tui-background-accent-1);position:absolute;top:0;left:0;inline-size:100%;block-size:100%}'],changeDetection:0});var Ii=ot;var Pa=[{room:"Kitchen",state:!0},{room:"Bedroom",state:!1},{room:"Bathroom",state:!0}],ze=class ze{constructor(){this.lightingData=Pa}};ze.\u0275fac=function(n){return new(n||ze)},ze.\u0275prov=A({token:ze,factory:ze.\u0275fac,providedIn:"root"});var ki=ze;var Aa=r=>({checked:r}),Ea=r=>({hidden:r});function Fa(r,t){if(r&1&&(l(0,"label",5)(1,"div",6),v(2,"input",7),p(3),c(),v(4,"tui-icon",8),c()),r&2){let n=t.$implicit,e=t.index,i=m();u("ngClass",Q(8,Aa,n.value)),s(2),_("display","none"),u("formControl",n),s(),T(" ",i.lightingService[e].room," "),s(),_("color","var(--tui-chart-categorical-12)"),u("ngClass",Q(10,Ea,!n.value))}}var rt=class rt{constructor(){this.lightingService=g(ki).lightingData;this.lightingForm=new je(this.lightingService.map(t=>new De(t.state)))}};rt.\u0275fac=function(n){return new(n||rt)},rt.\u0275cmp=x({type:rt,selectors:[["lmb-lighting"]],decls:6,vars:4,consts:[["tuiAppearance","whiteblock","tuiCardLarge","normal",1,"card"],["tuiHeader",""],["tuiTitle",""],["orientation","vertical","tuiGroup","",3,"collapsed"],["tuiBlock","",3,"ngClass",4,"ngFor","ngForOf"],["tuiBlock","",3,"ngClass"],[1,"title-room"],["tuiCheckbox","","type","checkbox",3,"formControl"],["alt","","icon","@tui.lightbulb",1,"light-svg",3,"ngClass"]],template:function(n,e){n&1&&(l(0,"div",0)(1,"header",1)(2,"h2",2),p(3," Lighting "),c()(),l(4,"form",3),C(5,Fa,5,12,"label",4),c()()),n&2&&(s(2),_("text-align","center"),s(2),u("collapsed",!0),s(),u("ngForOf",e.lightingForm.controls))},dependencies:[S,_n,R,Z,St,It,G,kt,Mn,be,Be,O,Zt,F,Xt,jt,E,Hn],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.625rem;flex-shrink:0;text-align:center;block-size:100%;background-color:var(--tui-background-base)}.light-svg[_ngcontent-%COMP%]{inline-size:1.875rem;block-size:1.875rem;margin-left:auto}.title-room[_ngcontent-%COMP%]{display:flex;block-size:1.875rem;align-items:center}.checked[_ngcontent-%COMP%]{background-color:var(--tui-status-warning-pale)}.hidden[_ngcontent-%COMP%]{display:none}.card[tuiCardLarge][_ngcontent-%COMP%]   form[_ngcontent-%COMP%]:last-child{margin-top:0}"],changeDetection:0});var Si=rt;var za=[{name:"Against All Odds",logo:"./music/against.jpg",performer:"Tiko Tiko",src:"./music/AgainstAllOdds.mp3",length:208},{name:"Howling at the Moon",logo:"./music/howling.avif",performer:"D Fine Us",src:"./music/HowlingAtTheMoon.mp3",length:195}],Ve=class Ve{constructor(){this.tracks=za}};Ve.\u0275fac=function(n){return new(n||Ve)},Ve.\u0275prov=A({token:Ve,factory:Ve.\u0275fac,providedIn:"root"});var Oi=Ve;function en(r){return Math.floor(Math.random()*r)}var at=class at{constructor(){this.tracks=g(Oi).tracks;this.activeIndex=0;this.time=0;this.volume=1;this.repeat=!1;this.shuffle=!1;this.paused=!0}nextTrack(t){this.time=0,!this.repeat&&(this.activeIndex=this.shuffle?en(this.tracks.length):(this.activeIndex+1)%this.tracks.length,setTimeout(()=>Vi(this,null,function*(){return t.play()}),1))}previousTrack(t){if(this.time=0,this.repeat)return;let n=this.activeIndex-1<0?this.tracks.length-1:this.activeIndex-1;this.activeIndex=this.shuffle?en(this.tracks.length):n,setTimeout(()=>Vi(this,null,function*(){return t.play()}),1)}getMinutes(t){return(t/60<=9?"0":"")+Math.trunc(t/60).toString()}getSeconds(t){return t=Math.trunc(t),(t%60<=9?"0":"")+(t%60).toString()}};at.\u0275fac=function(n){return new(n||at)},at.\u0275cmp=x({type:at,selectors:[["lmb-music"]],decls:35,vars:23,consts:[["audio",""],["tuiAppearance","whiteblock","tuiCardLarge","normal",1,"card"],["tuiHeader",""],["tuiTitle",""],[1,"info"],["alt","logo","height","144","width","144",1,"logo",3,"ngSrc"],[1,"tui-space_top-4","tui-space_bottom-2"],[1,"tui-space_top-0","tui-space_bottom-0"],["tuiMedia","",3,"currentTimeChange","pausedChange","volumeChange","ended","src","currentTime","paused","volume"],["size","m","tuiSlider","","type","range",3,"ngModelChange","max","ngModel"],[1,"duration"],[1,"buttons"],["appearance","icon","iconStart","@tui.shuffle","tuiIconButton","","type","button",3,"click","tuiAppearanceState"],["appearance","icon","iconStart","@tui.skip-back","tuiIconButton","","type","button",3,"click"],["appearance","icon","tuiIconButton","","type","button",3,"click","iconStart"],["appearance","icon","iconStart","@tui.skip-forward","tuiIconButton","","type","button",3,"click"],["appearance","icon","iconStart","@tui.repeat","tuiIconButton","","type","button",3,"click","tuiAppearanceState"],[1,"volume"],["icon","@tui.volume-1"],["max","1","size","m","step","0.01","tuiSlider","","type","range",3,"ngModelChange","ngModel"],["icon","@tui.volume-2"]],template:function(n,e){if(n&1){let i=I();l(0,"div",1)(1,"header",2)(2,"h2",3),p(3," Music "),c()(),l(4,"div",4),v(5,"img",5),l(6,"h2",6),p(7),c(),l(8,"p",7),p(9),c()(),l(10,"audio",8,0),Y("currentTimeChange",function(a){return h(i),j(e.time,a)||(e.time=a),f(a)})("pausedChange",function(a){return h(i),j(e.paused,a)||(e.paused=a),f(a)})("volumeChange",function(a){return h(i),j(e.volume,a)||(e.volume=a),f(a)}),b("ended",function(){h(i);let a=k(11);return f(e.nextTrack(a))}),c(),l(12,"div")(13,"input",9),Y("ngModelChange",function(a){return h(i),j(e.time,a)||(e.time=a),f(a)}),c(),l(14,"div",10)(15,"p",7),p(16),c(),l(17,"p",7),p(18),c()()(),l(19,"div",11)(20,"button",12),b("click",function(){return h(i),f(e.shuffle=!e.shuffle)}),p(21," Shuffle "),c(),l(22,"button",13),b("click",function(){h(i);let a=k(11);return f(e.previousTrack(a))}),p(23," Previous "),c(),l(24,"button",14),b("click",function(){return h(i),f(e.paused=!e.paused)}),p(25," Pause "),c(),l(26,"button",15),b("click",function(){h(i);let a=k(11);return f(e.nextTrack(a))}),p(27," Next "),c(),l(28,"button",16),b("click",function(){return h(i),f(e.repeat=!e.repeat)}),p(29," Repeat "),c()(),v(30,"hr"),l(31,"div",17),v(32,"tui-icon",18),l(33,"input",19),Y("ngModelChange",function(a){return h(i),j(e.volume,a)||(e.volume=a),f(a)}),c(),v(34,"tui-icon",20),c()()}if(n&2){let i=k(11);s(2),_("text-align","center"),s(3),u("ngSrc",e.tracks[e.activeIndex].logo),s(2),T(" ",e.tracks[e.activeIndex].name," "),s(),_("color","var(--tui-text-primary)"),s(),T(" ",e.tracks[e.activeIndex].performer," "),s(),u("src",e.tracks[e.activeIndex].src,mn),U("currentTime",e.time)("paused",e.paused)("volume",e.volume),s(3),u("max",i.duration),U("ngModel",e.time),s(3),pt("",e.getMinutes(e.time),":",e.getSeconds(e.time),""),s(2),pt(" ",e.getMinutes(e.tracks[e.activeIndex].length),":",e.getSeconds(e.tracks[e.activeIndex].length)," "),s(2),u("tuiAppearanceState",e.shuffle?"active":null),s(4),u("iconStart",e.paused?"@tui.circle-play":"@tui.circle-stop"),s(4),u("tuiAppearanceState",e.repeat?"active":null),s(5),_("color","var(--tui-status-info)"),U("ngModel",e.volume)}},dependencies:[S,Z,xn,wn,G,me,yn,be,O,Ue,F,E,So,Xi],styles:[".card[_ngcontent-%COMP%]{block-size:100%}.duration[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:var(--tui-text-primary)}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around}.volume[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.info[_ngcontent-%COMP%]{display:flex;margin-top:1rem;flex-direction:column;align-items:center}.logo[_ngcontent-%COMP%]{border-radius:.5rem;inline-size:9rem;block-size:9rem}"],changeDetection:0});var Pi=at;var Va=[{name:"Alarm system",state:!0},{name:"Close the curtains",state:!1},{name:"Video monitoring",state:!0},{name:"Enable gas sensor notification",state:!1}],Le=class Le{constructor(){this.safetyData=Va}};Le.\u0275fac=function(n){return new(n||Le)},Le.\u0275prov=A({token:Le,factory:Le.\u0275fac,providedIn:"root"});var Ai=Le;function La(r,t){if(r&1&&(l(0,"label",5),p(1),v(2,"input",6),c()),r&2){let n=t.$implicit,e=t.index,i=m();s(),T(" ",i.safetyService[e].name," "),s(),_("margin-left","auto"),u("formControl",n)}}var st=class st{constructor(){this.safetyService=g(Ai).safetyData;this.safetyForm=new je(this.safetyService.map(t=>new De(t.state)))}};st.\u0275fac=function(n){return new(n||st)},st.\u0275cmp=x({type:st,selectors:[["lmb-safety"]],decls:6,vars:4,consts:[["tuiAppearance","whiteblock","tuiCardLarge","normal",1,"card"],["tuiHeader",""],["tuiTitle",""],["orientation","vertical","tuiGroup","",3,"collapsed"],["tuiBlock","",4,"ngFor","ngForOf"],["tuiBlock",""],["tuiCheckbox","","type","checkbox",3,"formControl"]],template:function(n,e){n&1&&(l(0,"div",0)(1,"header",1)(2,"h2",2),p(3," Safety "),c()(),l(4,"form",3),C(5,La,3,4,"label",4),c()()),n&2&&(s(2),_("text-align","center"),s(2),u("collapsed",!0),s(),u("ngForOf",e.safetyForm.controls))},dependencies:[S,R,be,St,It,G,kt,Be,O,Zt,F,Xt,jt],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.625rem;block-size:100%;background-color:var(--tui-background-base)}.card[tuiCardLarge][_ngcontent-%COMP%]   form[_ngcontent-%COMP%]:last-child{margin-top:0}"],changeDetection:0});var Ei=st;var Ko=[1003,1006,1030,1087,1135],Go=[1009,1063,1180,1183,1186,1189,1192,1195,1198,1201,1204,1240,1243,1246,1249,1252,1276],Zo=[1066,1069,1072,1114,1117,1147,1168,1171,1204,1210,1213,1216,1219,1222,1225,1237,1255,1258,1261,1264,1273,1279,1282],Xo=["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"],qo=new ln("",{factory:()=>"1df6860ee44f43d693d113704242207"});var He=class He{constructor(){this.http=g(Cn);this.KEY=g(qo)}getWeather(){return this.http.get("https://api.weatherapi.com/v1/forecast.json",{params:{key:this.KEY,q:"London",api:"yes",days:"3"}})}};He.\u0275fac=function(n){return new(n||He)},He.\u0275prov=A({token:He,factory:He.\u0275fac,providedIn:"root"});var Fi=He;function Ha(r,t){if(r&1&&(l(0,"div",15),v(1,"tui-icon",16),l(2,"div",5)(3,"p",9),p(4),c(),l(5,"p",9),p(6),c()()()),r&2){let n=t.$index;m();let e=Wi(1),i=m();s(),u("icon",i.getSmallImage(e[n].day.condition.code)),s(),_("align-items","center"),s(),_("font-weight","600"),s(),T(" ",i.getWeekDay(e[n].date)," "),s(2),pt(" ",e[n].day.mintemp_c,"\xB0/",e[n].day.maxtemp_c,"\xB0 ")}}function Ra(r,t){if(r&1&&(Bi(0)(1),l(2,"div",1)(3,"header",2)(4,"h2",3),p(5," Weather "),c()(),l(6,"div",4)(7,"div",5)(8,"h2",6),p(9),c(),l(10,"h1",7),p(11),c(),l(12,"div",8)(13,"p",9)(14,"span"),p(15),c(),p(16," \xB0/ "),l(17,"span"),p(18),c(),p(19," \xB0 "),c(),l(20,"div",10),v(21,"tui-icon",11),p(22),c(),l(23,"div",10),v(24,"tui-icon",12),p(25),c()(),l(26,"p",13),p(27),c()()(),l(28,"div",14),te(29,Ha,7,8,"div",15,fe),c()()),r&2){let n=m(),e=Wi(0),i=e.current;s();let o=ji(e.forecast.forecastday);s(),_("background-image",n.getImage(i.condition.code)),s(2),_("color","var(--tui-text-primary-on-accent-1)")("text-align","center"),s(5),T(" ",e.location.name," "),s(2),T("",i.temp_c,"\xB0"),s(2),_("display","flex"),s(),_("font-weight","600"),s(),ue(i.dewpoint_c),s(2),_("font-weight","600"),s(),ue(i.heatindex_c),s(4),T(" ",i.wind_kph,"km/h "),s(3),T(" ",i.humidity,"% "),s(2),T(" ",i.condition.text," "),s(2),ie(o)}}var lt=class lt{constructor(){this.weatherService=g(Fi);this.info$=this.weatherService.getWeather()}getWeekDay(t){let n=t.split("-"),e=new Date(parseInt(n[0],10),parseInt(n[1],10)-1,parseInt(n[2],10));return Xo[e.getDay()]}getTypeOfWeather(t){return Ko.includes(t)?"clouds":Go.includes(t)?"rain":Zo.includes(t)?"snow":"sun"}getSmallImage(t){let n=this.getTypeOfWeather(t);return n==="snow"?"@tui.snowflake":n==="rain"?"@tui.droplet":n==="clouds"?"@tui.cloud":"@tui.sun"}getImage(t){return`url(./weather/${this.getTypeOfWeather(t)}.jpg)`}};lt.\u0275fac=function(n){return new(n||lt)},lt.\u0275cmp=x({type:lt,selectors:[["lmb-weather"]],decls:3,vars:4,consts:[["tuiAppearance","whiteblock","tuiCardLarge","normal",1,"card",3,"background-image"],["tuiAppearance","whiteblock","tuiCardLarge","normal",1,"card"],["tuiHeader",""],["tuiTitle",""],[1,"info"],[1,"left-side"],["tuiTitle","",1,"tui-text_body-m"],[1,"tui-space_top-3","tui-space_bottom-3"],[1,"description"],[1,"tui-space_top-0","tui-space_bottom-0"],[1,"indicator"],["icon","@tui.wind"],["icon","@tui.droplets"],[1,"tui-space_top-0","tui-space_bottom-0","tui-text_body-s"],[1,"list-days"],[1,"card-small"],[1,"card-icon",3,"icon"]],template:function(n,e){if(n&1&&(Bi(0),M(1,"async"),C(2,Ra,31,20,"div",0)),n&2){let i=ji(V(1,1,e.info$));s(2),wt(i?2:-1)}},dependencies:[W,S,O,F,E],styles:[".indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.1rem}.card[_ngcontent-%COMP%]{background-position:center;overflow:hidden;box-shadow:inset 0 10rem 10rem 10rem #00000086;color:var(--tui-text-primary-on-accent-1)}.info[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.left-side[_ngcontent-%COMP%]{display:flex;flex-direction:column}.description[_ngcontent-%COMP%]{display:flex;gap:.625rem}.list-days[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap}.card-small[_ngcontent-%COMP%]{display:flex;align-items:center}.card-icon[_ngcontent-%COMP%]{inline-size:2rem;block-size:2rem}"],changeDetection:0});var zi=lt;var ct=class ct{};ct.\u0275fac=function(n){return new(n||ct)},ct.\u0275cmp=x({type:ct,selectors:[["app-iot"]],decls:25,vars:2,consts:[["tuiNavigationNav",""],["routerLink","/dashboards"],["icon","@tui.chevron-left"],["tuiNavigationLogo",""],["tuiFade",""],[1,"tiles"],[1,"top"],[1,"under-top"],[1,"bottom"],[1,"control"],[1,"middle"],[1,"column"],[1,"grow"]],template:function(n,e){n&1&&(l(0,"nav",0)(1,"a",1),v(2,"tui-icon",2),p(3," Back "),c(),p(4," / "),l(5,"span",3)(6,"span",4),p(7,"IoT"),c()(),v(8,"hr"),c(),l(9,"div",5),v(10,"lmb-small-card"),l(11,"div",6),v(12,"lmb-electricity"),l(13,"div",7),v(14,"lmb-contacts")(15,"lmb-cleaning"),c()(),l(16,"div",8),v(17,"lmb-safety")(18,"lmb-cost")(19,"lmb-climate-control",9),c(),l(20,"div",10)(21,"div",11),v(22,"lmb-lighting",12)(23,"lmb-weather",12),c(),v(24,"lmb-music"),c()()),n&2&&_("position","sticky")},dependencies:[_i,yi,S,bi,Ti,wi,Ii,Si,Pi,bn,Ei,E,fo,_o,zi],styles:[".tiles[_ngcontent-%COMP%]{gap:1rem;padding-top:1.25rem}.top[_ngcontent-%COMP%]{display:grid;padding-top:1.25rem;grid-template-columns:19fr 20fr;gap:1rem}@media (max-width: 1100px){.top[_ngcontent-%COMP%]{grid-template-columns:20fr}}.under-top[_ngcontent-%COMP%]{display:grid;grid-template-columns:11fr 9fr;gap:1rem;min-block-size:25rem}@media (max-width: 580px){.under-top[_ngcontent-%COMP%]{display:flex;flex-direction:column}}.middle[_ngcontent-%COMP%]{display:grid;padding-top:1.25rem;grid-template-columns:9fr 15fr;gap:1rem}@media (max-width: 920px){.middle[_ngcontent-%COMP%]{grid-template-columns:1fr}}.bottom[_ngcontent-%COMP%]{display:grid;padding-top:1.25rem;grid-template-columns:8fr 15fr 8fr;gap:1rem}@media (max-width: 950px){.bottom[_ngcontent-%COMP%]{grid-template-columns:8fr 15fr}}@media (max-width: 750px){.bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column}}.grow[_ngcontent-%COMP%]{inline-size:100%}.column[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:space-between;flex-direction:column}@media (max-width: 920px){.column[_ngcontent-%COMP%]{flex-direction:row}}@media (max-width: 750px){.column[_ngcontent-%COMP%]{flex-direction:column}}"],changeDetection:0});var Jo=ct;export{Jo as IotComponent};
